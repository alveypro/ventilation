var e,t,n,i,r,a,s,o,c,l,h,d,u,p,f,g,m,b,y,v,x,w,_,D,A,T,U,E,k,C,S,F,M,W,I,P,R,B,N,O,L,j,z,H,q,V,$,G,X,Y,K,Z,Q,J,ee,te,ne,ie,re,ae,se,oe,ce,le,he,de,ue,pe,fe,ge,me,be,ye,ve,xe,we,_e,De,Ae,Te,Ue,Ee,ke,Ce,Se,Fe,Me,We,Ie,Pe,Re,Be,Ne,Oe,Le,je,ze,He,qe,Ve,$e,Ge,Xe,Ye,Ke,Ze,Qe,Je,et,tt,nt,it,rt,at,st,ot,ct,lt,ht,dt,ut,pt,ft,gt,mt,bt,yt,vt,xt,wt,_t,Dt,At,Tt,Ut,Et,kt,Ct,St,Ft,Mt,Wt,It,Pt,Rt,Bt,Nt,Ot,Lt,jt,zt,Ht,qt,Vt,$t,Gt,Xt,Yt,Kt,Zt,Qt,Jt,en,tn,nn,rn,an,sn,on,cn,ln,hn,dn,un,pn,fn,gn,mn,bn,yn,vn,xn,wn,_n,Dn,An,Tn,Un,En,kn,Cn,Sn,Fn,Mn,Wn,In,Pn,Rn,Bn,Nn,On,Ln,jn,zn,Hn,qn,Vn,$n,Gn,Xn,Yn,Kn,Zn,Qn,Jn,ei,ti,ni,ii,ri,ai,si,oi,ci,li,hi,di,ui,pi,fi,gi,mi,bi,yi,vi,xi,wi,_i,Di,Ai,Ti,Ui,Ei,ki,Ci,Si,Fi,Mi,Wi,Ii,Pi,Ri,Bi,Ni,Oi,Li,ji,zi,Hi,qi,Vi,$i,Gi,Xi,Yi,Ki,Zi,Qi,Ji,er,tr,nr,ir,rr,ar,sr,or,cr,lr,hr,dr,ur,pr,fr,gr,mr,br,yr,vr,xr,wr,_r,Dr,Ar,Tr,Ur,Er,kr,Cr,Sr,Fr,Mr,Wr,Ir,Pr,Rr,Br,Nr,Or,Lr,jr,zr,Hr,qr,Vr,$r,Gr,Xr,Yr,Kr,Zr,Qr,Jr,ea,ta,na,ia,ra,aa,sa,oa,ca,la,ha,da,ua,pa,fa,ga,ma,ba,ya,va,xa,wa,_a,Da,Aa,Ta,Ua,Ea,ka,Ca,Sa,Fa,Ma,Wa,Ia,Pa,Ra,Ba,Na,Oa,La,ja,za,Ha,qa,Va,$a,Ga,Xa,Ya,Ka,Za,Qa,Ja,es,ts,ns,is,rs,as,ss,os,cs,ls,hs,ds,us,ps,fs,gs,ms,bs,ys,vs,xs,ws,_s,Ds,As,Ts,Us,Es,ks,Cs,Ss,Fs,Ms,Ws,Is,Ps,Rs,Bs,Ns,Os,Ls,js,zs,Hs,qs,Vs,$s,Gs,Xs,Ys,Ks,Zs,Qs,Js,eo,to,no,io,ro,ao,so,oo,co,lo,ho,uo,po,fo,go,mo,bo,yo,vo,xo,wo,_o,Do,Ao,To,Uo,Eo,ko,Co,So,Fo,Mo,Wo,Io,Po,Ro,Bo,No,Oo,Lo,jo,zo,Ho,qo,Vo,$o,Go,Xo,Yo,Ko,Zo,Qo,Jo,ec,tc,nc,ic,rc,ac,sc,oc,cc,lc,hc,dc,uc,pc,fc,gc,mc,bc,yc,vc,xc,wc,_c,Dc,Ac,Tc,Uc,Ec,kc,Cc,Sc,Fc,Mc,Wc,Ic,Pc,Rc,Bc,Nc,Oc,Lc,jc,zc,Hc,qc,Vc,$c,Gc,Xc,Yc,Kc,Zc,Qc,Jc,el,tl,nl,il,rl,al,sl,ol,cl,ll,hl,dl,ul,pl,fl,gl,ml,bl,yl,vl,xl,wl,_l,Dl,Al,Tl,Ul,El,kl,Cl,Sl,Fl,Ml,Wl,Il,Pl,Rl,Bl,Nl,Ol,Ll,jl,zl,Hl,ql,Vl,$l,Gl,Xl,Yl,Kl,Zl,Ql,Jl,eh,th,nh,ih,rh,ah,sh,oh,ch,lh,hh,dh,uh,ph,fh,gh,mh,bh,yh,vh,xh,wh,_h,Dh,Ah,Th,Uh,Eh,kh,Ch,Sh,Fh,Mh,Wh,Ih,Ph,Rh,Bh,Nh,Oh,Lh,jh,zh,Hh,qh,Vh,$h,Gh,Xh,Yh,Kh,Zh,Qh,Jh,ed,td,nd,id,rd,ad,sd,od,cd,ld,hd,dd,ud,pd,fd,gd,md,bd,yd,vd,xd,wd,_d,Dd,Ad,Td,Ud,Ed,kd,Cd,Sd,Fd,Md,Wd,Id,Pd,Rd,Bd,Nd,Od,Ld,jd,zd,Hd,qd,Vd,$d,Gd,Xd,Yd,Kd=Object.defineProperty,Zd=e=>{throw TypeError(e)},Qd=(e,t,n)=>((e,t,n)=>t in e?Kd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),Jd=(e,t,n)=>t.has(e)||Zd("Cannot "+n),eu=(e,t,n)=>(Jd(e,t,"read from private field"),n?n.call(e):t.get(e)),tu=(e,t,n)=>t.has(e)?Zd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),nu=(e,t,n,i)=>(Jd(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),iu=(e,t,n)=>(Jd(e,t,"access private method"),n),ru=(e,t,n,i)=>({set _(i){nu(e,t,i,n)},get _(){return eu(e,t,i)}});import{a as au,_ as su}from"./index-uDOMh21w.js";import{p as ou}from"./public-user-library-BzewmXVh.js";import{c as cu}from"./clinical-handbook-BMS4044B.js";import{J as lu,K as hu,L as du,d as uu,r as pu,c as fu,w as gu,C as mu,M as bu,l as yu,f as vu,q as xu,g as wu,k as _u,x as Du,t as Au,D as Tu,y as Uu,F as Eu,v as ku,H as Cu,j as Su,n as Fu,I as Mu}from"./element-0EaUjS1Y.js";const Wu="https://ai.airivo.cn".replace(/\/$/,""),Iu=Wu?`${Wu}/api/ai/chat`:"",Pu="docs",Ru=()=>new Promise((e,t)=>{const n=indexedDB.open("airivo-ai-docs",1);n.onupgradeneeded=()=>{const e=n.result;e.objectStoreNames.contains(Pu)||e.createObjectStore(Pu,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)}),Bu=async()=>{const e=await Ru();return new Promise((t,n)=>{const i=e.transaction(Pu,"readonly").objectStore(Pu).getAll();i.onsuccess=()=>t(i.result),i.onerror=()=>n(i.error)})},Nu=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type),Ou=[.001,0,0,.001,0,0],Lu=1.35,ju=1,zu=2,Hu=4,qu=16,Vu=32,$u=64,Gu=128,Xu=256,Yu={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ku="pdfjs_internal_editor_",Zu={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Qu={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Ju=1,ep=2,tp=0,np=1,ip=2,rp=3,ap=3,sp=4,op={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},cp={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},lp=1,hp=2,dp=3,up=4,pp=5,fp={ERRORS:0,WARNINGS:1,INFOS:5},gp={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},mp=0,bp=1,yp=2,vp=3,xp=4;let wp=fp.WARNINGS;function _p(){return wp}function Dp(e){wp>=fp.INFOS&&console.info(`Info: ${e}`)}function Ap(e){wp>=fp.WARNINGS&&console.warn(`Warning: ${e}`)}function Tp(e){throw new Error(e)}function Up(e,t){e||Tp(t)}function Ep(e,t=null,n=null){if(!e)return null;if(n&&"string"==typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null==t?void 0:t.length)>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch{}}const i=t?URL.parse(e,t):URL.parse(e);return function(e){switch(null==e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i)?i:null}function kp(e,t,n=!1){const i=URL.parse(e);return i?(i.hash=t,i.href):n&&Ep(e,"http://example.com")?e.split("#",1)[0]+""+(t?`#${t}`:""):""}function Cp(e,t,n,i=!1){return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const Sp=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class Fp extends Sp{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Mp extends Sp{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Wp extends Sp{constructor(e){super(e,"InvalidPDFException")}}class Ip extends Sp{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class Pp extends Sp{constructor(e){super(e,"FormatError")}}class Rp extends Sp{constructor(e){super(e,"AbortException")}}function Bp(e){"object"==typeof e&&void 0!==(null==e?void 0:e.length)||Tp("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let r=0;r<t;r+=n){const a=Math.min(r+n,t),s=e.subarray(r,a);i.push(String.fromCharCode.apply(null,s))}return i.join("")}function Np(e){"string"!=typeof e&&Tp("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}class Op{static get isLittleEndian(){return Cp(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return Cp(this,"isEvalSupported",function(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return Cp(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}static get isImageDecoderSupported(){return Cp(this,"isImageDecoderSupported","undefined"!=typeof ImageDecoder)}static get isFloat16ArraySupported(){return Cp(this,"isFloat16ArraySupported","undefined"!=typeof Float16Array)}static get isSanitizerSupported(){return Cp(this,"isSanitizerSupported","undefined"!=typeof Sanitizer)}static get platform(){const{platform:e,userAgent:t}=navigator;return Cp(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return Cp(this,"isCSSRoundSupported",null==(t=null==(e=globalThis.CSS)?void 0:e.supports)?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Lp=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class jp{static makeHexColor(e,t,n){return`#${Lp[e]}${Lp[t]}${Lp[n]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,n=0){const i=e[n],r=e[n+1];e[n]=i*t[0]+r*t[2]+t[4],e[n+1]=i*t[1]+r*t[3]+t[5]}static applyTransformToBezier(e,t,n=0){const i=t[0],r=t[1],a=t[2],s=t[3],o=t[4],c=t[5];for(let l=0;l<6;l+=2){const t=e[n+l],h=e[n+l+1];e[n+l]=t*i+h*a+o,e[n+l+1]=t*r+h*s+c}}static applyInverseTransform(e,t){const n=e[0],i=e[1],r=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/r,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/r}static axialAlignedBoundingBox(e,t,n){const i=t[0],r=t[1],a=t[2],s=t[3],o=t[4],c=t[5],l=e[0],h=e[1],d=e[2],u=e[3];let p=i*l+o,f=p,g=i*d+o,m=g,b=s*h+c,y=b,v=s*u+c,x=v;if(0!==r||0!==a){const e=r*l,t=r*d,n=a*h,i=a*u;p+=n,m+=n,g+=i,f+=i,b+=e,x+=e,v+=t,y+=t}n[0]=Math.min(n[0],p,g,f,m),n[1]=Math.min(n[1],b,v,y,x),n[2]=Math.max(n[2],p,g,f,m),n[3]=Math.max(n[3],b,v,y,x)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],r=e[2],a=e[3],s=n**2+i**2,o=n*r+i*a,c=r**2+a**2,l=(s+c)/2,h=Math.sqrt(l**2-(s*c-o**2));t[0]=Math.sqrt(l+h||1),t[1]=Math.sqrt(l-h||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>a?null:[n,r,i,a]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,r){r[0]=Math.min(r[0],e,n),r[1]=Math.min(r[1],t,i),r[2]=Math.max(r[2],e,n),r[3]=Math.max(r[3],t,i)}static bezierBoundingBox(t,i,r,a,s,o,c,l,h){h[0]=Math.min(h[0],t,c),h[1]=Math.min(h[1],i,l),h[2]=Math.max(h[2],t,c),h[3]=Math.max(h[3],i,l),iu(this,e,n).call(this,t,r,s,c,i,a,o,l,3*(3*(r-s)-t+c),6*(t-2*r+s),3*(r-t),h),iu(this,e,n).call(this,t,r,s,c,i,a,o,l,3*(3*(a-o)-i+l),6*(i-2*a+o),3*(a-i),h)}}e=new WeakSet,t=function(e,t,n,i,r,a,s,o,c,l){if(c<=0||c>=1)return;const h=1-c,d=c*c,u=d*c,p=h*(h*(h*e+3*c*t)+3*d*n)+u*i,f=h*(h*(h*r+3*c*a)+3*d*s)+u*o;l[0]=Math.min(l[0],p),l[1]=Math.min(l[1],f),l[2]=Math.max(l[2],p),l[3]=Math.max(l[3],f)},n=function(n,i,r,a,s,o,c,l,h,d,u,p){if(Math.abs(h)<1e-12)return void(Math.abs(d)>=1e-12&&iu(this,e,t).call(this,n,i,r,a,s,o,c,l,-u/d,p));const f=d**2-4*u*h;if(f<0)return;const g=Math.sqrt(f),m=2*h;iu(this,e,t).call(this,n,i,r,a,s,o,c,l,(-d+g)/m,p),iu(this,e,t).call(this,n,i,r,a,s,o,c,l,(-d-g)/m,p)},tu(jp,e);let zp=null,Hp=null;function qp(){if("function"==typeof crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),Bp(e)}const Vp="pdfjs_internal_id_";function $p(e,t,n){return Math.min(Math.max(e,t),n)}function Gp(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(Bp(e))}"function"!=typeof Promise.try&&(Promise.try=function(e,...t){return new Promise(n=>{n(e(...t))})}),"function"!=typeof Math.sumPrecise&&(Math.sumPrecise=function(e){return e.reduce((e,t)=>e+t,0)});class Xp{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){var i;if(!n)return;let r=null;const a=n.name;if("#text"===a)r=n.value;else{if(!Xp.shouldBuildText(a))return;(null==(i=null==n?void 0:n.attributes)?void 0:i.textContent)?r=n.attributes.textContent:n.value&&(r=n.value)}if(null!==r&&t.push({str:r}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}class Yp{static setupStorage(e,t,n,i,r){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==a.value&&(e.textContent=a.value),"print"===r)break;e.addEventListener("input",e=>{i.setValue(t,{value:e.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===r)break;e.addEventListener("change",e=>{i.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==a.value&&e.setAttribute("value",a.value),"print"===r)break;e.addEventListener("input",e=>{i.setValue(t,{value:e.target.value})})}break;case"select":if(null!==a.value){e.setAttribute("value",a.value);for(const e of n.children)e.attributes.value===a.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",e=>{const n=e.target.options,r=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(t,{value:r})})}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:r}){const{attributes:a}=t,s=e instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${i}`);for(const[o,c]of Object.entries(a))if(null!=c)switch(o){case"class":c.length&&e.setAttribute(o,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!s||"href"!==o&&"newWindow"!==o)&&e.setAttribute(o,c)}s&&r.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){var t,n;const i=e.annotationStorage,r=e.linkService,a=e.xfaHtml,s=e.intent||"display",o=document.createElement(a.name);a.attributes&&this.setAttributes({html:o,element:a,intent:s,linkService:r});const c="richText"!==s,l=e.div;if(l.append(o),e.viewport){const t=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=t}c&&l.setAttribute("class","xfaLayer xfaFont");const h=[];if(0===a.children.length){if(a.value){const e=document.createTextNode(a.value);o.append(e),c&&Xp.shouldBuildText(a.name)&&h.push(e)}return{textDivs:h}}const d=[[a,-1,o]];for(;d.length>0;){const[e,a,o]=d.at(-1);if(a+1===e.children.length){d.pop();continue}const l=e.children[++d.at(-1)[1]];if(null===l)continue;const{name:u}=l;if("#text"===u){const e=document.createTextNode(l.value);h.push(e),o.append(e);continue}const p=(null==(t=null==l?void 0:l.attributes)?void 0:t.xmlns)?document.createElementNS(l.attributes.xmlns,u):document.createElement(u);if(o.append(p),l.attributes&&this.setAttributes({html:p,element:l,storage:i,intent:s,linkService:r}),(null==(n=l.children)?void 0:n.length)>0)d.push([l,-1,p]);else if(l.value){const e=document.createTextNode(l.value);c&&Xp.shouldBuildText(u)&&h.push(e),p.append(e)}}for(const u of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Kp="http://www.w3.org/2000/svg",Zp=class{};Qd(Zp,"CSS",96),Qd(Zp,"PDF",72),Qd(Zp,"PDF_TO_CSS_UNITS",Zp.CSS/Zp.PDF);let Qp=Zp;async function Jp(e,t="text"){if(sf(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType=t,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE)if(200!==r.status&&0!==r.status)i(new Error(r.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(r.response)}n(r.responseText)}},r.send(null)})}class ef{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:r=0,offsetY:a=0,dontFlip:s=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=r,this.offsetY=a,n*=t;const o=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let l,h,d,u,p,f,g,m;switch((i%=360)<0&&(i+=360),i){case 180:l=-1,h=0,d=0,u=1;break;case 90:l=0,h=1,d=1,u=0;break;case 270:l=0,h=-1,d=-1,u=0;break;case 0:l=1,h=0,d=0,u=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}s&&(d=-d,u=-u),0===l?(p=Math.abs(c-e[1])*n+r,f=Math.abs(o-e[0])*n+a,g=(e[3]-e[1])*n,m=(e[2]-e[0])*n):(p=Math.abs(o-e[0])*n+r,f=Math.abs(c-e[1])*n+a,g=(e[2]-e[0])*n,m=(e[3]-e[1])*n),this.transform=[l*n,h*n,d*n,u*n,p-l*n*o-d*n*c,f-h*n*o-u*n*c],this.width=g,this.height=m}get rawDims(){const e=this.viewBox;return Cp(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new ef({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){const n=[e,t];return jp.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];jp.applyTransform(t,this.transform);const n=[e[2],e[3]];return jp.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return jp.applyInverseTransform(n,this.transform),n}}class tf extends Sp{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function nf(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function rf(e){return"string"==typeof e&&/\.pdf$/i.test(e)}class af{constructor(){Qd(this,"started",Object.create(null)),Qd(this,"times",[])}time(e){e in this.started&&Ap(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ap(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:r}of this.times)e.push(`${n.padEnd(t)} ${r-i}ms\n`);return e.join("")}}function sf(e,t){const n=t?URL.parse(e,t):URL.parse(e);return"http:"===(null==n?void 0:n.protocol)||"https:"===(null==n?void 0:n.protocol)}function of(e){e.preventDefault()}function cf(e){e.preventDefault(),e.stopPropagation()}class lf{static toDateObject(e){if(e instanceof Date)return e;if(!e||"string"!=typeof e)return null;eu(this,i)||nu(this,i,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=eu(this,i).exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const l=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(s+=h,o+=d):"+"===l&&(s-=h,o-=d),new Date(Date.UTC(n,r,a,s,o,c))}}function hf(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ap(`Not a valid color format: "${e}"`),[0,0,0])}function df(e){const{a:t,b:n,c:i,d:r,e:a,f:s}=e.getTransform();return[t,n,i,r,a,s]}function uf(e){const{a:t,b:n,c:i,d:r,e:a,f:s}=e.getTransform().invertSelf();return[t,n,i,r,a,s]}function pf(e,t,n=!1,i=!0){if(t instanceof ef){const{pageWidth:i,pageHeight:r}=t.rawDims,{style:a}=e,s=Op.isCSSRoundSupported,o=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${r}px`,l=s?`round(down, ${o}, var(--scale-round-x))`:`calc(${o})`,h=s?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;n&&t.rotation%180!=0?(a.width=h,a.height=l):(a.width=l,a.height=h)}i&&e.setAttribute("data-main-rotation",t.rotation)}i=new WeakMap,tu(lf,i);class ff{constructor(){const{pixelRatio:e}=ff;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i,r=-1){let a=1/0,s=1/0,o=1/0;(n=ff.capPixels(n,r))>0&&(a=Math.sqrt(n/(e*t))),-1!==i&&(s=i/e,o=i/t);const c=Math.min(a,s,o);return(this.sx>c||this.sy>c)&&(this.sx=c,this.sy=c,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const gf=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class mf{static get isDarkMode(){var e;return Cp(this,"isDarkMode",!!(null==(e=null==window?void 0:window.matchMedia)?void 0:e.call(window,"(prefers-color-scheme: dark)").matches))}}function bf(e,t){const n=e[0]/255,i=e[1]/255,r=e[2]/255,a=Math.max(n,i,r),s=Math.min(n,i,r),o=(a+s)/2;if(a===s)t[0]=t[1]=0;else{const e=a-s;switch(t[1]=o<.5?e/(a+s):e/(2-a-s),a){case n:t[0]=60*((i-r)/e+(i<r?6:0));break;case i:t[0]=60*((r-n)/e+2);break;case r:t[0]=60*((n-i)/e+4)}}t[2]=o}function yf(e,t){const n=e[0],i=e[1],r=e[2],a=(1-Math.abs(2*r-1))*i,s=a*(1-Math.abs(n/60%2-1)),o=r-a/2;switch(Math.floor(n/60)){case 0:t[0]=a+o,t[1]=s+o,t[2]=o;break;case 1:t[0]=s+o,t[1]=a+o,t[2]=o;break;case 2:t[0]=o,t[1]=a+o,t[2]=s+o;break;case 3:t[0]=o,t[1]=s+o,t[2]=a+o;break;case 4:t[0]=s+o,t[1]=o,t[2]=a+o;break;case 5:case 6:t[0]=a+o,t[1]=o,t[2]=s+o}}function vf(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function xf(e,t,n){yf(e,n),n.map(vf);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];yf(t,n),n.map(vf);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const wf=new Map;function _f({html:e,dir:t,className:n},i){const r=document.createDocumentFragment();if("string"==typeof e){const n=document.createElement("p");n.dir=t||"auto";const i=e.split(/(?:\r\n?|\n)/);for(let e=0,t=i.length;e<t;++e){const r=i[e];n.append(document.createTextNode(r)),e<t-1&&n.append(document.createElement("br"))}r.append(n)}else Yp.render({xfaHtml:e,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",n),i.append(r)}function Df(e){const t=new Path2D;if(!e)return t;for(let n=0,i=e.length;n<i;)switch(e[n++]){case mp:t.moveTo(e[n++],e[n++]);break;case bp:t.lineTo(e[n++],e[n++]);break;case yp:t.bezierCurveTo(e[n++],e[n++],e[n++],e[n++],e[n++],e[n++]);break;case vp:t.quadraticCurveTo(e[n++],e[n++],e[n++],e[n++]);break;case xp:t.closePath();break;default:Ap(`Unrecognized drawing path operator: ${e[n-1]}`)}return t}const Af=class e{constructor(t){tu(this,g),tu(this,r,null),tu(this,a,null),tu(this,s),tu(this,o,null),tu(this,c,null),tu(this,l,null),tu(this,h,null),tu(this,d,null),nu(this,s,t),eu(e,u)||nu(e,u,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=nu(this,r,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const n=eu(this,s)._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(t.addEventListener("contextmenu",of,{signal:n}),t.addEventListener("pointerdown",iu(e,p,f),{signal:n}));const i=nu(this,o,document.createElement("div"));i.className="buttons",t.append(i);const a=eu(this,s).toolbarPosition;if(a){const{style:e}=t,n="ltr"===eu(this,s)._uiManager.direction?1-a[0]:a[0];e.insetInlineEnd=100*n+"%",e.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return eu(this,r)}hide(){var e;eu(this,r).classList.add("hidden"),null==(e=eu(this,a))||e.hideDropdown()}show(){var e,t;eu(this,r).classList.remove("hidden"),null==(e=eu(this,c))||e.shown(),null==(t=eu(this,l))||t.shown()}addDeleteButton(){const{editorType:t,_uiManager:n}=eu(this,s),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",eu(e,u)[t]),iu(this,g,y).call(this,i)&&i.addEventListener("click",e=>{n.delete()},{signal:n._signal}),eu(this,o).append(i)}async addAltText(e){const t=await e.render();iu(this,g,y).call(this,t),eu(this,o).append(t,eu(this,g,v)),nu(this,c,e)}addComment(e,t=null){if(eu(this,l))return;const n=e.renderForToolbar();if(!n)return;iu(this,g,y).call(this,n);const i=nu(this,h,eu(this,g,v));t?(eu(this,o).insertBefore(n,t),eu(this,o).insertBefore(i,t)):eu(this,o).append(n,i),nu(this,l,e),e.toolbar=this}addColorPicker(e){if(eu(this,a))return;nu(this,a,e);const t=e.renderButton();iu(this,g,y).call(this,t),eu(this,o).append(t,eu(this,g,v))}async addEditSignatureButton(e){const t=nu(this,d,await e.renderEditButton(eu(this,s)));iu(this,g,y).call(this,t),eu(this,o).append(t,eu(this,g,v))}removeButton(e){var t,n;if("comment"===e)null==(t=eu(this,l))||t.removeToolbarCommentButton(),nu(this,l,null),null==(n=eu(this,h))||n.remove(),nu(this,h,null)}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t)}}async addButtonBefore(e,t,n){if(!t&&"comment"===e)return;const i=eu(this,o).querySelector(n);i&&"comment"===e&&this.addComment(t,i)}updateEditSignatureButton(e){eu(this,d)&&(eu(this,d).title=e)}remove(){var e;eu(this,r).remove(),null==(e=eu(this,a))||e.destroy(),nu(this,a,null)}};r=new WeakMap,a=new WeakMap,s=new WeakMap,o=new WeakMap,c=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap,u=new WeakMap,p=new WeakSet,f=function(e){e.stopPropagation()},g=new WeakSet,m=function(e){eu(this,s)._focusEventsAllowed=!1,cf(e)},b=function(e){eu(this,s)._focusEventsAllowed=!0,cf(e)},y=function(e){const t=eu(this,s)._uiManager._signal;return t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("focusin",iu(this,g,m).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",iu(this,g,b).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",of,{signal:t}),!0)},v=function(){const e=document.createElement("div");return e.className="divider",e},tu(Af,p),tu(Af,u,null);let Tf=Af;class Uf{constructor(e){tu(this,D),tu(this,x,null),tu(this,w,null),tu(this,_),nu(this,_,e)}show(e,t,n){const[i,r]=iu(this,D,T).call(this,t,n),{style:a}=eu(this,w)||nu(this,w,iu(this,D,A).call(this));e.append(eu(this,w)),a.insetInlineEnd=100*i+"%",a.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){eu(this,w).remove()}}function Ef(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))}x=new WeakMap,w=new WeakMap,_=new WeakMap,D=new WeakSet,A=function(){const e=nu(this,w,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=eu(this,_)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",of,{signal:t});const n=nu(this,x,document.createElement("div"));return n.className="buttons",e.append(n),eu(this,_).hasCommentManager()&&iu(this,D,U).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{eu(this,_).commentSelection("floating_button")}),iu(this,D,U).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{eu(this,_).highlightSelection("floating_button")}),e},T=function(e,t){let n=0,i=0;for(const r of e){const e=r.y+r.height;if(e<n)continue;const a=r.x+(t?r.width:0);e>n?(i=a,n=e):t?a>i&&(i=a):a<i&&(i=a)}return[t?1-i:i,n]},U=function(e,t,n,i){const r=document.createElement("button");r.classList.add("basic",e),r.tabIndex=0,r.setAttribute("data-l10n-id",t);const a=document.createElement("span");r.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",n);const s=eu(this,_)._signal;s instanceof AbortSignal&&!s.aborted&&(r.addEventListener("contextmenu",of,{signal:s}),r.addEventListener("click",i,{signal:s})),eu(this,x).append(r)};const kf=class e{static initializeAndAddPointerId(t){(eu(e,k)||nu(e,k,new Set)).add(t)}static setPointer(t,n){eu(e,E)||nu(e,E,n),eu(e,S)??nu(e,S,t)}static setTimeStamp(t){nu(e,C,t)}static isSamePointerId(t){return eu(e,E)===t}static isSamePointerIdOrRemove(t){var n;return eu(e,E)===t||(null==(n=eu(e,k))||n.delete(t),!1)}static isSamePointerType(t){return eu(e,S)===t}static isInitializedAndDifferentPointerType(t){return null!==eu(e,S)&&!e.isSamePointerType(t)}static isSameTimeStamp(t){return eu(e,C)===t}static isUsingMultiplePointers(){var t;return(null==(t=eu(e,k))?void 0:t.size)>=1}static clearPointerType(){nu(e,S,null)}static clearPointerIds(){nu(e,E,NaN),nu(e,k,null)}static clearTimeStamp(){nu(e,C,NaN)}};E=new WeakMap,k=new WeakMap,C=new WeakMap,S=new WeakMap,tu(kf,E,NaN),tu(kf,k,null),tu(kf,C,NaN),tu(kf,S,null);let Cf=kf;class Sf{constructor(){tu(this,F,0)}get id(){return`${Ku}${ru(this,F)._++}`}}F=new WeakMap;const Ff=class{constructor(){tu(this,P),tu(this,M,qp()),tu(this,W,0),tu(this,I,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return Cp(this,"_isSVGFittingCanvas",t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])))}async getFromFile(e){const{lastModified:t,name:n,size:i,type:r}=e;return iu(this,P,R).call(this,`${t}_${n}_${i}_${r}`,e)}async getFromUrl(e){return iu(this,P,R).call(this,e,e)}async getFromBlob(e,t){const n=await t;return iu(this,P,R).call(this,e,n)}async getFromId(e){eu(this,I)||nu(this,I,new Map);const t=eu(this,I).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){eu(this,I)||nu(this,I,new Map);let n=eu(this,I).get(e);if(null==n?void 0:n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${eu(this,M)}_${ru(this,W)._++}`,refCounter:1,isSvg:!1},eu(this,I).set(e,n),eu(this,I).set(n.id,n),n}getSvgUrl(e){const t=eu(this,I).get(e);return(null==t?void 0:t.isSvg)?t.svgUrl:null}deleteId(e){var t;eu(this,I)||nu(this,I,new Map);const n=eu(this,I).get(e);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:i}=n;if(!n.url&&!n.file){const e=new OffscreenCanvas(i.width,i.height);e.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=e.convertToBlob()}null==(t=i.close)||t.call(i),n.bitmap=null}isValidId(e){return e.startsWith(`image_${eu(this,M)}_`)}};M=new WeakMap,W=new WeakMap,I=new WeakMap,P=new WeakSet,R=async function(e,t){eu(this,I)||nu(this,I,new Map);let n=eu(this,I).get(e);if(null===n)return null;if(null==n?void 0:n.bitmap)return n.refCounter+=1,n;try{let e;if(n||(n={bitmap:null,id:`image_${eu(this,M)}_${ru(this,W)._++}`,refCounter:0,isSvg:!1}),"string"==typeof t?(n.url=t,e=await Jp(t,"blob")):t instanceof File?e=n.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=Ff._isSVGFittingCanvas,i=new FileReader,r=new Image,a=new Promise((e,a)=>{r.onload=()=>{n.bitmap=r,n.isSvg=!0,e()},i.onload=async()=>{const e=n.svgUrl=i.result;r.src=await t?`${e}#svgView(preserveAspectRatio(none))`:e},r.onerror=i.onerror=a});i.readAsDataURL(e),await a}else n.bitmap=await createImageBitmap(e);n.refCounter=1}catch(i){Ap(i),n=null}return eu(this,I).set(e,n),n&&eu(this,I).set(n.id,n),n};let Mf=Ff;class Wf{constructor(e=128){tu(this,B,[]),tu(this,N,!1),tu(this,O),tu(this,L,-1),nu(this,O,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:r=NaN,overwriteIfSameType:a=!1,keepUndo:s=!1}){if(i&&e(),eu(this,N))return;const o={cmd:e,undo:t,post:n,type:r};if(-1===eu(this,L))return eu(this,B).length>0&&(eu(this,B).length=0),nu(this,L,0),void eu(this,B).push(o);if(a&&eu(this,B)[eu(this,L)].type===r)return s&&(o.undo=eu(this,B)[eu(this,L)].undo),void(eu(this,B)[eu(this,L)]=o);const c=eu(this,L)+1;c===eu(this,O)?eu(this,B).splice(0,1):(nu(this,L,c),c<eu(this,B).length&&eu(this,B).splice(c)),eu(this,B).push(o)}undo(){if(-1===eu(this,L))return;nu(this,N,!0);const{undo:e,post:t}=eu(this,B)[eu(this,L)];e(),null==t||t(),nu(this,N,!1),nu(this,L,eu(this,L)-1)}redo(){if(eu(this,L)<eu(this,B).length-1){nu(this,L,eu(this,L)+1),nu(this,N,!0);const{cmd:e,post:t}=eu(this,B)[eu(this,L)];e(),null==t||t(),nu(this,N,!1)}}hasSomethingToUndo(){return-1!==eu(this,L)}hasSomethingToRedo(){return eu(this,L)<eu(this,B).length-1}cleanType(e){if(-1!==eu(this,L)){for(let t=eu(this,L);t>=0;t--)if(eu(this,B)[t].type!==e)return eu(this,B).splice(t+1,eu(this,L)-t),void nu(this,L,t);eu(this,B).length=0,nu(this,L,-1)}}destroy(){nu(this,B,null)}}B=new WeakMap,N=new WeakMap,O=new WeakMap,L=new WeakMap;class If{constructor(e){tu(this,j),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Op.platform;for(const[n,i,r={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:i,options:r}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:i,options:r}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(iu(this,j,z).call(this,t));if(!n)return;const{callback:i,options:{bubbles:r=!1,args:a=[],checker:s=null}}=n;s&&!s(e,t)||(i.bind(e,...a,t)(),r||cf(t))}}j=new WeakSet,z=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const Pf=class e{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,hf(i))}t.remove()}(e),Cp(this,"_colors",e)}convert(t){const n=hf(t);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[i,r]of this._colors)if(r.every((e,t)=>e===n[t]))return e._colorsMapping.get(i);return n}getHexCode(e){const t=this._colors.get(e);return t?jp.makeHexColor(...t):e}};Qd(Pf,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Rf=Pf;const Bf=class e{constructor(e,t,n,i,r,a,s,o,c,l,h,d,u,p,f,g){tu(this,Ne),tu(this,H,new AbortController),tu(this,q,null),tu(this,V,null),tu(this,$,new Map),tu(this,G,new Map),tu(this,X,null),tu(this,Y,null),tu(this,K,null),tu(this,Z,new Wf),tu(this,Q,null),tu(this,J,null),tu(this,ee,null),tu(this,te,0),tu(this,ne,new Set),tu(this,ie,null),tu(this,re,null),tu(this,ae,new Set),Qd(this,"_editorUndoBar",null),tu(this,se,!1),tu(this,oe,!1),tu(this,ce,!1),tu(this,le,null),tu(this,he,null),tu(this,de,null),tu(this,ue,null),tu(this,pe,!1),tu(this,fe,null),tu(this,ge,new Sf),tu(this,me,!1),tu(this,be,!1),tu(this,ye,!1),tu(this,ve,null),tu(this,xe,null),tu(this,we,null),tu(this,_e,null),tu(this,De,null),tu(this,Ae,Zu.NONE),tu(this,Te,new Set),tu(this,Ue,null),tu(this,Ee,null),tu(this,ke,null),tu(this,Ce,null),tu(this,Se,null),tu(this,Fe,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),tu(this,Me,[0,0]),tu(this,We,null),tu(this,Ie,null),tu(this,Pe,null),tu(this,Re,null),tu(this,Be,null);const m=this._signal=eu(this,H).signal;nu(this,Ie,e),nu(this,Pe,t),nu(this,Re,n),nu(this,X,i),nu(this,Q,r),nu(this,Ee,a),nu(this,Se,o),this._eventBus=s,s._on("editingaction",this.onEditingAction.bind(this),{signal:m}),s._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),s._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),s._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),s._on("setpreference",this.onSetPreference.bind(this),{signal:m}),s._on("switchannotationeditorparams",e=>this.updateParams(e.type,e.value),{signal:m}),window.addEventListener("pointerdown",()=>{nu(this,be,!0)},{capture:!0,signal:m}),window.addEventListener("pointerup",()=>{nu(this,be,!1)},{capture:!0,signal:m}),iu(this,Ne,qe).call(this),iu(this,Ne,Ze).call(this),iu(this,Ne,Ge).call(this),nu(this,Y,o.annotationStorage),nu(this,le,o.filterFactory),nu(this,ke,c),nu(this,ue,l||null),nu(this,se,h),nu(this,oe,d),nu(this,ce,u),nu(this,De,p||null),this.viewParameters={realScale:Qp.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null,this._supportsPinchToZoom=!1!==g,null==r||r.setSidebarUiManager(this)}static get _keyboardManager(){const t=e.prototype,n=e=>eu(e,Ie).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),i=(e,{target:t})=>{if(t instanceof HTMLInputElement){const{type:e}=t;return"text"!==e&&"number"!==e}return!0},r=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Cp(this,"_keyboardManager",new If([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],t.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:i}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&eu(e,Ie).contains(t)&&!e.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(e,{target:t})=>!(t instanceof HTMLButtonElement)&&eu(e,Ie).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:n}]]))}destroy(){var e,t,n,i,r,a,s,o,c;null==(e=eu(this,Be))||e.resolve(),nu(this,Be,null),null==(t=eu(this,H))||t.abort(),nu(this,H,null),this._signal=null;for(const l of eu(this,G).values())l.destroy();eu(this,G).clear(),eu(this,$).clear(),eu(this,ae).clear(),null==(n=eu(this,_e))||n.clear(),nu(this,q,null),eu(this,Te).clear(),eu(this,Z).destroy(),null==(i=eu(this,X))||i.destroy(),null==(r=eu(this,Q))||r.destroy(),null==(a=eu(this,Ee))||a.destroy(),null==(s=eu(this,fe))||s.hide(),nu(this,fe,null),null==(o=eu(this,we))||o.destroy(),nu(this,we,null),nu(this,V,null),eu(this,he)&&(clearTimeout(eu(this,he)),nu(this,he,null)),eu(this,We)&&(clearTimeout(eu(this,We)),nu(this,We,null)),null==(c=this._editorUndoBar)||c.destroy(),nu(this,Se,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return eu(this,De)}get useNewAltTextFlow(){return eu(this,oe)}get useNewAltTextWhenAddingImage(){return eu(this,ce)}get hcmFilter(){return Cp(this,"hcmFilter",eu(this,ke)?eu(this,le).addHCMFilter(eu(this,ke).foreground,eu(this,ke).background):"none")}get direction(){return Cp(this,"direction",getComputedStyle(eu(this,Ie)).direction)}get _highlightColors(){return Cp(this,"_highlightColors",eu(this,ue)?new Map(eu(this,ue).split(",").map(e=>((e=e.split("=").map(e=>e.trim()))[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Cp(this,"highlightColors",null);const t=new Map,n=!!eu(this,ke);for(const[i,r]of e){const e=i.endsWith("_HCM");n&&e?t.set(i.replace("_HCM",""),r):n||e||t.set(i,r)}return Cp(this,"highlightColors",t)}get highlightColorNames(){return Cp(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),nu(this,ee,e)}setMainHighlightColorPicker(e){nu(this,we,e)}editAltText(e,t=!1){var n;null==(n=eu(this,X))||n.editAltText(this,e,t)}hasCommentManager(){return!!eu(this,Q)}editComment(e,t,n,i){var r;null==(r=eu(this,Q))||r.showDialog(this,e,t,n,i)}selectComment(e,t){const n=eu(this,G).get(e),i=null==n?void 0:n.getEditorByUID(t);null==i||i.toggleComment(!0,!0)}updateComment(e){var t;null==(t=eu(this,Q))||t.updateComment(e.getData())}updatePopupColor(e){var t;null==(t=eu(this,Q))||t.updatePopupColor(e)}removeComment(e){var t;null==(t=eu(this,Q))||t.removeComments([e.uid])}toggleComment(e,t,n=void 0){var i;null==(i=eu(this,Q))||i.toggleCommentPopup(e,t,n)}makeCommentColor(e,t){var n;return e&&(null==(n=eu(this,Q))?void 0:n.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return(null==(e=eu(this,Q))?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(eu(this,G).has(e-1))return;const{resolve:t,promise:n}=Promise.withResolvers(),i=n=>{n.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await n}getSignature(e){var t;null==(t=eu(this,Ee))||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return eu(this,Ee)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){if("enableNewAltTextWhenAddingImage"===e)nu(this,ce,t)}onPageChanging({pageNumber:e}){nu(this,te,e-1)}focusMainContainer(){eu(this,Ie).focus()}findParent(e,t){for(const n of eu(this,G).values()){const{x:i,y:r,width:a,height:s}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=r&&t<=r+s)return n}return null}disableUserSelect(e=!1){eu(this,Pe).classList.toggle("noUserSelect",e)}addShouldRescale(e){eu(this,ae).add(e)}removeShouldRescale(e){eu(this,ae).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*Qp.PDF_TO_CSS_UNITS;for(const n of eu(this,ae))n.onScaleChanging();null==(t=eu(this,ee))||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:a,focusOffset:s}=n,o=n.toString(),c=iu(this,Ne,Oe).call(this,n).closest(".textLayer"),l=this.getSelectionBoxes(c);if(!l)return;n.empty();const h=iu(this,Ne,Le).call(this,c),d=eu(this,Ae)===Zu.NONE,u=()=>{const n=null==h?void 0:h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:i,anchorOffset:r,focusNode:a,focusOffset:s,text:o});d&&this.showAllEditors("highlight",!0,!0),t&&(null==n||n.editComment())};d?this.switchToMode(Zu.HIGHLIGHT,u):u()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!eu(this,Y))return null;const t=`${Ku}${e}`,n=eu(this,Y).getRawValue(t);return n&&eu(this,Y).remove(t),n}addToAnnotationStorage(e){e.isEmpty()||!eu(this,Y)||eu(this,Y).has(e.id)||eu(this,Y).setValue(e.id,e)}a11yAlert(e,t=null){const n=eu(this,Re);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,eu(this,pe)&&(nu(this,pe,!1),iu(this,Ne,He).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of eu(this,Te))if(t.div.contains(e)){nu(this,xe,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!eu(this,xe))return;const[e,t]=eu(this,xe);nu(this,xe,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){iu(this,Ne,Ge).call(this),this.setEditingState(!0)}removeEditListeners(){iu(this,Ne,Xe).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of eu(this,re))if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of eu(this,re))if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){var t;if(e.preventDefault(),null==(t=eu(this,q))||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of eu(this,Te)){const e=i.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const a of t.items)for(const e of eu(this,re))if(e.isHandlingMimeForPasting(a.type))return void e.paste(a,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(r){return void Ap(`paste: "${r.message}".`)}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const e=[];for(const a of n){const t=await i.deserialize(a);if(!t)return;e.push(t)}const t=()=>{for(const t of e)iu(this,Ne,nt).call(this,t);iu(this,Ne,at).call(this,e)},r=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:r,mustExec:!0})}catch(r){Ap(`paste: "${r.message}".`)}}keydown(t){this.isShiftKeyDown||"Shift"!==t.key||(this.isShiftKeyDown=!0),eu(this,Ae)===Zu.NONE||this.isEditorHandlingKeyboard||e._keyboardManager.exec(this,t)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,eu(this,pe)&&(nu(this,pe,!1),iu(this,Ne,He).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}setEditingState(e){e?(iu(this,Ne,Ve).call(this),iu(this,Ne,Ye).call(this),iu(this,Ne,Qe).call(this,{isEditing:eu(this,Ae)!==Zu.NONE,isEmpty:iu(this,Ne,rt).call(this),hasSomethingToUndo:eu(this,Z).hasSomethingToUndo(),hasSomethingToRedo:eu(this,Z).hasSomethingToRedo(),hasSelectedEditor:!1})):(iu(this,Ne,$e).call(this),iu(this,Ne,Ke).call(this),iu(this,Ne,Qe).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!eu(this,re)){nu(this,re,e);for(const e of eu(this,re))iu(this,Ne,Je).call(this,e.defaultPropertiesToUpdate)}}getId(){return eu(this,ge).id}get currentLayer(){return eu(this,G).get(eu(this,te))}getLayer(e){return eu(this,G).get(e)}get currentPageIndex(){return eu(this,te)}addLayer(e){eu(this,G).set(e.pageIndex,e),eu(this,me)?e.enable():e.disable()}removeLayer(e){eu(this,G).delete(e.pageIndex)}async updateMode(e,t=null,n=!1,i=!1,r=!1,a=!1){var s,o,c,l,h,d;if(eu(this,Ae)!==e&&(!eu(this,Be)||(await eu(this,Be).promise,eu(this,Be)))){if(nu(this,Be,Promise.withResolvers()),null==(s=eu(this,ee))||s.commitOrRemove(),eu(this,Ae)===Zu.POPUP&&(null==(o=eu(this,Q))||o.hideSidebar()),null==(c=eu(this,Q))||c.destroyPopup(),nu(this,Ae,e),e===Zu.NONE){this.setEditingState(!1),iu(this,Ne,tt).call(this);for(const e of eu(this,$).values())e.hideStandaloneCommentButton();return null==(l=this._editorUndoBar)||l.hide(),this.toggleComment(null),void eu(this,Be).resolve()}for(const e of eu(this,$).values())e.addStandaloneCommentButton();e===Zu.SIGNATURE&&await(null==(h=eu(this,Ee))?void 0:h.loadSignatures()),n&&Cf.clearPointerType(),this.setEditingState(!0),await iu(this,Ne,et).call(this),this.unselectAll();for(const t of eu(this,G).values())t.updateMode(e);if(e===Zu.POPUP){eu(this,V)||nu(this,V,await eu(this,Se).getAnnotationsByType(new Set(eu(this,re).map(e=>e._editorType))));const e=new Set,t=[];for(const n of eu(this,$).values()){const{annotationElementId:i,hasComment:r,deleted:a}=n;i&&e.add(i),r&&!a&&t.push(n.getData())}for(const n of eu(this,V)){const{id:i,popupRef:r,contentsObj:a}=n;r&&(null==a?void 0:a.str)&&!e.has(i)&&!eu(this,ne).has(i)&&t.push(n)}null==(d=eu(this,Q))||d.showSidebar(t)}if(!t)return i&&this.addNewEditorFromKeyboard(),void eu(this,Be).resolve();for(const e of eu(this,$).values())e.uid===t?(this.setSelected(e),a?e.editComment():r?e.enterInEditMode():e.focus()):e.unselect();eu(this,Be).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==eu(this,Ae)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(eu(this,re)){switch(e){case Qu.CREATE:return void this.currentLayer.addNewEditor(t);case Qu.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(eu(this,Ce)||nu(this,Ce,new Map)).set(e,t),this.showAllEditors("highlight",t)}if(this.hasSelection)for(const n of eu(this,Te))n.updateParams(e,t);else for(const n of eu(this,re))n.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var i;for(const r of eu(this,$).values())r.editorType===e&&r.show(t);((null==(i=eu(this,Ce))?void 0:i.get(Qu.HIGHLIGHT_SHOW_ALL))??!0)!==t&&iu(this,Ne,Je).call(this,[[Qu.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(eu(this,ye)!==e){nu(this,ye,e);for(const t of eu(this,G).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of eu(this,$).values())t.pageIndex===e&&(yield t)}getEditor(e){return eu(this,$).get(e)}addEditor(e){eu(this,$).set(e.id,e)}removeEditor(e){var t,n;e.div.contains(document.activeElement)&&(eu(this,he)&&clearTimeout(eu(this,he)),nu(this,he,setTimeout(()=>{this.focusMainContainer(),nu(this,he,null)},0))),eu(this,$).delete(e.id),e.annotationElementId&&(null==(t=eu(this,_e))||t.delete(e.annotationElementId)),this.unselect(e),e.annotationElementId&&eu(this,ne).has(e.annotationElementId)||null==(n=eu(this,Y))||n.remove(e.id)}addDeletedAnnotationElement(e){eu(this,ne).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return eu(this,ne).has(e)}removeDeletedAnnotationElement(e){eu(this,ne).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){eu(this,q)!==e&&(nu(this,q,e),e&&iu(this,Ne,Je).call(this,e.propertiesToUpdate))}updateUI(e){eu(this,Ne,it)===e&&iu(this,Ne,Je).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){iu(this,Ne,Je).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(eu(this,Te).has(e))return eu(this,Te).delete(e),e.unselect(),void iu(this,Ne,Qe).call(this,{hasSelectedEditor:this.hasSelection});eu(this,Te).add(e),e.select(),iu(this,Ne,Je).call(this,e.propertiesToUpdate),iu(this,Ne,Qe).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),null==(t=eu(this,ee))||t.commitOrRemove();for(const n of eu(this,Te))n!==e&&n.unselect();eu(this,Te).clear(),eu(this,Te).add(e),e.select(),iu(this,Ne,Je).call(this,e.propertiesToUpdate),iu(this,Ne,Qe).call(this,{hasSelectedEditor:!0})}isSelected(e){return eu(this,Te).has(e)}get firstSelectedEditor(){return eu(this,Te).values().next().value}unselect(e){e.unselect(),eu(this,Te).delete(e),iu(this,Ne,Qe).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==eu(this,Te).size}get isEnterHandled(){return 1===eu(this,Te).size&&this.firstSelectedEditor.isEnterHandled}undo(){var e;eu(this,Z).undo(),iu(this,Ne,Qe).call(this,{hasSomethingToUndo:eu(this,Z).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:iu(this,Ne,rt).call(this)}),null==(e=this._editorUndoBar)||e.hide()}redo(){eu(this,Z).redo(),iu(this,Ne,Qe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:eu(this,Z).hasSomethingToRedo(),isEmpty:iu(this,Ne,rt).call(this)})}addCommands(e){eu(this,Z).add(e),iu(this,Ne,Qe).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:iu(this,Ne,rt).call(this)})}cleanUndoStack(e){eu(this,Z).cleanType(e)}delete(){var e;this.commitOrRemove();const t=null==(e=this.currentLayer)?void 0:e.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const n=t?[t]:[...eu(this,Te)],i=()=>{for(const e of n)iu(this,Ne,nt).call(this,e)};this.addCommands({cmd:()=>{var e;null==(e=this._editorUndoBar)||e.show(i,1===n.length?n[0].editorType:n.length);for(const t of n)t.remove()},undo:i,mustExec:!0})}commitOrRemove(){var e;null==(e=eu(this,q))||e.commitOrRemove()}hasSomethingToControl(){return eu(this,q)||this.hasSelection}selectAll(){for(const e of eu(this,Te))e.commit();iu(this,Ne,at).call(this,eu(this,$).values())}unselectAll(){var e;if((!eu(this,q)||(eu(this,q).commitOrRemove(),eu(this,Ae)===Zu.NONE))&&!(null==(e=eu(this,ee))?void 0:e.commitOrRemove())&&this.hasSelection){for(const e of eu(this,Te))e.unselect();eu(this,Te).clear(),iu(this,Ne,Qe).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;eu(this,Me)[0]+=e,eu(this,Me)[1]+=t;const[i,r]=eu(this,Me),a=[...eu(this,Te)];eu(this,We)&&clearTimeout(eu(this,We)),nu(this,We,setTimeout(()=>{nu(this,We,null),eu(this,Me)[0]=eu(this,Me)[1]=0,this.addCommands({cmd:()=>{for(const e of a)eu(this,$).has(e.id)&&(e.translateInPage(i,r),e.translationDone())},undo:()=>{for(const e of a)eu(this,$).has(e.id)&&(e.translateInPage(-i,-r),e.translationDone())},mustExec:!1})},1e3));for(const s of a)s.translateInPage(e,t),s.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),nu(this,ie,new Map);for(const e of eu(this,Te))eu(this,ie).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!eu(this,ie))return!1;this.disableUserSelect(!1);const e=eu(this,ie);nu(this,ie,null);let t=!1;for(const[{x:i,y:r,pageIndex:a},s]of e)s.newX=i,s.newY=r,s.newPageIndex=a,t||(t=i!==s.savedX||r!==s.savedY||a!==s.savedPageIndex);if(!t)return!1;const n=(e,t,n,i)=>{if(eu(this,$).has(e.id)){const r=eu(this,G).get(i);r?e._setParentAndPosition(r,t,n):(e.pageIndex=i,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:i,newY:r,newPageIndex:a}]of e)n(t,i,r,a)},undo:()=>{for(const[t,{savedX:i,savedY:r,savedPageIndex:a}]of e)n(t,i,r,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(eu(this,ie))for(const n of eu(this,ie).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null==(e=this.getActive())?void 0:e.shouldGetKeyboardEvents())||1===eu(this,Te).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return eu(this,q)===e}getActive(){return eu(this,q)}getMode(){return eu(this,Ae)}isEditingMode(){return eu(this,Ae)!==Zu.NONE}get imageManager(){return Cp(this,"imageManager",new Mf)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,l=t.rangeCount;c<l;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:n,y:i,width:r,height:a}=e.getBoundingClientRect();let s;switch(e.getAttribute("data-main-rotation")){case"90":s=(e,t,s,o)=>({x:(t-i)/a,y:1-(e+s-n)/r,width:o/a,height:s/r});break;case"180":s=(e,t,s,o)=>({x:1-(e+s-n)/r,y:1-(t+o-i)/a,width:s/r,height:o/a});break;case"270":s=(e,t,s,o)=>({x:1-(t+o-i)/a,y:(e-n)/r,width:o/a,height:s/r});break;default:s=(e,t,s,o)=>({x:(e-n)/r,y:(t-i)/a,width:s/r,height:o/a})}const o=[];for(let c=0,l=t.rangeCount;c<l;c++){const e=t.getRangeAt(c);if(!e.collapsed)for(const{x:t,y:n,width:i,height:r}of e.getClientRects())0!==i&&0!==r&&o.push(s(t,n,i,r))}return 0===o.length?null:o}addChangedExistingAnnotation({annotationElementId:e,id:t}){(eu(this,K)||nu(this,K,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;null==(t=eu(this,K))||t.delete(e)}renderAnnotationElement(e){var t;const n=null==(t=eu(this,K))?void 0:t.get(e.data.id);if(!n)return;const i=eu(this,Y).getRawValue(n);i&&(eu(this,Ae)!==Zu.NONE||i.hasBeenModified)&&i.renderAnnotationElement(e)}setMissingCanvas(e,t,n){var i;const r=null==(i=eu(this,_e))?void 0:i.get(e);r&&(r.setCanvas(t,n),eu(this,_e).delete(e))}addMissingCanvas(e,t){(eu(this,_e)||nu(this,_e,new Map)).set(e,t)}};H=new WeakMap,q=new WeakMap,V=new WeakMap,$=new WeakMap,G=new WeakMap,X=new WeakMap,Y=new WeakMap,K=new WeakMap,Z=new WeakMap,Q=new WeakMap,J=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,ie=new WeakMap,re=new WeakMap,ae=new WeakMap,se=new WeakMap,oe=new WeakMap,ce=new WeakMap,le=new WeakMap,he=new WeakMap,de=new WeakMap,ue=new WeakMap,pe=new WeakMap,fe=new WeakMap,ge=new WeakMap,me=new WeakMap,be=new WeakMap,ye=new WeakMap,ve=new WeakMap,xe=new WeakMap,we=new WeakMap,_e=new WeakMap,De=new WeakMap,Ae=new WeakMap,Te=new WeakMap,Ue=new WeakMap,Ee=new WeakMap,ke=new WeakMap,Ce=new WeakMap,Se=new WeakMap,Fe=new WeakMap,Me=new WeakMap,We=new WeakMap,Ie=new WeakMap,Pe=new WeakMap,Re=new WeakMap,Be=new WeakMap,Ne=new WeakSet,Oe=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Le=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of eu(this,G).values())if(n.hasTextLayer(e))return n;return null},je=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=iu(this,Ne,Oe).call(this,e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(eu(this,fe)||nu(this,fe,new Uf(this)),eu(this,fe).show(t,n,"ltr"===this.direction))},ze=function(){var e,t,n;const i=document.getSelection();if(!i||i.isCollapsed)return void(eu(this,Ue)&&(null==(e=eu(this,fe))||e.hide(),nu(this,Ue,null),iu(this,Ne,Qe).call(this,{hasSelectedText:!1})));const{anchorNode:r}=i;if(r===eu(this,Ue))return;const a=iu(this,Ne,Oe).call(this,i).closest(".textLayer");if(a){if(null==(n=eu(this,fe))||n.hide(),nu(this,Ue,r),iu(this,Ne,Qe).call(this,{hasSelectedText:!0}),(eu(this,Ae)===Zu.HIGHLIGHT||eu(this,Ae)===Zu.NONE)&&(eu(this,Ae)===Zu.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),nu(this,pe,this.isShiftKeyDown),!this.isShiftKeyDown)){const e=eu(this,Ae)===Zu.HIGHLIGHT?iu(this,Ne,Le).call(this,a):null;if(null==e||e.toggleDrawing(),eu(this,be)){const t=new AbortController,n=this.combinedSignal(t),i=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),null==e||e.toggleDrawing(!0),"pointerup"===n.type&&iu(this,Ne,He).call(this,"main_toolbar"))};window.addEventListener("pointerup",i,{signal:n}),window.addEventListener("blur",i,{signal:n})}else null==e||e.toggleDrawing(!0),iu(this,Ne,He).call(this,"main_toolbar")}}else eu(this,Ue)&&(null==(t=eu(this,fe))||t.hide(),nu(this,Ue,null),iu(this,Ne,Qe).call(this,{hasSelectedText:!1}))},He=function(e=""){eu(this,Ae)===Zu.HIGHLIGHT?this.highlightSelection(e):eu(this,se)&&iu(this,Ne,je).call(this)},qe=function(){document.addEventListener("selectionchange",iu(this,Ne,ze).bind(this),{signal:this._signal})},Ve=function(){if(eu(this,de))return;nu(this,de,new AbortController);const e=this.combinedSignal(eu(this,de));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},$e=function(){var e;null==(e=eu(this,de))||e.abort(),nu(this,de,null)},Ge=function(){if(eu(this,ve))return;nu(this,ve,new AbortController);const e=this.combinedSignal(eu(this,ve));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Xe=function(){var e;null==(e=eu(this,ve))||e.abort(),nu(this,ve,null)},Ye=function(){if(eu(this,J))return;nu(this,J,new AbortController);const e=this.combinedSignal(eu(this,J));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Ke=function(){var e;null==(e=eu(this,J))||e.abort(),nu(this,J,null)},Ze=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Qe=function(e){Object.entries(e).some(([e,t])=>eu(this,Fe)[e]!==t)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(eu(this,Fe),e)}),eu(this,Ae)===Zu.HIGHLIGHT&&!1===e.hasSelectedEditor&&iu(this,Ne,Je).call(this,[[Qu.HIGHLIGHT_FREE,!0]]))},Je=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},et=async function(){if(!eu(this,me)){nu(this,me,!0);const e=[];for(const t of eu(this,G).values())e.push(t.enable());await Promise.all(e);for(const t of eu(this,$).values())t.enable()}},tt=function(){if(this.unselectAll(),eu(this,me)){nu(this,me,!1);for(const e of eu(this,G).values())e.disable();for(const e of eu(this,$).values())e.disable()}},nt=function(e){const t=eu(this,G).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},it=function(){let e=null;for(e of eu(this,Te));return e},rt=function(){if(0===eu(this,$).size)return!0;if(1===eu(this,$).size)for(const e of eu(this,$).values())return e.isEmpty();return!1},at=function(e){for(const t of eu(this,Te))t.unselect();eu(this,Te).clear();for(const t of e)t.isEmpty()||(eu(this,Te).add(t),t.select());iu(this,Ne,Qe).call(this,{hasSelectedEditor:this.hasSelection})},Qd(Bf,"TRANSLATE_SMALL",1),Qd(Bf,"TRANSLATE_BIG",10);let Nf=Bf;const Of=class e{constructor(t){tu(this,vt),tu(this,st,null),tu(this,ot,!1),tu(this,ct,null),tu(this,lt,null),tu(this,ht,null),tu(this,dt,null),tu(this,ut,!1),tu(this,pt,null),tu(this,ft,null),tu(this,gt,null),tu(this,mt,null),tu(this,bt,!1),nu(this,ft,t),nu(this,bt,t._uiManager.useNewAltTextFlow),eu(e,yt)||nu(e,yt,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){e._l10n??(e._l10n=t)}async render(){const t=nu(this,ct,document.createElement("button"));t.className="altText",t.tabIndex="0";const n=nu(this,lt,document.createElement("span"));t.append(n),eu(this,bt)?(t.classList.add("new"),t.setAttribute("data-l10n-id",eu(e,yt).missing),n.setAttribute("data-l10n-id",eu(e,yt)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=eu(this,ft)._uiManager._signal;t.addEventListener("contextmenu",of,{signal:i}),t.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:i});const r=e=>{e.preventDefault(),eu(this,ft)._uiManager.editAltText(eu(this,ft)),eu(this,bt)&&eu(this,ft)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:eu(this,vt,xt)}})};return t.addEventListener("click",r,{capture:!0,signal:i}),t.addEventListener("keydown",e=>{e.target===t&&"Enter"===e.key&&(nu(this,ut,!0),r(e))},{signal:i}),await iu(this,vt,wt).call(this),t}finish(){eu(this,ct)&&(eu(this,ct).focus({focusVisible:eu(this,ut)}),nu(this,ut,!1))}isEmpty(){return eu(this,bt)?null===eu(this,st):!eu(this,st)&&!eu(this,ot)}hasData(){return eu(this,bt)?null!==eu(this,st)||!!eu(this,gt):this.isEmpty()}get guessedText(){return eu(this,gt)}async setGuessedText(t){null===eu(this,st)&&(nu(this,gt,t),nu(this,mt,await e._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),iu(this,vt,wt).call(this))}toggleAltTextBadge(e=!1){var t;if(!eu(this,bt)||eu(this,st))return null==(t=eu(this,pt))||t.remove(),void nu(this,pt,null);if(!eu(this,pt)){const e=nu(this,pt,document.createElement("div"));e.className="noAltTextBadge",eu(this,ft).div.append(e)}eu(this,pt).classList.toggle("hidden",!e)}serialize(e){let t=eu(this,st);return e||eu(this,gt)!==t||(t=eu(this,mt)),{altText:t,decorative:eu(this,ot),guessedText:eu(this,gt),textWithDisclaimer:eu(this,mt)}}get data(){return{altText:eu(this,st),decorative:eu(this,ot)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:r=!1}){n&&(nu(this,gt,n),nu(this,mt,i)),eu(this,st)===e&&eu(this,ot)===t||(r||(nu(this,st,e),nu(this,ot,t)),iu(this,vt,wt).call(this))}toggle(e=!1){eu(this,ct)&&(!e&&eu(this,dt)&&(clearTimeout(eu(this,dt)),nu(this,dt,null)),eu(this,ct).disabled=!e)}shown(){eu(this,ft)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:eu(this,vt,xt)}})}destroy(){var e,t;null==(e=eu(this,ct))||e.remove(),nu(this,ct,null),nu(this,lt,null),nu(this,ht,null),null==(t=eu(this,pt))||t.remove(),nu(this,pt,null)}};st=new WeakMap,ot=new WeakMap,ct=new WeakMap,lt=new WeakMap,ht=new WeakMap,dt=new WeakMap,ut=new WeakMap,pt=new WeakMap,ft=new WeakMap,gt=new WeakMap,mt=new WeakMap,bt=new WeakMap,yt=new WeakMap,vt=new WeakSet,xt=function(){return(eu(this,st)?"added":null===eu(this,st)&&this.guessedText&&"review")||"missing"},wt=async function(){var e,t,n;const i=eu(this,ct);if(!i)return;if(eu(this,bt)){if(i.classList.toggle("done",!!eu(this,st)),i.setAttribute("data-l10n-id",eu(Of,yt)[eu(this,vt,xt)]),null==(e=eu(this,lt))||e.setAttribute("data-l10n-id",eu(Of,yt)[`${eu(this,vt,xt)}-label`]),!eu(this,st))return void(null==(t=eu(this,ht))||t.remove())}else{if(!eu(this,st)&&!eu(this,ot))return i.classList.remove("done"),void(null==(n=eu(this,ht))||n.remove());i.classList.add("done"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=eu(this,ht);if(!r){nu(this,ht,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${eu(this,ft).id}`;const e=100,t=eu(this,ft)._uiManager._signal;t.addEventListener("abort",()=>{clearTimeout(eu(this,dt)),nu(this,dt,null)},{once:!0}),i.addEventListener("mouseenter",()=>{nu(this,dt,setTimeout(()=>{nu(this,dt,null),eu(this,ht).classList.add("show"),eu(this,ft)._reportTelemetry({action:"alt_text_tooltip"})},e))},{signal:t}),i.addEventListener("mouseleave",()=>{var e;eu(this,dt)&&(clearTimeout(eu(this,dt)),nu(this,dt,null)),null==(e=eu(this,ht))||e.classList.remove("show")},{signal:t})}eu(this,ot)?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=eu(this,st)),r.parentNode||i.append(r);const a=eu(this,ft).getElementForAltText();null==a||a.setAttribute("aria-describedby",r.id)},tu(Of,yt,null),Qd(Of,"_l10n",null);let Lf=Of,jf=(It=class{constructor(e){tu(this,Mt),tu(this,_t,null),tu(this,Dt,null),tu(this,At,!1),tu(this,Tt,null),tu(this,Ut,null),tu(this,Et,null),tu(this,kt,null),tu(this,Ct,null),tu(this,St,!1),tu(this,Ft,null),nu(this,Tt,e)}renderForToolbar(){const e=nu(this,Dt,document.createElement("button"));return e.className="comment",iu(this,Mt,Wt).call(this,e,!1)}renderForStandalone(){const e=nu(this,_t,document.createElement("button"));e.className="annotationCommentButton";const t=eu(this,Tt).commentButtonPosition;if(t){const{style:n}=e;n.insetInlineEnd=`calc(${100*("ltr"===eu(this,Tt)._uiManager.direction?1-t[0]:t[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=eu(this,Tt).commentButtonColor;i&&(n.backgroundColor=i)}return iu(this,Mt,Wt).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;null==(e=eu(this,_t)??eu(this,Dt))||e.focus()},0)}onUpdatedColor(){if(!eu(this,_t))return;const e=eu(this,Tt).commentButtonColor;e&&(eu(this,_t).style.backgroundColor=e),eu(this,Tt)._uiManager.updatePopupColor(eu(this,Tt))}get commentButtonWidth(){var e;return((null==(e=eu(this,_t))?void 0:e.getBoundingClientRect().width)??0)/eu(this,Tt).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(eu(this,Ft))return eu(this,Ft);if(!eu(this,_t))return null;const{x:e,y:t,height:n}=eu(this,_t).getBoundingClientRect(),{x:i,y:r,width:a,height:s}=eu(this,Tt).parent.boundingClientRect;return[(e-i)/a,(t+n-r)/s]}set commentPopupPositionInLayer(e){nu(this,Ft,e)}hasDefaultPopupPosition(){return null===eu(this,Ft)}removeStandaloneCommentButton(){var e;null==(e=eu(this,_t))||e.remove(),nu(this,_t,null)}removeToolbarCommentButton(){var e;null==(e=eu(this,Dt))||e.remove(),nu(this,Dt,null)}setCommentButtonStates({selected:e,hasPopup:t}){eu(this,_t)&&(eu(this,_t).classList.toggle("selected",e),eu(this,_t).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let n,i;if(t)[n,i]=t;else{[n,i]=eu(this,Tt).commentButtonPosition;const{width:e,height:t,x:r,y:a}=eu(this,Tt);n=r+n*e,i=a+i*t}const r=eu(this,Tt).parent.boundingClientRect,{x:a,y:s,width:o,height:c}=r;eu(this,Tt)._uiManager.editComment(eu(this,Tt),a+n*o,s+i*c,{...e,parentDimensions:r})}finish(){eu(this,Dt)&&(eu(this,Dt).focus({focusVisible:eu(this,At)}),nu(this,At,!1))}isDeleted(){return eu(this,St)||""===eu(this,kt)}isEmpty(){return null===eu(this,kt)}hasBeenEdited(){return this.isDeleted()||eu(this,kt)!==eu(this,Ut)}serialize(){return this.data}get data(){return{text:eu(this,kt),richText:eu(this,Et),date:eu(this,Ct),deleted:this.isDeleted()}}set data(e){if(e!==eu(this,kt)&&nu(this,Et,null),null===e)return nu(this,kt,""),void nu(this,St,!0);nu(this,kt,e),nu(this,Ct,new Date),nu(this,St,!1)}setInitialText(e,t=null){nu(this,Ut,e),this.data=e,nu(this,Ct,null),nu(this,Et,t)}shown(){}destroy(){var e,t;null==(e=eu(this,Dt))||e.remove(),nu(this,Dt,null),null==(t=eu(this,_t))||t.remove(),nu(this,_t,null),nu(this,kt,""),nu(this,Et,null),nu(this,Ct,null),nu(this,Tt,null),nu(this,At,!1),nu(this,St,!1)}},_t=new WeakMap,Dt=new WeakMap,At=new WeakMap,Tt=new WeakMap,Ut=new WeakMap,Et=new WeakMap,kt=new WeakMap,Ct=new WeakMap,St=new WeakMap,Ft=new WeakMap,Mt=new WeakSet,Wt=function(e,t){if(!eu(this,Tt)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[eu(this,Tt)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=eu(this,Tt)._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return e;e.addEventListener("contextmenu",of,{signal:n}),t&&(e.addEventListener("focusin",e=>{eu(this,Tt)._focusEventsAllowed=!1,cf(e)},{capture:!0,signal:n}),e.addEventListener("focusout",e=>{eu(this,Tt)._focusEventsAllowed=!0,cf(e)},{capture:!0,signal:n})),e.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:n});const i=t=>{t.preventDefault(),e===eu(this,Dt)?this.edit():eu(this,Tt).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(nu(this,At,!0),i(t))},{signal:n}),e.addEventListener("pointerenter",()=>{eu(this,Tt).toggleComment(!1,!0)},{signal:n}),e.addEventListener("pointerleave",()=>{eu(this,Tt).toggleComment(!1,!1)},{signal:n}),e},It);const zf=class{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:r=null,onPinchEnd:a=null,signal:s}){tu(this,Gt),tu(this,Pt),tu(this,Rt,!1),tu(this,Bt,null),tu(this,Nt),tu(this,Ot),tu(this,Lt),tu(this,jt),tu(this,zt,null),tu(this,Ht),tu(this,qt,null),tu(this,Vt),tu(this,$t,null),nu(this,Pt,e),nu(this,Bt,n),nu(this,Nt,t),nu(this,Ot,i),nu(this,Lt,r),nu(this,jt,a),nu(this,Vt,new AbortController),nu(this,Ht,AbortSignal.any([s,eu(this,Vt).signal])),e.addEventListener("touchstart",iu(this,Gt,Xt).bind(this),{passive:!1,signal:eu(this,Ht)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ff.pixelRatio}destroy(){var e,t;null==(e=eu(this,Vt))||e.abort(),nu(this,Vt,null),null==(t=eu(this,zt))||t.abort(),nu(this,zt,null)}};Pt=new WeakMap,Rt=new WeakMap,Bt=new WeakMap,Nt=new WeakMap,Ot=new WeakMap,Lt=new WeakMap,jt=new WeakMap,zt=new WeakMap,Ht=new WeakMap,qt=new WeakMap,Vt=new WeakMap,$t=new WeakMap,Gt=new WeakSet,Xt=function(e){var t,n,i;if(null==(t=eu(this,Nt))?void 0:t.call(this))return;if(1===e.touches.length){if(eu(this,zt))return;const e=nu(this,zt,new AbortController),t=AbortSignal.any([eu(this,Ht),e.signal]),n=eu(this,Pt),i={capture:!0,signal:t,passive:!1},r=e=>{var t;"touch"===e.pointerType&&(null==(t=eu(this,zt))||t.abort(),nu(this,zt,null))};return n.addEventListener("pointerdown",e=>{"touch"===e.pointerType&&(cf(e),r(e))},i),n.addEventListener("pointerup",r,i),void n.addEventListener("pointercancel",r,i)}if(!eu(this,$t)){nu(this,$t,new AbortController);const e=AbortSignal.any([eu(this,Ht),eu(this,$t).signal]),t=eu(this,Pt),i={signal:e,capture:!1,passive:!1};t.addEventListener("touchmove",iu(this,Gt,Yt).bind(this),i);const r=iu(this,Gt,Kt).bind(this);t.addEventListener("touchend",r,i),t.addEventListener("touchcancel",r,i),i.capture=!0,t.addEventListener("pointerdown",cf,i),t.addEventListener("pointermove",cf,i),t.addEventListener("pointercancel",cf,i),t.addEventListener("pointerup",cf,i),null==(n=eu(this,Ot))||n.call(this)}if(cf(e),2!==e.touches.length||(null==(i=eu(this,Bt))?void 0:i.call(this)))return void nu(this,qt,null);let[r,a]=e.touches;r.identifier>a.identifier&&([r,a]=[a,r]),nu(this,qt,{touch0X:r.screenX,touch0Y:r.screenY,touch1X:a.screenX,touch1Y:a.screenY})},Yt=function(e){var t;if(!eu(this,qt)||2!==e.touches.length)return;cf(e);let[n,i]=e.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:r,screenY:a}=n,{screenX:s,screenY:o}=i,c=eu(this,qt),{touch0X:l,touch0Y:h,touch1X:d,touch1Y:u}=c,p=d-l,f=u-h,g=s-r,m=o-a,b=Math.hypot(g,m)||1,y=Math.hypot(p,f)||1;if(!eu(this,Rt)&&Math.abs(y-b)<=zf.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=r,c.touch0Y=a,c.touch1X=s,c.touch1Y=o,!eu(this,Rt))return void nu(this,Rt,!0);const v=[(r+s)/2,(a+o)/2];null==(t=eu(this,Lt))||t.call(this,v,y,b)},Kt=function(e){var t;e.touches.length>=2||(eu(this,$t)&&(eu(this,$t).abort(),nu(this,$t,null),null==(t=eu(this,jt))||t.call(this)),eu(this,qt)&&(cf(e),nu(this,qt,null),nu(this,Rt,!1)))};let Hf=zf;const qf=class e{constructor(t){tu(this,An),tu(this,Zt,null),tu(this,Qt,null),tu(this,Jt,null),tu(this,en,null),tu(this,tn,null),tu(this,nn,!1),tu(this,rn,null),tu(this,an,""),tu(this,sn,null),tu(this,on,null),tu(this,cn,null),tu(this,ln,null),tu(this,hn,null),tu(this,dn,""),tu(this,un,!1),tu(this,pn,null),tu(this,fn,!1),tu(this,gn,!1),tu(this,mn,!1),tu(this,bn,null),tu(this,yn,0),tu(this,vn,0),tu(this,xn,null),tu(this,wn,null),Qd(this,"isSelected",!1),Qd(this,"_isCopy",!1),Qd(this,"_editToolbar",null),Qd(this,"_initialOptions",Object.create(null)),Qd(this,"_initialData",null),Qd(this,"_isVisible",!0),Qd(this,"_uiManager",null),Qd(this,"_focusEventsAllowed",!0),tu(this,_n,!1),tu(this,Dn,e._zIndex++),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[a,s];const[o,c]=this.parentDimensions;this.x=t.x/o,this.y=t.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=e.prototype._resizeWithKeyboard,n=Nf.TRANSLATE_SMALL,i=Nf.TRANSLATE_BIG;return Cp(this,"_resizerKeyboardManager",new If([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,i]}],[["Escape","mac+Escape"],e.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Cp(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new $f({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(t,n){if(e._l10n??(e._l10n=t),e._l10nResizer||(e._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==e._borderLineWidth)return;const i=getComputedStyle(document.documentElement);e._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Tp("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return eu(this,_n)}set _isDraggable(e){var t;nu(this,_n,e),null==(t=this.div)||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=eu(this,Dn)}setParent(e){var t;null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(iu(this,An,qn).call(this),null==(t=eu(this,ln))||t.remove(),nu(this,ln,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(eu(this,un)?nu(this,un,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;(null==n?void 0:n.closest(`#${this.id}`))||(e.preventDefault(),(null==(t=this.parent)?void 0:t.isMultipleSelection)||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[r,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/r,this.y=(t+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}translate(e,t){iu(this,An,Tn).call(this,this.parentDimensions,e,t)}translateInPage(e,t){eu(this,pn)||nu(this,pn,[this.x,this.y,this.width,this.height]),iu(this,An,Tn).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){eu(this,pn)||nu(this,pn,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,r]}=this;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:s}=this;const[o,c]=this.getBaseTranslation();a+=o,s+=c;const{style:l}=n;l.left=`${(100*a).toFixed(2)}%`,l.top=`${(100*s).toFixed(2)}%`,this._onTranslating(a,s),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!eu(this,pn)&&(eu(this,pn)[0]!==this.x||eu(this,pn)[1]!==this.y)}get _hasBeenResized(){return!!eu(this,pn)&&(eu(this,pn)[2]!==this.width||eu(this,pn)[3]!==this.height)}getBaseTranslation(){const[t,n]=this.parentDimensions,{_borderLineWidth:i}=e,r=i/t,a=i/n;switch(this.rotation){case 90:return[-r,a];case 180:return[r,a];case 270:return[r,-a];default:return[-r,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:r,y:a,width:s,height:o}=this;if(s*=n,o*=i,r*=n,a*=i,this._mustFixPosition)switch(e){case 0:r=$p(r,0,n-s),a=$p(a,0,i-o);break;case 90:r=$p(r,0,n-o),a=$p(a,s,i);break;case 180:r=$p(r,s,n),a=$p(a,o,i);break;case 270:r=$p(r,o,n),a=$p(a,0,i-s)}this.x=r/=n,this.y=a/=i;const[c,l]=this.getBaseTranslation();r+=c,a+=l,t.left=`${(100*r).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,n){var i;return iu(i=e,Un,En).call(i,t,n,this.parentRotation)}pageTranslationToScreen(t,n){var i;return iu(i=e,Un,En).call(i,t,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(){const{div:{style:e},width:t,height:n}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(1e4*e)/1e4}_onResizing(){}altTextFinish(){var e;null==(e=eu(this,Jt))||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||eu(this,gn))return this._editToolbar;this._editToolbar=new Tf(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;null==(e=this._editToolbar)||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;null==(e=this._editToolbar)||e.removeButton("comment")}removeEditToolbar(){var e,t;null==(e=this._editToolbar)||e.remove(),this._editToolbar=null,null==(t=eu(this,Jt))||t.destroy()}addContainer(e){var t;const n=null==(t=this._editToolbar)?void 0:t.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return eu(this,Jt)||(Lf.initialize(e._l10n),nu(this,Jt,new Lf(this)),eu(this,Zt)&&(eu(this,Jt).data=eu(this,Zt),nu(this,Zt,null))),eu(this,Jt)}get altTextData(){var e;return null==(e=eu(this,Jt))?void 0:e.data}set altTextData(e){eu(this,Jt)&&(eu(this,Jt).data=e)}get guessedAltText(){var e;return null==(e=eu(this,Jt))?void 0:e.guessedText}async setGuessedAltText(e){var t;await(null==(t=eu(this,Jt))?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return null==(t=eu(this,Jt))?void 0:t.serialize(e)}hasAltText(){return!!eu(this,Jt)&&!eu(this,Jt).isEmpty()}hasAltTextData(){var e;return(null==(e=eu(this,Jt))?void 0:e.hasData())??!1}focusCommentButton(){var e;null==(e=eu(this,en))||e.focusButton()}addCommentButton(){return this.canAddComment?eu(this,en)||nu(this,en,new jf(this)):null}addStandaloneCommentButton(){this._uiManager.hasCommentManager()&&(eu(this,tn)?this._uiManager.isEditingMode()&&eu(this,tn).classList.remove("hidden"):this.hasComment&&(nu(this,tn,eu(this,en).renderForStandalone()),this.div.append(eu(this,tn))))}removeStandaloneCommentButton(){eu(this,en).removeStandaloneCommentButton(),nu(this,tn,null)}hideStandaloneCommentButton(){var e;null==(e=eu(this,tn))||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:n,deleted:i}}=eu(this,en);return{text:t,richText:e,date:n,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){eu(this,en)||nu(this,en,new jf(this)),eu(this,en).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:n}){if(!t)return;if(eu(this,en)||nu(this,en,new jf(this)),eu(this,en).setInitialText(e,n),!this.annotationElementId)return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return null==(e=eu(this,en))?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return null==(e=eu(this,en))?void 0:e.isDeleted()}get hasComment(){return!!eu(this,en)&&!eu(this,en).isEmpty()&&!eu(this,en).isDeleted()}async editComment(e){eu(this,en)||nu(this,en,new jf(this)),eu(this,en).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){eu(this,en).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const t=180,n=100,[,,,i]=e.rect,[r]=this.pageDimensions,[a]=this.pageTranslation,s=a+r+1,o=i-n,c=s+t;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[s,o,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){eu(this,en).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var e;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=eu(this,nn)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),iu(this,An,On).call(this);const[n,i]=this.parentDimensions;this.parentRotation%180!=0&&(t.style.maxWidth=`${(100*i/n).toFixed(2)}%`,t.style.maxHeight=`${(100*n/i).toFixed(2)}%`);const[r,a]=this.getInitialTranslation();return this.translate(r,a),Ef(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(eu(this,wn)||nu(this,wn,new Hf({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:iu(this,An,In).bind(this),onPinching:iu(this,An,Pn).bind(this),onPinchEnd:iu(this,An,Rn).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),null==(e=this._uiManager._editorUndoBar)||e.hide(),t}pointerdown(e){const{isMac:t}=Op.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(nu(this,un,!0),this._isDraggable?iu(this,An,Nn).call(this,e):iu(this,An,Bn).call(this,e))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){eu(this,bn)&&clearTimeout(eu(this,bn)),nu(this,bn,setTimeout(()=>{var e;nu(this,bn,null),null==(e=this.parent)||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[r,a]=this.pageDimensions,[s,o]=this.pageTranslation,c=e/i,l=t/i,h=this.x*r,d=this.y*a,u=this.width*r,p=this.height*a;switch(n){case 0:return[h+c+s,a-d-l-p+o,h+c+u+s,a-d-l+o];case 90:return[h+l+s,a-d+c+o,h+l+p+s,a-d+c+u+o];case 180:return[h-c-u+s,a-d+l+o,h-c+s,a-d+l+p+o];case 270:return[h-l-p+s,a-d-c-u+o,h-l+s,a-d-c+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,r,a]=e,s=r-n,o=a-i;switch(this.rotation){case 0:return[n,t-a,s,o];case 90:return[n,t-i,o,s];case 180:return[r,t-i,s,o];case 270:return[r,t-a,o,s];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&e._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;null==(e=eu(this,en))||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:n,opacity:i,deleted:r,richText:a},uid:s,pageIndex:o,creationDate:c,modificationDate:l}=this;return{id:s,pageIndex:o,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:n||l,popupRef:!r,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),nu(this,gn,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),nu(this,gn,!1),!0)}isInEditMode(){return eu(this,gn)}shouldGetKeyboardEvents(){return eu(this,mn)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:a}=window;return t<a&&i>0&&e<r&&n>0}rebuild(){iu(this,An,On).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null==(e=this._initialData)?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var n;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:(null==(n=this._initialData)?void 0:n.popupRef)||""}}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,nu(i,Zt,e.accessibilityData),i._isCopy=e.isCopy||!1;const[r,a]=i.pageDimensions,[s,o,c,l]=i.getRectInCurrentCoords(e.rect,a);return i.x=s/r,i.y=o/a,i.width=c/r,i.height=l/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var e,t,n;if(null==(e=eu(this,hn))||e.abort(),nu(this,hn,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),eu(this,bn)&&(clearTimeout(eu(this,bn)),nu(this,bn,null)),iu(this,An,qn).call(this),this.removeEditToolbar(),eu(this,xn)){for(const e of eu(this,xn).values())clearTimeout(e);nu(this,xn,null)}this.parent=null,null==(t=eu(this,wn))||t.destroy(),nu(this,wn,null),null==(n=eu(this,ln))||n.remove(),nu(this,ln,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(iu(this,An,Cn).call(this),eu(this,sn).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return"ltr"===this._uiManager.direction?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,n]}=this,[i,r,a,s]=this.getPDFRect();return[e._round(i+(a-i)*t),e._round(r+(s-r)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return eu(this,en).commentPopupPositionInLayer}set commentPopupPosition(e){eu(this,en).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return eu(this,en).hasDefaultPopupPosition()}get commentButtonWidth(){return eu(this,en).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;null==(t=eu(this,en))||t.setCommentButtonStates(e)}keydown(t){if(!this.isResizable||t.target!==this.div||"Enter"!==t.key)return;this._uiManager.setSelected(this),nu(this,cn,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=eu(this,sn).children;if(!eu(this,Qt)){nu(this,Qt,Array.from(n));const t=iu(this,An,Ln).bind(this),i=iu(this,An,jn).bind(this),r=this._uiManager._signal;for(const n of eu(this,Qt)){const a=n.getAttribute("data-resizer-name");n.setAttribute("role","spinbutton"),n.addEventListener("keydown",t,{signal:r}),n.addEventListener("blur",i,{signal:r}),n.addEventListener("focus",iu(this,An,zn).bind(this,a),{signal:r}),n.setAttribute("data-l10n-id",e._l10nResizer[a])}}const i=eu(this,Qt)[0];let r=0;for(const e of n){if(e===i)break;r++}const a=(360-this.rotation+this.parentRotation)%360/90*(eu(this,Qt).length/4);if(a!==r){if(a<r)for(let e=0;e<r-a;e++)eu(this,sn).append(eu(this,sn).firstElementChild);else if(a>r)for(let e=0;e<a-r;e++)eu(this,sn).firstElementChild.before(eu(this,sn).lastElementChild);let t=0;for(const i of n){const n=eu(this,Qt)[t++].getAttribute("data-resizer-name");i.setAttribute("data-l10n-id",e._l10nResizer[n])}}iu(this,An,Hn).call(this,0),nu(this,mn,!0),eu(this,sn).firstElementChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(e,t){eu(this,mn)&&iu(this,An,Wn).call(this,eu(this,dn),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){iu(this,An,qn).call(this),this.div.focus()}select(){var e,t,n;this.isSelected&&this._editToolbar?this._editToolbar.show():(this.isSelected=!0,this.makeResizable(),null==(e=this.div)||e.classList.add("selectedEditor"),this._editToolbar?(null==(t=this._editToolbar)||t.show(),null==(n=eu(this,Jt))||n.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{var e,t;(null==(e=this.div)?void 0:e.classList.contains("selectedEditor"))&&(null==(t=this._editToolbar)||t.show())}))}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return null==(e=this.div)?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,n,i,r;this.isSelected&&(this.isSelected=!1,null==(e=eu(this,sn))||e.classList.add("hidden"),null==(t=this.div)||t.classList.remove("selectedEditor"),(null==(n=this.div)?void 0:n.contains(document.activeElement))&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null==(i=this._editToolbar)||i.hide(),null==(r=eu(this,Jt))||r.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){"BUTTON"!==e.target.nodeName&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return eu(this,fn)}set isEditing(e){nu(this,fn,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,n=!1){if(n){eu(this,xn)||nu(this,xn,new Map);const{action:n}=t;let i=eu(this,xn).get(n);return i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),eu(this,xn).delete(n),0===eu(this,xn).size&&nu(this,xn,null)},e._telemetryTimeout),void eu(this,xn).set(n,i)}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),nu(this,nn,!1)}disable(){this.div&&(this.div.tabIndex=-1),nu(this,nn,!0)}updateFakeAnnotationElement(e){if(eu(this,ln)||this.deleted)return this.deleted?(eu(this,ln).remove(),void nu(this,ln,null)):void((this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&eu(this,ln).updateEdited({rect:this.getPDFRect(),popup:this.comment}));nu(this,ln,e.addFakeAnnotation(this))}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;"DIV"===(null==t?void 0:t.nodeName)&&t.classList.contains("annotationContent")&&t.remove()}};Zt=new WeakMap,Qt=new WeakMap,Jt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakMap,an=new WeakMap,sn=new WeakMap,on=new WeakMap,cn=new WeakMap,ln=new WeakMap,hn=new WeakMap,dn=new WeakMap,un=new WeakMap,pn=new WeakMap,fn=new WeakMap,gn=new WeakMap,mn=new WeakMap,bn=new WeakMap,yn=new WeakMap,vn=new WeakMap,xn=new WeakMap,wn=new WeakMap,_n=new WeakMap,Dn=new WeakMap,An=new WeakSet,Tn=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Un=new WeakSet,En=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},kn=function(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}},Cn=function(){if(eu(this,sn))return;nu(this,sn,document.createElement("div")),eu(this,sn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");eu(this,sn).append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",iu(this,An,Sn).bind(this,n),{signal:t}),e.addEventListener("contextmenu",of,{signal:t}),e.tabIndex=-1}this.div.prepend(eu(this,sn))},Sn=function(e,t){var n;t.preventDefault();const{isMac:i}=Op.platform;if(0!==t.button||t.ctrlKey&&i)return;null==(n=eu(this,Jt))||n.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,nu(this,on,[t.screenX,t.screenY]);const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",iu(this,An,Wn).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",cf,{passive:!1,signal:s}),window.addEventListener("contextmenu",of,{signal:s}),nu(this,cn,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const l=()=>{var e;a.abort(),this.parent.togglePointerEvents(!0),null==(e=eu(this,Jt))||e.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=c,iu(this,An,Mn).call(this)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},Fn=function(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Mn=function(){if(!eu(this,cn))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=eu(this,cn);nu(this,cn,null);const r=this.x,a=this.y,s=this.width,o=this.height;r===e&&a===t&&s===n&&o===i||this.addCommands({cmd:iu(this,An,Fn).bind(this,r,a,s,o),undo:iu(this,An,Fn).bind(this,e,t,n,i),mustExec:!0})},Wn=function(e,t){const[n,i]=this.parentDimensions,r=this.x,a=this.y,s=this.width,o=this.height,c=qf.MIN_SIZE/n,l=qf.MIN_SIZE/i,h=iu(this,An,kn).call(this,this.rotation),d=(e,t)=>[h[0]*e+h[2]*t,h[1]*e+h[3]*t],u=iu(this,An,kn).call(this,360-this.rotation);let p,f,g=!1,m=!1;switch(e){case"topLeft":g=!0,p=(e,t)=>[0,0],f=(e,t)=>[e,t];break;case"topMiddle":p=(e,t)=>[e/2,0],f=(e,t)=>[e/2,t];break;case"topRight":g=!0,p=(e,t)=>[e,0],f=(e,t)=>[0,t];break;case"middleRight":m=!0,p=(e,t)=>[e,t/2],f=(e,t)=>[0,t/2];break;case"bottomRight":g=!0,p=(e,t)=>[e,t],f=(e,t)=>[0,0];break;case"bottomMiddle":p=(e,t)=>[e/2,t],f=(e,t)=>[e/2,0];break;case"bottomLeft":g=!0,p=(e,t)=>[0,t],f=(e,t)=>[e,0];break;case"middleLeft":m=!0,p=(e,t)=>[0,t/2],f=(e,t)=>[e,t/2]}const b=p(s,o),y=f(s,o);let v=d(...y);const x=qf._round(r+v[0]),w=qf._round(a+v[1]);let _,D,A=1,T=1;if(t.fromKeyboard)({deltaX:_,deltaY:D}=t);else{const{screenX:e,screenY:n}=t,[i,r]=eu(this,on);[_,D]=this.screenToPageTranslation(e-i,n-r),eu(this,on)[0]=e,eu(this,on)[1]=n}var U,E;if([_,D]=(U=_/n,E=D/i,[u[0]*U+u[2]*E,u[1]*U+u[3]*E]),g){const e=Math.hypot(s,o);A=T=Math.max(Math.min(Math.hypot(y[0]-b[0]-_,y[1]-b[1]-D)/e,1/s,1/o),c/s,l/o)}else m?A=$p(Math.abs(y[0]-b[0]-_),c,1)/s:T=$p(Math.abs(y[1]-b[1]-D),l,1)/o;const k=qf._round(s*A),C=qf._round(o*T);v=d(...f(k,C));const S=x-v[0],F=w-v[1];eu(this,pn)||nu(this,pn,[this.x,this.y,this.width,this.height]),this.width=k,this.height=C,this.x=S,this.y=F,this.setDims(),this.fixAndSetPosition(),this._onResizing()},In=function(){var e;nu(this,cn,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null==(e=eu(this,Jt))||e.toggle(!1),this.parent.togglePointerEvents(!1)},Pn=function(e,t,n){let i=n/t*.7+1-.7;if(1===i)return;const r=iu(this,An,kn).call(this,this.rotation),a=(e,t)=>[r[0]*e+r[2]*t,r[1]*e+r[3]*t],[s,o]=this.parentDimensions,c=this.x,l=this.y,h=this.width,d=this.height,u=qf.MIN_SIZE/s,p=qf.MIN_SIZE/o;i=Math.max(Math.min(i,1/h,1/d),u/h,p/d);const f=qf._round(h*i),g=qf._round(d*i);if(f===h&&g===d)return;eu(this,pn)||nu(this,pn,[c,l,h,d]);const m=a(h/2,d/2),b=qf._round(c+m[0]),y=qf._round(l+m[1]),v=a(f/2,g/2);this.x=b-v[0],this.y=y-v[1],this.width=f,this.height=g,this.setDims(),this.fixAndSetPosition(),this._onResizing()},Rn=function(){var e;null==(e=eu(this,Jt))||e.toggle(!0),this.parent.togglePointerEvents(!0),iu(this,An,Mn).call(this)},Bn=function(e){const{isMac:t}=Op.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},Nn=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,r=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:r},s=e=>{i.abort(),nu(this,rn,null),nu(this,un,!1),this._uiManager.endDragSession()||iu(this,An,Bn).call(this,e),n&&this._onStopDragging()};t&&(nu(this,yn,e.clientX),nu(this,vn,e.clientY),nu(this,rn,e.pointerId),nu(this,an,e.pointerType),window.addEventListener("pointermove",e=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:t,clientY:i,pointerId:r}=e;if(r!==eu(this,rn))return void cf(e);const[a,s]=this.screenToPageTranslation(t-eu(this,yn),i-eu(this,vn));nu(this,yn,t),nu(this,vn,i),this._uiManager.dragSelectedEditors(a,s)},a),window.addEventListener("touchmove",cf,a),window.addEventListener("pointerdown",e=>{e.pointerType===eu(this,an)&&(eu(this,wn)||e.isPrimary)&&s(e),cf(e)},a));const o=e=>{eu(this,rn)&&eu(this,rn)!==e.pointerId?cf(e):s(e)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},On=function(){if(eu(this,hn)||!this.div)return;nu(this,hn,new AbortController);const e=this._uiManager.combinedSignal(eu(this,hn));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Ln=function(e){qf._resizerKeyboardManager.exec(this,e)},jn=function(e){var t;eu(this,mn)&&(null==(t=e.relatedTarget)?void 0:t.parentNode)!==eu(this,sn)&&iu(this,An,qn).call(this)},zn=function(e){nu(this,dn,eu(this,mn)?e:"")},Hn=function(e){if(eu(this,Qt))for(const t of eu(this,Qt))t.tabIndex=e},qn=function(){nu(this,mn,!1),iu(this,An,Hn).call(this,-1),iu(this,An,Mn).call(this)},tu(qf,Un),Qd(qf,"_l10n",null),Qd(qf,"_l10nResizer",null),Qd(qf,"_borderLineWidth",-1),Qd(qf,"_colorManager",new Rf),Qd(qf,"_zIndex",1),Qd(qf,"_telemetryTimeout",1e3);let Vf=qf;class $f extends Vf{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Gf=3285377520,Xf=4294901760,Yf=65535;class Kf{constructor(e){this.h1=e?4294967295&e:Gf,this.h2=e?4294967295&e:Gf}update(e){let t,n;if("string"==typeof e){t=new Uint8Array(2*e.length),n=0;for(let i=0,r=e.length;i<r;i++){const r=e.charCodeAt(i);r<=255?t[n++]=r:(t[n++]=r>>>8,t[n++]=255&r)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const i=n>>2,r=n-4*i,a=new Uint32Array(t.buffer,0,i);let s=0,o=0,c=this.h1,l=this.h2;const h=3432918353,d=461845907,u=11601,p=13715;for(let f=0;f<i;f++)1&f?(s=a[f],s=s*h&Xf|s*u&Yf,s=s<<15|s>>>17,s=s*d&Xf|s*p&Yf,c^=s,c=c<<13|c>>>19,c=5*c+3864292196):(o=a[f],o=o*h&Xf|o*u&Yf,o=o<<15|o>>>17,o=o*d&Xf|o*p&Yf,l^=o,l=l<<13|l>>>19,l=5*l+3864292196);switch(s=0,r){case 3:s^=t[4*i+2]<<16;case 2:s^=t[4*i+1]<<8;case 1:s^=t[4*i],s=s*h&Xf|s*u&Yf,s=s<<15|s>>>17,s=s*d&Xf|s*p&Yf,1&i?c^=s:l^=s}this.h1=c,this.h2=l}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&Xf|36045*e&Yf,t=4283543511*t&Xf|(2950163797*(t<<16|e>>>16)&Xf)>>>16,e^=t>>>1,e=444984403*e&Xf|60499*e&Yf,t=3301882366*t&Xf|(3120437893*(t<<16|e>>>16)&Xf)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Zf=Object.freeze({map:null,hash:"",transfer:void 0});class Qf{constructor(){tu(this,Yn),tu(this,Vn,!1),tu(this,$n,null),tu(this,Gn,null),tu(this,Xn,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=eu(this,Xn).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return eu(this,Xn).get(e)}remove(e){const t=eu(this,Xn).get(e);if(void 0!==t&&(t instanceof Vf&&eu(this,Gn).delete(t.annotationElementId),eu(this,Xn).delete(e),0===eu(this,Xn).size&&this.resetModified(),"function"==typeof this.onAnnotationEditor)){for(const e of eu(this,Xn).values())if(e instanceof Vf)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=eu(this,Xn).get(e);let i=!1;if(void 0!==n)for(const[r,a]of Object.entries(t))n[r]!==a&&(i=!0,n[r]=a);else i=!0,eu(this,Xn).set(e,t);i&&iu(this,Yn,Kn).call(this),t instanceof Vf&&((eu(this,Gn)||nu(this,Gn,new Map)).set(t.annotationElementId,t),"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type))}has(e){return eu(this,Xn).has(e)}get size(){return eu(this,Xn).size}resetModified(){eu(this,Vn)&&(nu(this,Vn,!1),"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new Jf(this)}get serializable(){if(0===eu(this,Xn).size)return Zf;const e=new Map,t=new Kf,n=[],i=Object.create(null);let r=!1;for(const[a,s]of eu(this,Xn)){const n=s instanceof Vf?s.serialize(!1,i):s;n&&(e.set(a,n),t.update(`${a}:${JSON.stringify(n)}`),r||(r=!!n.bitmap))}if(r)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Zf}get editorStats(){let e=null;const t=new Map;let n=0,i=0;for(const r of eu(this,Xn).values()){if(!(r instanceof Vf)){r.popup&&(r.popup.deleted?i+=1:n+=1);continue}r.isCommentDeleted?i+=1:r.hasEditedComment&&(n+=1);const a=r.telemetryFinalData;if(!a)continue;const{type:s}=a;t.has(s)||t.set(s,Object.getPrototypeOf(r).constructor),e||(e=Object.create(null));const o=e[s]||(e[s]=new Map);for(const[e,t]of Object.entries(a)){if("type"===e)continue;let n=o.get(e);n||(n=new Map,o.set(e,n));const i=n.get(t)??0;n.set(t,i+1)}}if((i>0||n>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:n}),!e)return null;for(const[r,a]of t)e[r]=a.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){nu(this,$n,null)}updateEditor(e,t){var n;const i=null==(n=eu(this,Gn))?void 0:n.get(e);return!!i&&(i.updateFromAnnotationLayer(t),!0)}getEditor(e){var t;return(null==(t=eu(this,Gn))?void 0:t.get(e))||null}get modifiedIds(){if(eu(this,$n))return eu(this,$n);const e=[];if(eu(this,Gn))for(const t of eu(this,Gn).values())t.serialize()&&e.push(t.annotationElementId);return nu(this,$n,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return eu(this,Xn).entries()}}Vn=new WeakMap,$n=new WeakMap,Gn=new WeakMap,Xn=new WeakMap,Yn=new WeakSet,Kn=function(){eu(this,Vn)||(nu(this,Vn,!0),"function"==typeof this.onSetModified&&this.onSetModified())};class Jf extends Qf{constructor(e){super(),tu(this,Zn);const{map:t,hash:n,transfer:i}=e.serializable,r=structuredClone(t,i?{transfer:i}:null);nu(this,Zn,{map:r,hash:n,transfer:i})}get print(){Tp("Should not call PrintAnnotationStorage.print")}get serializable(){return eu(this,Zn)}get modifiedIds(){return Cp(this,"modifiedIds",{ids:new Set,hash:""})}}Zn=new WeakMap;class eg{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){tu(this,Qn,new Set),this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),eu(this,Qn).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:n}){if(e&&!eu(this,Qn).has(e.loadedName)){if(Up(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:t,src:i,style:r}=e,a=new FontFace(t,i,r);this.addNativeFontFace(a);try{await a.load(),eu(this,Qn).add(t),null==n||n(e)}catch{Ap(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Tp("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void(await this.loadSystemFont(e));if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw Ap(`Failed to load font '${t.family}': '${n}'.`),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)})}}get isFontLoadingAPISupported(){var e;return Cp(this,"isFontLoadingAPISupported",!!(null==(e=this._document)?void 0:e.fonts))}get isSyncFontLoadingSupported(){return Cp(this,"isSyncFontLoadingSupported",Nu||Op.platform.isFirefox)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(Up(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return Cp(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,i){return e.substring(0,t)+i+e.substring(t+n)}let r,a;const s=this._document.createElement("canvas");s.width=1,s.height=1;const o=s.getContext("2d");let c=0;const l=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=i(h,976,l.length,l);const d=1482184792;let u=n(h,16);for(r=0,a=l.length-3;r<a;r+=4)u=u-d+n(l,r)|0;var p;r<l.length&&(u=u-d+n(l+"XXX",r)|0),h=i(h,16,4,(p=u,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f=`@font-face {font-family:"${l}";src:${`url(data:font/opentype;base64,${btoa(h)});`}}`;this.insertRule(f);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const m of[e.loadedName,l]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=m,g.append(e)}this._document.body.append(g),function e(t,n){if(++c>30)return Ap("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(l,()=>{g.remove(),t.complete()})}}Qn=new WeakMap;class tg{constructor(e,t=null,n,i){tu(this,Jn),this.compiledGlyphs=Object.create(null),nu(this,Jn,e),this._inspectFont=t,n&&Object.assign(this,n),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null==(e=this._inspectFont)||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${Gp(this.data)});`;let n;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${t}}`}else n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return null==(e=this._inspectFont)||e.call(this,this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(a){Ap(`getPathGenerator - ignoring character: "${a}".`)}const r=Df(null==i?void 0:i.path);return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=r}get black(){return eu(this,Jn).black}get bold(){return eu(this,Jn).bold}get disableFontFace(){return eu(this,Jn).disableFontFace??!1}set disableFontFace(e){Cp(this,"disableFontFace",!!e)}get fontExtraProperties(){return eu(this,Jn).fontExtraProperties??!1}get isInvalidPDFjsFont(){return eu(this,Jn).isInvalidPDFjsFont}get isType3Font(){return eu(this,Jn).isType3Font}get italic(){return eu(this,Jn).italic}get missingFile(){return eu(this,Jn).missingFile}get remeasure(){return eu(this,Jn).remeasure}get vertical(){return eu(this,Jn).vertical}get ascent(){return eu(this,Jn).ascent}get defaultWidth(){return eu(this,Jn).defaultWidth}get descent(){return eu(this,Jn).descent}get bbox(){return eu(this,Jn).bbox}set bbox(e){Cp(this,"bbox",e)}get fontMatrix(){return eu(this,Jn).fontMatrix}get fallbackName(){return eu(this,Jn).fallbackName}get loadedName(){return eu(this,Jn).loadedName}get mimetype(){return eu(this,Jn).mimetype}get name(){return eu(this,Jn).name}get data(){return eu(this,Jn).data}clearData(){eu(this,Jn).clearData()}get cssFontInfo(){return eu(this,Jn).cssFontInfo}get systemFontInfo(){return eu(this,Jn).systemFontInfo}get defaultVMetrics(){return eu(this,Jn).defaultVMetrics}}Jn=new WeakMap;const ng=class e{constructor(e){tu(this,ii),tu(this,ei),tu(this,ti),tu(this,ni),nu(this,ei,e),nu(this,ti,new DataView(eu(this,ei))),nu(this,ni,new TextDecoder)}static write(t){const n=new TextEncoder,i={};let r=0;for(const l of e.strings){const e=n.encode(t[l]);i[l]=e,r+=4+e.length}const a=new ArrayBuffer(r),s=new Uint8Array(a),o=new DataView(a);let c=0;for(const l of e.strings){const e=i[l],t=e.length;o.setUint32(c,t),s.set(e,c+4),c+=4+t}return Up(c===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}get fontFamily(){return iu(this,ii,ri).call(this,0)}get fontWeight(){return iu(this,ii,ri).call(this,1)}get italicAngle(){return iu(this,ii,ri).call(this,2)}};ei=new WeakMap,ti=new WeakMap,ni=new WeakMap,ii=new WeakSet,ri=function(e){Up(e<ng.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=eu(this,ti).getUint32(t)+4;const n=eu(this,ti).getUint32(t);return eu(this,ni).decode(new Uint8Array(eu(this,ei),t+4,n))},Qd(ng,"strings",["fontFamily","fontWeight","italicAngle"]);let ig=ng;const rg=class e{constructor(e){tu(this,ci),tu(this,ai),tu(this,si),tu(this,oi),nu(this,ai,e),nu(this,si,new DataView(eu(this,ai))),nu(this,oi,new TextDecoder)}static write(t){const n=new TextEncoder,i={};let r=0;for(const u of e.strings){const e=n.encode(t[u]);i[u]=e,r+=4+e.length}r+=4;let a,s,o=1+r;t.style&&(a=n.encode(t.style.style),s=n.encode(t.style.weight),o+=4+a.length+4+s.length);const c=new ArrayBuffer(o),l=new Uint8Array(c),h=new DataView(c);let d=0;h.setUint8(d++,t.guessFallback?1:0),h.setUint32(d,0),d+=4,r=0;for(const u of e.strings){const e=i[u],t=e.length;r+=4+t,h.setUint32(d,t),l.set(e,d+4),d+=4+t}return h.setUint32(d-r-4,r),t.style&&(h.setUint32(d,a.length),l.set(a,d+4),d+=4+a.length,h.setUint32(d,s.length),l.set(s,d+4),d+=4+s.length),Up(d<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(d)}get guessFallback(){return 0!==eu(this,si).getUint8(0)}get css(){return iu(this,ci,li).call(this,0)}get loadedName(){return iu(this,ci,li).call(this,1)}get baseFontName(){return iu(this,ci,li).call(this,2)}get src(){return iu(this,ci,li).call(this,3)}get style(){let e=1;e+=4+eu(this,si).getUint32(e);const t=eu(this,si).getUint32(e),n=eu(this,oi).decode(new Uint8Array(eu(this,ai),e+4,t));e+=4+t;const i=eu(this,si).getUint32(e);return{style:n,weight:eu(this,oi).decode(new Uint8Array(eu(this,ai),e+4,i))}}};ai=new WeakMap,si=new WeakMap,oi=new WeakMap,ci=new WeakSet,li=function(e){Up(e<rg.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=eu(this,si).getUint32(t)+4;const n=eu(this,si).getUint32(t);return eu(this,oi).decode(new Uint8Array(eu(this,ai),t+4,n))},Qd(rg,"strings",["css","loadedName","baseFontName","src"]);let ag=rg;const sg=class e{constructor({data:e,extra:t}){tu(this,yi),tu(this,gi),tu(this,mi),tu(this,bi),nu(this,gi,e),nu(this,mi,new TextDecoder),nu(this,bi,new DataView(eu(this,gi))),t&&Object.assign(this,t)}get black(){return iu(this,yi,vi).call(this,0)}get bold(){return iu(this,yi,vi).call(this,1)}get disableFontFace(){return iu(this,yi,vi).call(this,2)}get fontExtraProperties(){return iu(this,yi,vi).call(this,3)}get isInvalidPDFjsFont(){return iu(this,yi,vi).call(this,4)}get isType3Font(){return iu(this,yi,vi).call(this,5)}get italic(){return iu(this,yi,vi).call(this,6)}get missingFile(){return iu(this,yi,vi).call(this,7)}get remeasure(){return iu(this,yi,vi).call(this,8)}get vertical(){return iu(this,yi,vi).call(this,9)}get ascent(){return iu(this,yi,xi).call(this,0)}get defaultWidth(){return iu(this,yi,xi).call(this,1)}get descent(){return iu(this,yi,xi).call(this,2)}get bbox(){let t=eu(e,di);if(0===eu(this,bi).getUint8(t))return;t+=1;const n=[];for(let e=0;e<4;e++)n.push(eu(this,bi).getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=eu(e,ui);if(0===eu(this,bi).getUint8(t))return;t+=1;const n=[];for(let e=0;e<6;e++)n.push(eu(this,bi).getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=eu(e,pi);if(0===eu(this,bi).getUint8(t))return;t+=1;const n=[];for(let e=0;e<3;e++)n.push(eu(this,bi).getInt16(t,!0)),t+=2;return n}get fallbackName(){return iu(this,yi,wi).call(this,0)}get loadedName(){return iu(this,yi,wi).call(this,1)}get mimetype(){return iu(this,yi,wi).call(this,2)}get name(){return iu(this,yi,wi).call(this,3)}get data(){let t=eu(e,fi);t+=4+eu(this,bi).getUint32(t);t+=4+eu(this,bi).getUint32(t);t+=4+eu(this,bi).getUint32(t);const n=eu(this,bi).getUint32(t);if(0!==n)return new Uint8Array(eu(this,gi),t+4,n)}clearData(){let t=eu(e,fi);t+=4+eu(this,bi).getUint32(t);t+=4+eu(this,bi).getUint32(t);t+=4+eu(this,bi).getUint32(t);const n=eu(this,bi).getUint32(t);new Uint8Array(eu(this,gi),t+4,n).fill(0),eu(this,bi).setUint32(t,0)}get cssFontInfo(){let t=eu(e,fi);t+=4+eu(this,bi).getUint32(t);t+=4+eu(this,bi).getUint32(t);const n=eu(this,bi).getUint32(t);if(0===n)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(eu(this,gi),t+4,n)),new ig(i.buffer)}get systemFontInfo(){let t=eu(e,fi);t+=4+eu(this,bi).getUint32(t);const n=eu(this,bi).getUint32(t);if(0===n)return null;const i=new Uint8Array(n);return i.set(new Uint8Array(eu(this,gi),t+4,n)),new ag(i.buffer)}static write(t){const n=t.systemFontInfo?ag.write(t.systemFontInfo):null,i=t.cssFontInfo?ig.write(t.cssFontInfo):null,r=new TextEncoder,a={};let s=0;for(const g of e.strings)a[g]=r.encode(t[g]),s+=4+a[g].length;const o=eu(e,fi)+4+s+4+(n?n.byteLength:0)+4+(i?i.byteLength:0)+4+(t.data?t.data.length:0),c=new ArrayBuffer(o),l=new Uint8Array(c),h=new DataView(c);let d=0;const u=e.bools.length;let p=0,f=0;for(let g=0;g<u;g++){const n=t[e.bools[g]];p|=(void 0===n?0:n?2:1)<<f,f+=2,8!==f&&g!==u-1||(h.setUint8(d++,p),p=0,f=0)}Up(d===eu(e,hi),"FontInfo.write: Boolean properties offset mismatch");for(const g of e.numbers)h.setFloat64(d,t[g]),d+=8;if(Up(d===eu(e,di),"FontInfo.write: Number properties offset mismatch"),t.bbox){h.setUint8(d++,4);for(const e of t.bbox)h.setInt16(d,e,!0),d+=2}else h.setUint8(d++,0),d+=8;if(Up(d===eu(e,ui),"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){h.setUint8(d++,6);for(const e of t.fontMatrix)h.setFloat64(d,e,!0),d+=8}else h.setUint8(d++,0),d+=48;if(Up(d===eu(e,pi),"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){h.setUint8(d++,1);for(const e of t.defaultVMetrics)h.setInt16(d,e,!0),d+=2}else h.setUint8(d++,0),d+=6;Up(d===eu(e,fi),"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(eu(e,fi),0),d+=4;for(const g of e.strings){const e=a[g],t=e.length;h.setUint32(d,t),l.set(e,d+4),d+=4+t}if(h.setUint32(eu(e,fi),d-eu(e,fi)-4),n){const e=n.byteLength;h.setUint32(d,e),Up(d+4+e<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),l.set(new Uint8Array(n),d+4),d+=4+e}else h.setUint32(d,0),d+=4;if(i){const e=i.byteLength;h.setUint32(d,e),Up(d+4+e<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),l.set(new Uint8Array(i),d+4),d+=4+e}else h.setUint32(d,0),d+=4;return void 0===t.data?(h.setUint32(d,0),d+=4):(h.setUint32(d,t.data.length),l.set(t.data,d+4),d+=4+t.data.length),Up(d<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(d)}};hi=new WeakMap,di=new WeakMap,ui=new WeakMap,pi=new WeakMap,fi=new WeakMap,gi=new WeakMap,mi=new WeakMap,bi=new WeakMap,yi=new WeakSet,vi=function(e){Up(e<sg.bools.length,"Invalid boolean index");const t=Math.floor(e/4),n=2*e%8,i=eu(this,bi).getUint8(t)>>n&3;return 0===i?void 0:2===i},xi=function(e){return Up(e<sg.numbers.length,"Invalid number index"),eu(this,bi).getFloat64(eu(sg,hi)+8*e)},wi=function(e){Up(e<sg.strings.length,"Invalid string index");let t=eu(sg,fi)+4;for(let r=0;r<e;r++)t+=eu(this,bi).getUint32(t)+4;const n=eu(this,bi).getUint32(t),i=new Uint8Array(n);return i.set(new Uint8Array(eu(this,gi),t+4,n)),eu(this,mi).decode(i)},Qd(sg,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),Qd(sg,"numbers",["ascent","defaultWidth","descent"]),Qd(sg,"strings",["fallbackName","loadedName","mimetype","name"]),tu(sg,hi,Math.ceil(2*sg.bools.length/8)),tu(sg,di,eu(sg,hi)+8*sg.numbers.length),tu(sg,ui,eu(sg,di)+1+8),tu(sg,pi,eu(sg,ui)+1+48),tu(sg,fi,eu(sg,pi)+1+6);let og=sg;const cg=class e{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(t){let n,i=null,r=[],a=[],s=[],o=[],c=null,l=null;switch(t[0]){case"RadialAxial":n="axial"===t[1]?1:2,i=t[2],s=t[3],1===n?r.push(...t[4],...t[5]):r.push(t[4][0],t[4][1],t[6],t[5][0],t[5][1],t[7]);break;case"Mesh":n=3,c=t[1],r=t[2],a=t[3],o=t[4]||[],i=t[6],l=t[7];break;default:throw new Error(`Unsupported pattern type: ${t[0]}`)}const h=Math.floor(r.length/2),d=Math.floor(a.length/3),u=s.length,p=o.length;let f=0;for(const e of o)f+=1,f=4*Math.ceil(f/4),f+=4+4*e.coords.length,f+=4+4*e.colors.length,void 0!==e.verticesPerRow&&(f+=4);const g=new ArrayBuffer(20+8*h+3*d+8*u+(i?16:0)+(l?3:0)+f),m=new DataView(g),b=new Uint8Array(g);m.setUint8(eu(e,_i),n),m.setUint8(eu(e,Di),i?1:0),m.setUint8(eu(e,Ai),l?1:0),m.setUint8(eu(e,Ti),c),m.setUint32(eu(e,Ui),h,!0),m.setUint32(eu(e,Ei),d,!0),m.setUint32(eu(e,ki),u,!0),m.setUint32(eu(e,Ci),p,!0);let y=20;new Float32Array(g,y,2*h).set(r),y+=8*h,b.set(a,y),y+=3*d;for(const[e,v]of s)m.setFloat32(y,e,!0),y+=4,m.setUint32(y,parseInt(v.slice(1),16),!0),y+=4;if(i)for(const e of i)m.setFloat32(y,e,!0),y+=4;l&&(b.set(l,y),y+=3);for(let e=0;e<o.length;e++){const t=o[e];m.setUint8(y,t.type),y+=1,y=4*Math.ceil(y/4),m.setUint32(y,t.coords.length,!0),y+=4;new Int32Array(g,y,t.coords.length).set(t.coords),y+=4*t.coords.length,m.setUint32(y,t.colors.length,!0),y+=4;new Int32Array(g,y,t.colors.length).set(t.colors),y+=4*t.colors.length,void 0!==t.verticesPerRow&&(m.setUint32(y,t.verticesPerRow,!0),y+=4)}return g}getIR(){const t=this.view,n=this.data[eu(e,_i)],i=!!this.data[eu(e,Di)],r=!!this.data[eu(e,Ai)],a=t.getUint32(eu(e,Ui),!0),s=t.getUint32(eu(e,Ei),!0),o=t.getUint32(eu(e,ki),!0),c=t.getUint32(eu(e,Ci),!0);let l=20;const h=new Float32Array(this.buffer,l,2*a);l+=8*a;const d=new Uint8Array(this.buffer,l,3*s);l+=3*s;const u=[];for(let e=0;e<o;++e){const e=t.getFloat32(l,!0);l+=4;const n=t.getUint32(l,!0);l+=4,u.push([e,`#${n.toString(16).padStart(6,"0")}`])}let p=null;if(i){p=[];for(let e=0;e<4;++e)p.push(t.getFloat32(l,!0)),l+=4}let f=null;r&&(f=new Uint8Array(this.buffer,l,3),l+=3);const g=[];for(let e=0;e<c;++e){const e=t.getUint8(l);l+=1,l=4*Math.ceil(l/4);const n=t.getUint32(l,!0);l+=4;const i=new Int32Array(this.buffer,l,n);l+=4*n;const r=t.getUint32(l,!0);l+=4;const a=new Int32Array(this.buffer,l,r);l+=4*r;const s={type:e,coords:i,colors:a};e===ep&&(s.verticesPerRow=t.getUint32(l,!0),l+=4),g.push(s)}if(1===n)return["RadialAxial","axial",p,u,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(2===n)return["RadialAxial","radial",p,u,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(3===n){const t=this.data[eu(e,Ti)];let n=null;if(h.length>0){let e=h[0],t=h[0],i=h[1],r=h[1];for(let n=0;n<h.length;n+=2){const a=h[n],s=h[n+1];e=e>a?a:e,i=i>s?s:i,t=t<a?a:t,r=r<s?s:r}n=[e,i,t,r]}return["Mesh",t,h,d,g,n,p,f]}throw new Error(`Unsupported pattern kind: ${n}`)}};_i=new WeakMap,Di=new WeakMap,Ai=new WeakMap,Ti=new WeakMap,Ui=new WeakMap,Ei=new WeakMap,ki=new WeakMap,Ci=new WeakMap,tu(cg,_i,0),tu(cg,Di,1),tu(cg,Ai,2),tu(cg,Ti,3),tu(cg,Ui,4),tu(cg,Ei,8),tu(cg,ki,12),tu(cg,Ci,16);let lg=cg;class hg{constructor(e){tu(this,Si),nu(this,Si,e)}static write(e){let t,n;return Op.isFloat16ArraySupported?(n=new ArrayBuffer(2*e.length),t=new Float16Array(n)):(n=new ArrayBuffer(4*e.length),t=new Float32Array(n)),t.set(e),n}get path(){return Op.isFloat16ArraySupported?new Float16Array(eu(this,Si)):new Float32Array(eu(this,Si))}}function dg(e){if("string"!=typeof e)return null;if(e.endsWith("/"))return e;throw new Error(`Invalid factory url: "${e}" must include trailing slash.`)}Si=new WeakMap;const ug=e=>"object"==typeof e&&Number.isInteger(null==e?void 0:e.num)&&e.num>=0&&Number.isInteger(null==e?void 0:e.gen)&&e.gen>=0,pg=function(e,t,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,r,...a]=n;if(!e(i)&&!Number.isInteger(i))return!1;if(!t(r))return!1;const s=a.length;let o=!0;switch(r.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return 0===s;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(4!==s)return!1;o=!1;break;default:return!1}for(const c of a)if(!("number"==typeof c||o&&null===c))return!1;return!0}.bind(null,ug,e=>"object"==typeof e&&"string"==typeof(null==e?void 0:e.name));class fg{constructor(){tu(this,Fi,new Map),tu(this,Mi,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};eu(this,Mi).then(()=>{for(const[e]of eu(this,Fi))e.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((null==n?void 0:n.signal)instanceof AbortSignal){const{signal:r}=n;if(r.aborted)return void Ap("LoopbackPort - cannot use an `aborted` signal.");const a=()=>this.removeEventListener(e,t);i=()=>r.removeEventListener("abort",a),r.addEventListener("abort",a)}eu(this,Fi).set(t,i)}removeEventListener(e,t){const n=eu(this,Fi).get(t);null==n||n(),eu(this,Fi).delete(t)}terminate(){for(const[,e]of eu(this,Fi))null==e||e();eu(this,Fi).clear()}}Fi=new WeakMap,Mi=new WeakMap;const gg=1,mg=2,bg=1,yg=2,vg=3,xg=4,wg=5,_g=6,Dg=7,Ag=8;function Tg(){}function Ug(e){if(e instanceof Rp||e instanceof Wp||e instanceof Fp||e instanceof Ip||e instanceof Mp)return e;switch(e instanceof Error||"object"==typeof e&&null!==e||Tp('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Rp(e.message);case"InvalidPDFException":return new Wp(e.message);case"PasswordException":return new Fp(e.message,e.code);case"ResponseException":return new Ip(e.message,e.status,e.missing);case"UnknownErrorException":return new Mp(e.message,e.details)}return new Mp(e.message,e.toString())}class Eg{constructor(e,t,n){tu(this,Ii),tu(this,Wi,new AbortController),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",iu(this,Ii,Pi).bind(this),{signal:eu(this,Wi).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){r.reject(a)}return r.promise}sendWithStream(e,t,n,i){const r=this.streamId++,a=this.sourceName,s=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const c=Promise.withResolvers();return this.streamControllers[r]={controller:n,startCall:c,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:a,targetName:s,action:e,streamId:r,data:t,desiredSize:n.desiredSize},i),c.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[r].pullCall=t,o.postMessage({sourceName:a,targetName:s,stream:_g,streamId:r,desiredSize:e.desiredSize}),t.promise},cancel:e=>{Up(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[r].cancelCall=t,this.streamControllers[r].isClosed=!0,o.postMessage({sourceName:a,targetName:s,stream:bg,streamId:r,reason:Ug(e)}),t.promise}},n)}destroy(){var e;null==(e=eu(this,Wi))||e.abort(),nu(this,Wi,null)}}Wi=new WeakMap,Ii=new WeakSet,Pi=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream)return void iu(this,Ii,Bi).call(this,e);if(e.callback){const t=e.callbackId,n=this.callbackCapabilities[t];if(!n)throw new Error(`Cannot resolve callback ${t}`);if(delete this.callbackCapabilities[t],e.callback===gg)n.resolve(e.data);else{if(e.callback!==mg)throw new Error("Unexpected callback case");n.reject(Ug(e.reason))}return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,r=this.comObj;return void Promise.try(t,e.data).then(function(t){r.postMessage({sourceName:n,targetName:i,callback:gg,callbackId:e.callbackId,data:t})},function(t){r.postMessage({sourceName:n,targetName:i,callback:mg,callbackId:e.callbackId,reason:Ug(t)})})}e.streamId?iu(this,Ii,Ri).call(this,e):t(e.data)},Ri=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,a=this,s=this.actionHandler[e.action],o={enqueue(e,a=1,s){if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=a,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:n,targetName:i,stream:xg,streamId:t,chunk:e},s)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:vg,streamId:t}),delete a.streamSinks[t])},error(e){Up(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:n,targetName:i,stream:wg,streamId:t,reason:Ug(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,Promise.try(s,e.data,o).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Ag,streamId:t,success:!0})},function(e){r.postMessage({sourceName:n,targetName:i,stream:Ag,streamId:t,reason:Ug(e)})})},Bi=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,r=this.comObj,a=this.streamControllers[t],s=this.streamSinks[t];switch(e.stream){case Ag:e.success?a.startCall.resolve():a.startCall.reject(Ug(e.reason));break;case Dg:e.success?a.pullCall.resolve():a.pullCall.reject(Ug(e.reason));break;case _g:if(!s){r.postMessage({sourceName:n,targetName:i,stream:Dg,streamId:t,success:!0});break}s.desiredSize<=0&&e.desiredSize>0&&s.sinkCapability.resolve(),s.desiredSize=e.desiredSize,Promise.try(s.onPull||Tg).then(function(){r.postMessage({sourceName:n,targetName:i,stream:Dg,streamId:t,success:!0})},function(e){r.postMessage({sourceName:n,targetName:i,stream:Dg,streamId:t,reason:Ug(e)})});break;case xg:if(Up(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case vg:if(Up(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),iu(this,Ii,Ni).call(this,a,t);break;case wg:Up(a,"error should have stream controller"),a.controller.error(Ug(e.reason)),iu(this,Ii,Ni).call(this,a,t);break;case yg:e.success?a.cancelCall.resolve():a.cancelCall.reject(Ug(e.reason)),iu(this,Ii,Ni).call(this,a,t);break;case bg:if(!s)break;const o=Ug(e.reason);Promise.try(s.onCancel||Tg,o).then(function(){r.postMessage({sourceName:n,targetName:i,stream:yg,streamId:t,success:!0})},function(e){r.postMessage({sourceName:n,targetName:i,stream:yg,streamId:t,reason:Ug(e)})}),s.sinkCapability.reject(o),s.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Ni=async function(e,t){var n,i,r;await Promise.allSettled([null==(n=e.startCall)?void 0:n.promise,null==(i=e.pullCall)?void 0:i.promise,null==(r=e.cancelCall)?void 0:r.promise]),delete this.streamControllers[t]};class kg{constructor({enableHWA:e=!1}){tu(this,Oi,!1),nu(this,Oi,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!eu(this,Oi)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Tp("Abstract method `_createCanvas` called.")}}Oi=new WeakMap;class Cg extends kg{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class Sg{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(e=>({cMapData:e,isCompressed:this.isCompressed})).catch(e=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Tp("Abstract method `_fetch` called.")}}class Fg extends Sg{async _fetch(e){const t=await Jp(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Np(t)}}class Mg{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,r){return"none"}destroy(e=!1){}}class Wg extends Mg{constructor({docId:e,ownerDocument:t=globalThis.document}){super(),tu(this,Gi),tu(this,Li),tu(this,ji),tu(this,zi),tu(this,Hi),tu(this,qi),tu(this,Vi),tu(this,$i,0),nu(this,Hi,e),nu(this,qi,t)}addFilter(e){if(!e)return"none";let t=eu(this,Gi,Xi).get(e);if(t)return t;const[n,i,r]=iu(this,Gi,Zi).call(this,e),a=1===e.length?n:`${n}${i}${r}`;if(t=eu(this,Gi,Xi).get(a),t)return eu(this,Gi,Xi).set(e,t),t;const s=`g_${eu(this,Hi)}_transfer_map_${ru(this,$i)._++}`,o=iu(this,Gi,Qi).call(this,s);eu(this,Gi,Xi).set(e,o),eu(this,Gi,Xi).set(a,o);const c=iu(this,Gi,tr).call(this,s);return iu(this,Gi,ir).call(this,n,i,r,c),o}addHCMFilter(e,t){var n;const i=`${e}-${t}`,r="base";let a=eu(this,Gi,Yi).get(r);if((null==a?void 0:a.key)===i)return a.url;if(a?(null==(n=a.filter)||n.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},eu(this,Gi,Yi).set(r,a)),!e||!t)return a.url;const s=iu(this,Gi,ar).call(this,e);e=jp.makeHexColor(...s);const o=iu(this,Gi,ar).call(this,t);if(t=jp.makeHexColor(...o),eu(this,Gi,Ki).style.color="","#000000"===e&&"#ffffff"===t||e===t)return a.url;const c=new Array(256);for(let p=0;p<=255;p++){const e=p/255;c[p]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const l=c.join(","),h=`g_${eu(this,Hi)}_hcm_filter`,d=a.filter=iu(this,Gi,tr).call(this,h);iu(this,Gi,ir).call(this,l,l,l,d),iu(this,Gi,er).call(this,d);const u=(e,t)=>{const n=s[e]/255,i=o[e]/255,r=new Array(t+1);for(let a=0;a<=t;a++)r[a]=n+a/t*(i-n);return r.join(",")};return iu(this,Gi,ir).call(this,u(0,5),u(1,5),u(2,5),d),a.url=iu(this,Gi,Qi).call(this,h),a.url}addAlphaFilter(e){let t=eu(this,Gi,Xi).get(e);if(t)return t;const[n]=iu(this,Gi,Zi).call(this,[e]),i=`alpha_${n}`;if(t=eu(this,Gi,Xi).get(i),t)return eu(this,Gi,Xi).set(e,t),t;const r=`g_${eu(this,Hi)}_alpha_map_${ru(this,$i)._++}`,a=iu(this,Gi,Qi).call(this,r);eu(this,Gi,Xi).set(e,a),eu(this,Gi,Xi).set(i,a);const s=iu(this,Gi,tr).call(this,r);return iu(this,Gi,rr).call(this,n,s),a}addLuminosityFilter(e){let t,n,i=eu(this,Gi,Xi).get(e||"luminosity");if(i)return i;if(e?([t]=iu(this,Gi,Zi).call(this,[e]),n=`luminosity_${t}`):n="luminosity",i=eu(this,Gi,Xi).get(n),i)return eu(this,Gi,Xi).set(e,i),i;const r=`g_${eu(this,Hi)}_luminosity_map_${ru(this,$i)._++}`,a=iu(this,Gi,Qi).call(this,r);eu(this,Gi,Xi).set(e,a),eu(this,Gi,Xi).set(n,a);const s=iu(this,Gi,tr).call(this,r);return iu(this,Gi,Ji).call(this,s),e&&iu(this,Gi,rr).call(this,t,s),a}addHighlightHCMFilter(e,t,n,i,r){var a;const s=`${t}-${n}-${i}-${r}`;let o=eu(this,Gi,Yi).get(e);if((null==o?void 0:o.key)===s)return o.url;if(o?(null==(a=o.filter)||a.remove(),o.key=s,o.url="none",o.filter=null):(o={key:s,url:"none",filter:null},eu(this,Gi,Yi).set(e,o)),!t||!n)return o.url;const[c,l]=[t,n].map(iu(this,Gi,ar).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[u,p]=[i,r].map(iu(this,Gi,ar).bind(this));d<h&&([h,d,u,p]=[d,h,p,u]),eu(this,Gi,Ki).style.color="";const f=(e,t,n)=>{const i=new Array(256),r=(d-h)/n,a=e/255,s=(t-e)/(255*n);let o=0;for(let c=0;c<=n;c++){const e=Math.round(h+c*r),t=a+c*s;for(let n=o;n<=e;n++)i[n]=t;o=e+1}for(let c=o;c<256;c++)i[c]=i[o-1];return i.join(",")},g=`g_${eu(this,Hi)}_hcm_${e}_filter`,m=o.filter=iu(this,Gi,tr).call(this,g);return iu(this,Gi,er).call(this,m),iu(this,Gi,ir).call(this,f(u[0],p[0],5),f(u[1],p[1],5),f(u[2],p[2],5),m),o.url=iu(this,Gi,Qi).call(this,g),o.url}destroy(e=!1){var t,n,i,r;e&&(null==(t=eu(this,Vi))?void 0:t.size)||(null==(n=eu(this,zi))||n.parentNode.parentNode.remove(),nu(this,zi,null),null==(i=eu(this,ji))||i.clear(),nu(this,ji,null),null==(r=eu(this,Vi))||r.clear(),nu(this,Vi,null),nu(this,$i,0))}}Li=new WeakMap,ji=new WeakMap,zi=new WeakMap,Hi=new WeakMap,qi=new WeakMap,Vi=new WeakMap,$i=new WeakMap,Gi=new WeakSet,Xi=function(){return eu(this,ji)||nu(this,ji,new Map)},Yi=function(){return eu(this,Vi)||nu(this,Vi,new Map)},Ki=function(){if(!eu(this,zi)){const e=eu(this,qi).createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const n=eu(this,qi).createElementNS(Kp,"svg");n.setAttribute("width",0),n.setAttribute("height",0),nu(this,zi,eu(this,qi).createElementNS(Kp,"defs")),e.append(n),n.append(eu(this,zi)),eu(this,qi).body.append(e)}return eu(this,zi)},Zi=function(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const i=n.join(",");return[i,i,i]}const[t,n,i]=e,r=new Array(256),a=new Array(256),s=new Array(256);for(let o=0;o<256;o++)r[o]=t[o]/255,a[o]=n[o]/255,s[o]=i[o]/255;return[r.join(","),a.join(","),s.join(",")]},Qi=function(e){if(void 0===eu(this,Li)){nu(this,Li,"");const e=eu(this,qi).URL;e!==eu(this,qi).baseURI&&(nf(e)?Ap('#createUrl: ignore "data:"-URL for performance reasons.'):nu(this,Li,kp(e,"")))}return`url(${eu(this,Li)}#${e})`},Ji=function(e){const t=eu(this,qi).createElementNS(Kp,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)},er=function(e){const t=eu(this,qi).createElementNS(Kp,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)},tr=function(e){const t=eu(this,qi).createElementNS(Kp,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),eu(this,Gi,Ki).append(t),t},nr=function(e,t,n){const i=eu(this,qi).createElementNS(Kp,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)},ir=function(e,t,n,i){const r=eu(this,qi).createElementNS(Kp,"feComponentTransfer");i.append(r),iu(this,Gi,nr).call(this,r,"feFuncR",e),iu(this,Gi,nr).call(this,r,"feFuncG",t),iu(this,Gi,nr).call(this,r,"feFuncB",n)},rr=function(e,t){const n=eu(this,qi).createElementNS(Kp,"feComponentTransfer");t.append(n),iu(this,Gi,nr).call(this,n,"feFuncA",e)},ar=function(e){return eu(this,Gi,Ki).style.color=e,hf(getComputedStyle(eu(this,Gi,Ki)).getPropertyValue("color"))};class Ig{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(e=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Tp("Abstract method `_fetch` called.")}}class Pg extends Ig{async _fetch(e){const t=await Jp(e,"arraybuffer");return new Uint8Array(t)}}class Rg{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(e=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Tp("Abstract method `_fetch` called.")}}class Bg extends Rg{async _fetch(e){const t=await Jp(e,"arraybuffer");return new Uint8Array(t)}}async function Ng(e){const t=process.getBuiltinModule("fs"),n=await t.promises.readFile(e);return new Uint8Array(n)}Nu&&Ap("Please use the `legacy` build in Node.js environments.");class Og extends Mg{}class Lg extends kg{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class jg extends Sg{async _fetch(e){return Ng(e)}}class zg extends Ig{async _fetch(e){return Ng(e)}}class Hg extends Rg{async _fetch(e){return Ng(e)}}const qg="__forcedDependency",{floor:Vg,ceil:$g}=Math;function Gg(e,t,n,i,r,a){e[4*t+0]=Math.min(e[4*t+0],n),e[4*t+1]=Math.min(e[4*t+1],i),e[4*t+2]=Math.max(e[4*t+2],r),e[4*t+3]=Math.max(e[4*t+3],a)}const Xg=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Yg{constructor(e,t){tu(this,sr),tu(this,or),nu(this,sr,e),nu(this,or,t)}get length(){return eu(this,sr).length}isEmpty(e){return eu(this,sr)[e]===Xg}minX(e){return eu(this,or)[4*e+0]/256}minY(e){return eu(this,or)[4*e+1]/256}maxX(e){return(eu(this,or)[4*e+2]+1)/256}maxY(e){return(eu(this,or)[4*e+3]+1)/256}}sr=new WeakMap,or=new WeakMap;const Kg=(e,t)=>{if(!e)return;let n=e.get(t);return n||(n={dependencies:new Set,isRenderingOperation:!1},e.set(t,n)),n};class Zg{constructor(e,t,n=!1){tu(this,Tr),tu(this,cr,{__proto__:null}),tu(this,lr,{__proto__:null,transform:[],moveText:[],sameLineText:[],[qg]:[]}),tu(this,hr,new Map),tu(this,dr,[]),tu(this,ur,[]),tu(this,pr,[[1,0,0,1,0,0]]),tu(this,fr,[-1/0,-1/0,1/0,1/0]),tu(this,gr,new Float64Array([1/0,1/0,-1/0,-1/0])),tu(this,mr,-1),tu(this,br,new Set),tu(this,yr,new Map),tu(this,vr,new Map),tu(this,xr),tu(this,wr),tu(this,_r),tu(this,Dr),tu(this,Ar),nu(this,xr,e.width),nu(this,wr,e.height),iu(this,Tr,Ur).call(this,t),n&&nu(this,Ar,new Map)}growOperationsCount(e){e>=eu(this,Dr).length&&iu(this,Tr,Ur).call(this,e,eu(this,Dr))}save(e){return nu(this,cr,{__proto__:eu(this,cr)}),nu(this,lr,{__proto__:eu(this,lr),transform:{__proto__:eu(this,lr).transform},moveText:{__proto__:eu(this,lr).moveText},sameLineText:{__proto__:eu(this,lr).sameLineText},[qg]:{__proto__:eu(this,lr)[qg]}}),nu(this,fr,{__proto__:eu(this,fr)}),eu(this,dr).push(e),this}restore(e){var t;const n=Object.getPrototypeOf(eu(this,cr));if(null===n)return this;nu(this,cr,n),nu(this,lr,Object.getPrototypeOf(eu(this,lr))),nu(this,fr,Object.getPrototypeOf(eu(this,fr)));const i=eu(this,dr).pop();return void 0!==i&&(null==(t=Kg(eu(this,Ar),e))||t.dependencies.add(i),eu(this,Dr)[e]=eu(this,Dr)[i]),this}recordOpenMarker(e){return eu(this,dr).push(e),this}getOpenMarker(){return 0===eu(this,dr).length?null:eu(this,dr).at(-1)}recordCloseMarker(e){var t;const n=eu(this,dr).pop();return void 0!==n&&(null==(t=Kg(eu(this,Ar),e))||t.dependencies.add(n),eu(this,Dr)[e]=eu(this,Dr)[n]),this}beginMarkedContent(e){return eu(this,ur).push(e),this}endMarkedContent(e){var t;const n=eu(this,ur).pop();return void 0!==n&&(null==(t=Kg(eu(this,Ar),e))||t.dependencies.add(n),eu(this,Dr)[e]=eu(this,Dr)[n]),this}pushBaseTransform(e){return eu(this,pr).push(jp.multiplyByDOMMatrix(eu(this,pr).at(-1),e.getTransform())),this}popBaseTransform(){return eu(this,pr).length>1&&eu(this,pr).pop(),this}recordSimpleData(e,t){return eu(this,cr)[e]=t,this}recordIncrementalData(e,t){return eu(this,lr)[e].push(t),this}resetIncrementalData(e,t){return eu(this,lr)[e].length=0,this}recordNamedData(e,t){return eu(this,hr).set(e,t),this}recordSimpleDataFromNamed(e,t,n){eu(this,cr)[e]=eu(this,hr).get(t)??n}recordFutureForcedDependency(e,t){return this.recordIncrementalData(qg,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in eu(this,cr)&&this.recordFutureForcedDependency(t,eu(this,cr)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of eu(this,br))this.recordFutureForcedDependency(qg,e);return this}resetBBox(e){return eu(this,mr)!==e&&(nu(this,mr,e),eu(this,gr)[0]=1/0,eu(this,gr)[1]=1/0,eu(this,gr)[2]=-1/0,eu(this,gr)[3]=-1/0),this}recordClipBox(e,t,n,i,r,a){const s=jp.multiplyByDOMMatrix(eu(this,pr).at(-1),t.getTransform()),o=[1/0,1/0,-1/0,-1/0];jp.axialAlignedBoundingBox([n,r,i,a],s,o);const c=jp.intersect(eu(this,fr),o);return c?(eu(this,fr)[0]=c[0],eu(this,fr)[1]=c[1],eu(this,fr)[2]=c[2],eu(this,fr)[3]=c[3]):(eu(this,fr)[0]=eu(this,fr)[1]=1/0,eu(this,fr)[2]=eu(this,fr)[3]=-1/0),this}recordBBox(e,t,n,i,r,a){const s=eu(this,fr);if(s[0]===1/0)return this;const o=jp.multiplyByDOMMatrix(eu(this,pr).at(-1),t.getTransform());if(s[0]===-1/0)return jp.axialAlignedBoundingBox([n,r,i,a],o,eu(this,gr)),this;const c=[1/0,1/0,-1/0,-1/0];return jp.axialAlignedBoundingBox([n,r,i,a],o,c),eu(this,gr)[0]=Math.min(eu(this,gr)[0],Math.max(c[0],s[0])),eu(this,gr)[1]=Math.min(eu(this,gr)[1],Math.max(c[1],s[1])),eu(this,gr)[2]=Math.max(eu(this,gr)[2],Math.min(c[2],s[2])),eu(this,gr)[3]=Math.max(eu(this,gr)[3],Math.min(c[3],s[3])),this}recordCharacterBBox(e,t,n,i=1,r=0,a=0,s){const o=n.bbox;let c,l;if(o&&(c=o[2]!==o[0]&&o[3]!==o[1]&&eu(this,vr).get(n),!1!==c&&(l=[0,0,0,0],jp.axialAlignedBoundingBox(o,n.fontMatrix,l),1===i&&0===r&&0===a||jp.scaleMinMax([i,0,0,-i,r,a],l),c)))return this.recordBBox(e,t,l[0],l[2],l[1],l[3]);if(!s)return this.recordFullPageBBox(e);const h=s();return o&&l&&void 0===c&&(c=l[0]<=r-h.actualBoundingBoxLeft&&l[2]>=r+h.actualBoundingBoxRight&&l[1]<=a-h.actualBoundingBoxAscent&&l[3]>=a+h.actualBoundingBoxDescent,eu(this,vr).set(n,c),c)?this.recordBBox(e,t,l[0],l[2],l[1],l[3]):this.recordBBox(e,t,r-h.actualBoundingBoxLeft,r+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return eu(this,gr)[0]=Math.max(0,eu(this,fr)[0]),eu(this,gr)[1]=Math.max(0,eu(this,fr)[1]),eu(this,gr)[2]=Math.min(eu(this,xr),eu(this,fr)[2]),eu(this,gr)[3]=Math.min(eu(this,wr),eu(this,fr)[3]),this}getSimpleIndex(e){return eu(this,cr)[e]}recordDependencies(e,t){const n=eu(this,br),i=eu(this,cr),r=eu(this,lr);for(const a of t)a in eu(this,cr)?n.add(i[a]):a in r&&r[a].forEach(n.add,n);return this}recordNamedDependency(e,t){return eu(this,hr).has(t)&&eu(this,br).add(eu(this,hr).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[qg]),eu(this,Ar)){const t=Kg(eu(this,Ar),e),{dependencies:n}=t;eu(this,br).forEach(n.add,n),eu(this,dr).forEach(n.add,n),eu(this,ur).forEach(n.add,n),n.delete(e),t.isRenderingOperation=!0}if(eu(this,mr)===e){const n=Vg(256*eu(this,gr)[0]/eu(this,xr)),i=Vg(256*eu(this,gr)[1]/eu(this,wr)),r=$g(256*eu(this,gr)[2]/eu(this,xr)),a=$g(256*eu(this,gr)[3]/eu(this,wr));Gg(eu(this,_r),e,n,i,r,a);for(const t of eu(this,br))t!==e&&Gg(eu(this,_r),t,n,i,r,a);for(const t of eu(this,dr))t!==e&&Gg(eu(this,_r),t,n,i,r,a);for(const t of eu(this,ur))t!==e&&Gg(eu(this,_r),t,n,i,r,a);t||(eu(this,br).clear(),nu(this,mr,-1))}return this}recordShowTextOperation(e,t=!1){const n=Array.from(eu(this,br));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of n)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return eu(this,mr)===e&&(nu(this,mr,-1),eu(this,fr)[0]=Math.max(eu(this,fr)[0],eu(this,gr)[0]),eu(this,fr)[1]=Math.max(eu(this,fr)[1],eu(this,gr)[1]),eu(this,fr)[2]=Math.min(eu(this,fr)[2],eu(this,gr)[2]),eu(this,fr)[3]=Math.min(eu(this,fr)[3],eu(this,gr)[3]),t||eu(this,br).clear()),this}_takePendingDependencies(){const e=eu(this,br);return nu(this,br,new Set),e}_extractOperation(e){const t=eu(this,yr).get(e);return eu(this,yr).delete(e),t}_pushPendingDependencies(e){for(const t of e)eu(this,br).add(t)}take(){return eu(this,vr).clear(),new Yg(eu(this,Dr),eu(this,_r))}takeDebugMetadata(){return eu(this,Ar)}}cr=new WeakMap,lr=new WeakMap,hr=new WeakMap,dr=new WeakMap,ur=new WeakMap,pr=new WeakMap,fr=new WeakMap,gr=new WeakMap,mr=new WeakMap,br=new WeakMap,yr=new WeakMap,vr=new WeakMap,xr=new WeakMap,wr=new WeakMap,_r=new WeakMap,Dr=new WeakMap,Ar=new WeakMap,Tr=new WeakSet,Ur=function(e,t){const n=new ArrayBuffer(4*e);nu(this,_r,new Uint8ClampedArray(n)),nu(this,Dr,new Uint32Array(n)),t&&t.length>0?(eu(this,Dr).set(t),eu(this,Dr).fill(Xg,t.length)):eu(this,Dr).fill(Xg)};Er=new WeakMap,kr=new WeakMap,Cr=new WeakMap,Sr=new WeakMap,Fr=new WeakMap;let Qg=class e{constructor(t,n,i){if(tu(this,Er),tu(this,kr),tu(this,Cr),tu(this,Sr,0),tu(this,Fr,0),t instanceof e&&eu(t,Cr)===!!i)return t;nu(this,Er,t),nu(this,kr,n),nu(this,Cr,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return ru(this,Fr)._++,eu(this,Er).save(eu(this,kr)),this}restore(e){return eu(this,Fr)>0&&(eu(this,Er).restore(eu(this,kr)),ru(this,Fr)._--),this}recordOpenMarker(e){return ru(this,Sr)._++,this}getOpenMarker(){return eu(this,Sr)>0?eu(this,kr):eu(this,Er).getOpenMarker()}recordCloseMarker(e){return ru(this,Sr)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return eu(this,Er).pushBaseTransform(e),this}popBaseTransform(){return eu(this,Er).popBaseTransform(),this}recordSimpleData(e,t){return eu(this,Er).recordSimpleData(e,eu(this,kr)),this}recordIncrementalData(e,t){return eu(this,Er).recordIncrementalData(e,eu(this,kr)),this}resetIncrementalData(e,t){return eu(this,Er).resetIncrementalData(e,eu(this,kr)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,n){return eu(this,Er).recordSimpleDataFromNamed(e,t,eu(this,kr)),this}recordFutureForcedDependency(e,t){return eu(this,Er).recordFutureForcedDependency(e,eu(this,kr)),this}inheritSimpleDataAsFutureForcedDependencies(e){return eu(this,Er).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return eu(this,Er).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return eu(this,Cr)||eu(this,Er).resetBBox(eu(this,kr)),this}recordClipBox(e,t,n,i,r,a){return eu(this,Cr)||eu(this,Er).recordClipBox(eu(this,kr),t,n,i,r,a),this}recordBBox(e,t,n,i,r,a){return eu(this,Cr)||eu(this,Er).recordBBox(eu(this,kr),t,n,i,r,a),this}recordCharacterBBox(e,t,n,i,r,a,s){return eu(this,Cr)||eu(this,Er).recordCharacterBBox(eu(this,kr),t,n,i,r,a,s),this}recordFullPageBBox(e){return eu(this,Cr)||eu(this,Er).recordFullPageBBox(eu(this,kr)),this}getSimpleIndex(e){return eu(this,Er).getSimpleIndex(e)}recordDependencies(e,t){return eu(this,Er).recordDependencies(eu(this,kr),t),this}recordNamedDependency(e,t){return eu(this,Er).recordNamedDependency(eu(this,kr),t),this}recordOperation(e){return eu(this,Er).recordOperation(eu(this,kr),!0),this}recordShowTextOperation(e){return eu(this,Er).recordShowTextOperation(eu(this,kr),!0),this}bboxToClipBoxDropOperation(e){return eu(this,Cr)||eu(this,Er).bboxToClipBoxDropOperation(eu(this,kr),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};const Jg=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],em=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],tm=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],nm=["filter","fillColor","fillAlpha"],im=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],rm=["transform"],am=["transform","fillColor"],sm="Fill",om="Stroke",cm="Shading";function lm(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],r=new Path2D;r.rect(t[0],t[1],n,i),e.clip(r)}class hm{isModifyingCurrentTransform(){return!1}getPattern(){Tp("Abstract method `getPattern` called.")}}class dm extends hm{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return 0===this._p0[0]&&0===this._p0[1]&&(!this.isRadial()||0===this._p1[0]&&0===this._p1[1])}isRadial(){return"radial"===this._type}_createGradient(e,t=null){let n,i=this._p0,r=this._p1;if(t&&(i=i.slice(),r=r.slice(),jp.applyTransform(i,t),jp.applyTransform(r,t)),"axial"===this._type)n=e.createLinearGradient(i[0],i[1],r[0],r[1]);else if("radial"===this._type){let a=this._r0,s=this._r1;if(t){const e=new Float32Array(2);jp.singularValueDecompose2dScale(t,e),a*=e[0],s*=e[0]}n=e.createRadialGradient(i[0],i[1],a,r[0],r[1],s)}for(const a of this._colorStops)n.addColorStop(a[0],a[1]);return n}getPattern(e,t,n,i){let r;if(i===om||i===sm){if(this.isOriginBased()){let i=jp.transform(n,t.baseTransform);this.matrix&&(i=jp.transform(i,this.matrix));const r=.001,a=Math.hypot(i[0],i[1]),s=Math.hypot(i[2],i[3]),o=(i[0]*i[2]+i[1]*i[3])/(a*s);if(Math.abs(o)<r){if(!this.isRadial())return this._createGradient(e,i);if(Math.abs(a-s)<r)return this._createGradient(e,i)}}const a=t.current.getClippedPathBoundingBox(i,df(e))||[0,0,0,0],s=Math.ceil(a[2]-a[0])||1,o=Math.ceil(a[3]-a[1])||1,c=t.cachedCanvases.getCanvas("pattern",s,o),l=c.context;l.clearRect(0,0,l.canvas.width,l.canvas.height),l.beginPath(),l.rect(0,0,l.canvas.width,l.canvas.height),l.translate(-a[0],-a[1]),n=jp.transform(n,[1,0,0,1,a[0],a[1]]),l.transform(...t.baseTransform),this.matrix&&l.transform(...this.matrix),lm(l,this._bbox),l.fillStyle=this._createGradient(l),l.fill(),r=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(n);r.setTransform(h)}else lm(e,this._bbox),r=this._createGradient(e);return r}}function um(e,t,n,i,r,a,s,o){const c=t.coords,l=t.colors,h=e.data,d=4*e.width;let u;c[n+1]>c[i+1]&&(u=n,n=i,i=u,u=a,a=s,s=u),c[i+1]>c[r+1]&&(u=i,i=r,r=u,u=s,s=o,o=u),c[n+1]>c[i+1]&&(u=n,n=i,i=u,u=a,a=s,s=u);const p=(c[n]+t.offsetX)*t.scaleX,f=(c[n+1]+t.offsetY)*t.scaleY,g=(c[i]+t.offsetX)*t.scaleX,m=(c[i+1]+t.offsetY)*t.scaleY,b=(c[r]+t.offsetX)*t.scaleX,y=(c[r+1]+t.offsetY)*t.scaleY;if(f>=y)return;const v=l[a],x=l[a+1],w=l[a+2],_=l[s],D=l[s+1],A=l[s+2],T=l[o],U=l[o+1],E=l[o+2],k=Math.round(f),C=Math.round(y);let S,F,M,W,I,P,R,B;for(let N=k;N<=C;N++){if(N<m){const e=N<f?0:(f-N)/(f-m);S=p-(p-g)*e,F=v-(v-_)*e,M=x-(x-D)*e,W=w-(w-A)*e}else{let e;e=N>y?1:m===y?0:(m-N)/(m-y),S=g-(g-b)*e,F=_-(_-T)*e,M=D-(D-U)*e,W=A-(A-E)*e}let e;e=N<f?0:N>y?1:(f-N)/(f-y),I=p-(p-b)*e,P=v-(v-T)*e,R=x-(x-U)*e,B=w-(w-E)*e;const t=Math.round(Math.min(S,I)),n=Math.round(Math.max(S,I));let i=d*N+4*t;for(let r=t;r<=n;r++)e=(S-r)/(S-I),e<0?e=0:e>1&&(e=1),h[i++]=F-(F-P)*e|0,h[i++]=M-(M-R)*e|0,h[i++]=W-(W-B)*e|0,h[i++]=255}}function pm(e,t,n){const i=t.coords,r=t.colors;let a,s;switch(t.type){case ep:const o=t.verticesPerRow,c=Math.floor(i.length/o)-1,l=o-1;for(a=0;a<c;a++){let t=a*o;for(let a=0;a<l;a++,t++)um(e,n,i[t],i[t+1],i[t+o],r[t],r[t+1],r[t+o]),um(e,n,i[t+o+1],i[t+1],i[t+o],r[t+o+1],r[t+1],r[t+o])}break;case Ju:for(a=0,s=i.length;a<s;a+=3)um(e,n,i[a],i[a+1],i[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class fm extends hm{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const i=Math.floor(this._bounds[0]),r=Math.floor(this._bounds[1]),a=Math.ceil(this._bounds[2])-i,s=Math.ceil(this._bounds[3])-r,o=Math.min(Math.ceil(Math.abs(a*e[0]*1.1)),3e3),c=Math.min(Math.ceil(Math.abs(s*e[1]*1.1)),3e3),l=a/o,h=s/c,d={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-r,scaleX:1/l,scaleY:1/h},u=o+4,p=c+4,f=n.getCanvas("mesh",u,p),g=f.context,m=g.createImageData(o,c);if(t){const e=m.data;for(let n=0,i=e.length;n<i;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const b of this._figures)pm(m,b,d);g.putImageData(m,2,2);return{canvas:f.canvas,offsetX:i-2*l,offsetY:r-2*h,scaleX:l,scaleY:h}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){lm(e,this._bbox);const r=new Float32Array(2);if(i===cm)jp.singularValueDecompose2dScale(df(e),r);else if(this.matrix){jp.singularValueDecompose2dScale(this.matrix,r);const[e,n]=r;jp.singularValueDecompose2dScale(t.baseTransform,r),r[0]*=e,r[1]*=n}else jp.singularValueDecompose2dScale(t.baseTransform,r);const a=this._createMeshCanvas(r,i===cm?null:this._background,t.cachedCanvases);return i!==cm&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class gm extends hm{getPattern(){return"hotpink"}}const mm=1,bm=2,ym=class e{constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e,t){var n,i;const{bbox:r,operatorList:a,paintType:s,tilingType:o,color:c,canvasGraphicsFactory:l}=this;let{xstep:h,ystep:d}=this;h=Math.abs(h),d=Math.abs(d),Dp("TilingType: "+o);const u=r[0],p=r[1],f=r[2],g=r[3],m=f-u,b=g-p,y=new Float32Array(2);jp.singularValueDecompose2dScale(this.matrix,y);const[v,x]=y;jp.singularValueDecompose2dScale(this.baseTransform,y);const w=v*y[0],_=x*y[1];let D=m,A=b,T=!1,U=!1;const E=Math.ceil(h*w),k=Math.ceil(d*_);E>=Math.ceil(m*w)?D=h:T=!0,k>=Math.ceil(b*_)?A=d:U=!0;const C=this.getSizeAndScale(D,this.ctx.canvas.width,w),S=this.getSizeAndScale(A,this.ctx.canvas.height,_),F=e.cachedCanvases.getCanvas("pattern",C.size,S.size),M=F.context,W=l.createCanvasGraphics(M,t);if(W.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(W,s,c),M.translate(-C.scale*u,-S.scale*p),W.transform(0,C.scale,0,0,S.scale,0,0),M.save(),null==(n=W.dependencyTracker)||n.save(),this.clipBbox(W,u,p,f,g),W.baseTransform=df(W.ctx),W.executeOperatorList(a),W.endDrawing(),null==(i=W.dependencyTracker)||i.restore(),M.restore(),T||U){const t=F.canvas;T&&(D=h),U&&(A=d);const n=this.getSizeAndScale(D,this.ctx.canvas.width,w),i=this.getSizeAndScale(A,this.ctx.canvas.height,_),r=n.size,a=i.size,s=e.cachedCanvases.getCanvas("pattern-workaround",r,a),o=s.context,c=T?Math.floor(m/h):0,l=U?Math.floor(b/d):0;for(let e=0;e<=c;e++)for(let n=0;n<=l;n++)o.drawImage(t,r*e,a*n,r,a,0,0,r,a);return{canvas:s.canvas,scaleX:n.scale,scaleY:i.scale,offsetX:u,offsetY:p}}return{canvas:F.canvas,scaleX:C.scale,scaleY:S.scale,offsetX:u,offsetY:p}}getSizeAndScale(t,n,i){const r=Math.max(e.MAX_PATTERN_SIZE,n);let a=Math.ceil(t*i);return a>=r?a=r:i=a/t,{scale:i,size:a}}clipBbox(e,t,n,i,r){const a=i-t,s=r-n;e.ctx.rect(t,n,a,s),jp.axialAlignedBoundingBox([t,n,i,r],df(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,r=e.current;switch(t){case mm:const{fillStyle:e,strokeStyle:a}=this.ctx;i.fillStyle=r.fillColor=e,i.strokeStyle=r.strokeColor=a;break;case bm:i.fillStyle=i.strokeStyle=n,r.fillColor=r.strokeColor=n;break;default:throw new Pp(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i,r){let a=n;i!==cm&&(a=jp.transform(a,t.baseTransform),this.matrix&&(a=jp.transform(a,this.matrix)));const s=this.createPatternCanvas(t,r);let o=new DOMMatrix(a);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const c=e.createPattern(s.canvas,"repeat");return c.setTransform(o),c}};Qd(ym,"MAX_PATTERN_SIZE",3e3);let vm=ym;function xm({src:e,srcPos:t=0,dest:n,width:i,height:r,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=Op.isLittleEndian?4278190080:255,[c,l]=s?[a,o]:[o,a],h=i>>3,d=7&i,u=e.length;n=new Uint32Array(n.buffer);let p=0;for(let f=0;f<r;f++){for(const r=t+h;t<r;t++){const i=t<u?e[t]:255;n[p++]=128&i?l:c,n[p++]=64&i?l:c,n[p++]=32&i?l:c,n[p++]=16&i?l:c,n[p++]=8&i?l:c,n[p++]=4&i?l:c,n[p++]=2&i?l:c,n[p++]=1&i?l:c}if(0===d)continue;const i=t<u?e[t++]:255;for(let e=0;e<d;e++)n[p++]=i&1<<7-e?l:c}return{srcPos:t,destPos:p}}const wm=16,_m=new DOMMatrix,Dm=new Float32Array(2),Am=new Float32Array([1/0,1/0,-1/0,-1/0]);class Tm{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Um(e,t,n,i,r,a,s,o,c,l){const[h,d,u,p,f,g]=df(e);if(0===d&&0===u){const m=s*h+f,b=Math.round(m),y=o*p+g,v=Math.round(y),x=(s+c)*h+f,w=Math.abs(Math.round(x)-b)||1,_=(o+l)*p+g,D=Math.abs(Math.round(_)-v)||1;return e.setTransform(Math.sign(h),0,0,Math.sign(p),b,v),e.drawImage(t,n,i,r,a,0,0,w,D),e.setTransform(h,d,u,p,f,g),[w,D]}if(0===h&&0===p){const m=o*u+f,b=Math.round(m),y=s*d+g,v=Math.round(y),x=(o+l)*u+f,w=Math.abs(Math.round(x)-b)||1,_=(s+c)*d+g,D=Math.abs(Math.round(_)-v)||1;return e.setTransform(0,Math.sign(d),Math.sign(u),0,b,v),e.drawImage(t,n,i,r,a,0,0,D,w),e.setTransform(h,d,u,p,f,g),[D,w]}e.drawImage(t,n,i,r,a,s,o,c,l);return[Math.hypot(h,d)*c,Math.hypot(u,p)*l]}class Em{constructor(e,t,n){Qd(this,"alphaIsShape",!1),Qd(this,"fontSize",0),Qd(this,"fontSizeScale",1),Qd(this,"textMatrix",null),Qd(this,"textMatrixScale",1),Qd(this,"fontMatrix",Ou),Qd(this,"leading",0),Qd(this,"x",0),Qd(this,"y",0),Qd(this,"lineX",0),Qd(this,"lineY",0),Qd(this,"charSpacing",0),Qd(this,"wordSpacing",0),Qd(this,"textHScale",1),Qd(this,"textRenderingMode",tp),Qd(this,"textRise",0),Qd(this,"fillColor","#000000"),Qd(this,"strokeColor","#000000"),Qd(this,"patternFill",!1),Qd(this,"patternStroke",!1),Qd(this,"fillAlpha",1),Qd(this,"strokeAlpha",1),Qd(this,"lineWidth",1),Qd(this,"activeSMask",null),Qd(this,"transferMaps","none"),null==n||n(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Am.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=sm,t=null){const n=this.minMax.slice();if(e===om){t||Tp("Stroke bounding box must include transform."),jp.singularValueDecompose2dScale(t,Dm);const e=Dm[0]*this.lineWidth/2,i=Dm[1]*this.lineWidth/2;n[0]-=e,n[1]-=i,n[2]+=e,n[3]+=i}return n}updateClipFromPath(){const e=jp.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Am,0)}getClippedPathBoundingBox(e=sm,t=null){return jp.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function km(e,t){if(t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,r=n%wm,a=(n-r)/wm,s=0===r?a:a+1,o=e.createImageData(i,wm);let c,l=0;const h=t.data,d=o.data;let u,p,f,g;if(t.kind===op.GRAYSCALE_1BPP){const t=h.byteLength,n=new Uint32Array(d.buffer,0,d.byteLength>>2),g=n.length,m=i+7>>3,b=4294967295,y=Op.isLittleEndian?4278190080:255;for(u=0;u<s;u++){for(f=u<a?wm:r,c=0,p=0;p<f;p++){const e=t-l;let r=0;const a=e>m?i:8*e-7,s=-8&a;let o=0,d=0;for(;r<s;r+=8)d=h[l++],n[c++]=128&d?b:y,n[c++]=64&d?b:y,n[c++]=32&d?b:y,n[c++]=16&d?b:y,n[c++]=8&d?b:y,n[c++]=4&d?b:y,n[c++]=2&d?b:y,n[c++]=1&d?b:y;for(;r<a;r++)0===o&&(d=h[l++],o=128),n[c++]=d&o?b:y,o>>=1}for(;c<g;)n[c++]=0;e.putImageData(o,0,u*wm)}}else if(t.kind===op.RGBA_32BPP){for(p=0,g=i*wm*4,u=0;u<a;u++)d.set(h.subarray(l,l+g)),l+=g,e.putImageData(o,0,p),p+=wm;u<s&&(g=i*r*4,d.set(h.subarray(l,l+g)),e.putImageData(o,0,p))}else{if(t.kind!==op.RGB_24BPP)throw new Error(`bad image kind: ${t.kind}`);for(f=wm,g=i*f,u=0;u<s;u++){for(u>=a&&(f=r,g=i*f),c=0,p=g;p--;)d[c++]=h[l++],d[c++]=h[l++],d[c++]=h[l++],d[c++]=255;e.putImageData(o,0,u*wm)}}}function Cm(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,i=t.width,r=n%wm,a=(n-r)/wm,s=0===r?a:a+1,o=e.createImageData(i,wm);let c=0;const l=t.data,h=o.data;for(let d=0;d<s;d++){const t=d<a?wm:r;({srcPos:c}=xm({src:l,srcPos:c,dest:h,width:i,height:t,nonBlackColor:0})),e.putImageData(o,0,d*wm)}}function Sm(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==e[i]&&(t[i]=e[i]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function Fm(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}function Mm(e,t){if(t)return!0;jp.singularValueDecompose2dScale(e,Dm);const n=Math.fround(ff.pixelRatio*Qp.PDF_TO_CSS_UNITS);return Dm[0]<=n&&Dm[1]<=n}const Wm=["butt","round","square"],Im=["miter","round","bevel"],Pm={},Rm={};Mr=new WeakSet,Wr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ir=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},Pr=function(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i};let Bm=class e{constructor(e,t,n,i,r,{optionalContentConfig:a,markedContentStack:s=null},o,c,l){tu(this,Mr),this.ctx=e,this.current=new Em(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=s||[],this.optionalContentConfig=a,this.cachedCanvases=new Tm(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=o,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=l??null}getObject(e,t,n=null){var i;return"string"==typeof t?(null==(i=this.dependencyTracker)||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const r=this.ctx.canvas.width,a=this.ctx.canvas.height,s=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,a),this.ctx.fillStyle=s,n){const e=this.cachedCanvases.getCanvas("transparent",r,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...df(this.compositeCtx))}this.ctx.save(),Fm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=df(this.ctx)}executeOperatorList(e,t,n,i,r){var a;const s=e.argsArray,o=e.fnArray;let c=t||0;const l=s.length;if(l===c)return c;const h=l-c>10&&"function"==typeof n,d=h?Date.now()+15:0;let u=0;const p=this.commonObjs,f=this.objs;let g,m;for(;;){if(void 0!==i&&c===i.nextBreakPoint)return i.breakIt(c,n),c;if(!r||r(c))if(g=o[c],m=s[c]??null,g!==gp.dependency)null===m?this[g](c):this[g](c,...m);else for(const e of m){null==(a=this.dependencyTracker)||a.recordNamedData(e,c);const t=e.startsWith("g_")?p:f;if(!t.has(e))return t.get(e,n),c}if(c++,c===l)return c;if(h&&++u>10){if(Date.now()>d)return n(),c;u=0}}}endDrawing(){iu(this,Mr,Wr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),iu(this,Mr,Ir).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let r,a,s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),c=n,l=i,h="prescale1";for(;s>2&&c>1||o>2&&l>1;){let t=c,n=l;s>2&&c>1&&(t=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),s/=c/t),o>2&&l>1&&(n=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/n),r=this.cachedCanvases.getCanvas(h,t,n),a=r.context,a.clearRect(0,0,t,n),a.drawImage(e,0,0,c,l,0,0,t,n),e=r.canvas,c=t,l=n,h="prescale1"===h?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:l}}_createMaskCanvas(e,t){var n,i;const r=this.ctx,{width:a,height:s}=t,o=this.current.fillColor,c=this.current.patternFill,l=df(r);let h,d,u,p;if((t.bitmap||t.data)&&t.count>1){const i=t.bitmap||t.data.buffer;d=JSON.stringify(c?l:[l.slice(0,4),o]),h=this._cachedBitmapsMap.get(i),h||(h=new Map,this._cachedBitmapsMap.set(i,h));const r=h.get(d);if(r&&!c){const t=Math.round(Math.min(l[0],l[2])+l[4]),i=Math.round(Math.min(l[1],l[3])+l[5]);return null==(n=this.dependencyTracker)||n.recordDependencies(e,am),{canvas:r,offsetX:t,offsetY:i}}u=r}u||(p=this.cachedCanvases.getCanvas("maskCanvas",a,s),Cm(p.context,t));let f=jp.transform(l,[1/a,0,0,-1/s,0,0]);f=jp.transform(f,[1,0,0,1,0,-s]);const g=Am.slice();jp.axialAlignedBoundingBox([0,0,a,s],f,g);const[m,b,y,v]=g,x=Math.round(y-m)||1,w=Math.round(v-b)||1,_=this.cachedCanvases.getCanvas("fillCanvas",x,w),D=_.context,A=m,T=b;D.translate(-A,-T),D.transform(...f),u||(u=this._scaleImage(p.canvas,uf(D)),u=u.img,h&&c&&h.set(d,u)),D.imageSmoothingEnabled=Mm(df(D),t.interpolate),Um(D,u,0,0,u.width,u.height,0,0,a,s),D.globalCompositeOperation="source-in";const U=jp.transform(uf(D),[1,0,0,1,-A,-T]);return D.fillStyle=c?o.getPattern(r,this,U,sm,e):o,D.fillRect(0,0,a,s),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(d,_.canvas)),null==(i=this.dependencyTracker)||i.recordDependencies(e,am),{canvas:_.canvas,offsetX:Math.round(A),offsetY:Math.round(T)}}setLineWidth(e,t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("lineCap",e),this.ctx.lineCap=Wm[t]}setLineJoin(e,t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Im[t]}setMiterLimit(e,t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){var i;null==(i=this.dependencyTracker)||i.recordSimpleData("dash",e);const r=this.ctx;void 0!==r.setLineDash&&(r.setLineDash(t),r.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var n,i,r,a,s;for(const[o,c]of t)switch(o){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":null==(n=this.dependencyTracker)||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":null==(i=this.dependencyTracker)||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":null==(r=this.dependencyTracker)||r.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":null==(a=this.dependencyTracker)||a.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":null==(s=this.dependencyTracker)||s.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const a=this.ctx=r.context;a.setTransform(this.suspendedCtx.getTransform()),Sm(this.suspendedCtx,a),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,i,r,a,s){t.transform(e,n,i,r,a,s),this.__originalTransform(e,n,i,r,a,s)},e.setTransform=function(e,n,i,r,a,s){t.setTransform(e,n,i,r,a,s),this.__originalSetTransform(e,n,i,r,a,s)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,i,r,a,s){t.bezierCurveTo(e,n,i,r,a,s),this.__originalBezierCurveTo(e,n,i,r,a,s)},e.rect=function(e,n,i,r){t.rect(e,n,i,r),this.__originalRect(e,n,i,r)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Sm(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const r=i[0],a=i[1],s=i[2]-r,o=i[3]-a;0!==s&&0!==o&&(this.genericComposeSMask(t.context,n,s,o,t.subtype,t.backdrop,t.transferMap,r,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,r,a,s,o,c,l,h){let d=e.canvas,u=o-l,p=c-h;if(a)if(u<0||p<0||u+n>d.width||p+i>d.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,i),t=e.context;t.drawImage(d,-u,-p),t.globalCompositeOperation="destination-atop",t.fillStyle=a,t.fillRect(0,0,n,i),t.globalCompositeOperation="source-over",d=e.canvas,u=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(u,p,n,i),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(u,p,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===r&&s?t.filter=this.filterFactory.addAlphaFilter(s):"Luminosity"===r&&(t.filter=this.filterFactory.addLuminosityFilter(s));const f=new Path2D;f.rect(o,c,n,i),t.clip(f),t.globalCompositeOperation="destination-in",t.drawImage(d,u,p,n,i,o,c,n,i),t.restore()}save(e){var t;this.inSMaskMode&&Sm(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),null==(t=this.dependencyTracker)||t.save(e)}restore(e){var t;null==(t=this.dependencyTracker)||t.restore(e),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Sm(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(e,t,n,i,r,a,s){var o;null==(o=this.dependencyTracker)||o.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,r,a,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[r]=n;if(!i)return r||(r=n[0]=new Path2D),void this[t](e,r);if(null!==this.dependencyTracker){const n=t===gp.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-n,i[2]+n,i[1]-n,i[3]+n).recordDependencies(e,["transform"])}r instanceof Path2D||(r=n[0]=Df(r)),jp.axialAlignedBoundingBox(i,df(this.ctx),this.current.minMax),this[t](e,r),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,n=!0){var i;const r=this.ctx,a=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof a&&(null==a?void 0:a.getPattern)){const n=a.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=a.getPattern(r,this,uf(r),om,e),n){const e=new Path2D;e.addPath(t,r.getTransform().invertSelf().multiplySelf(n)),t=e}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);null==(i=this.dependencyTracker)||i.recordDependencies(e,Jg),n&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(om,df(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,n=!0){var i,r,a;const s=this.ctx,o=this.current.fillColor;let c=!1;if(this.current.patternFill){const n=o.isModifyingCurrentTransform()?s.getTransform():null;if(null==(i=this.dependencyTracker)||i.save(e),s.save(),s.fillStyle=o.getPattern(s,this,uf(s),sm,e),n){const e=new Path2D;e.addPath(t,s.getTransform().invertSelf().multiplySelf(n)),t=e}c=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==l&&(this.pendingEOFill?(s.fill(t,"evenodd"),this.pendingEOFill=!1):s.fill(t)),null==(r=this.dependencyTracker)||r.recordDependencies(e,em),c&&(s.restore(),null==(a=this.dependencyTracker)||a.restore(e)),n&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var n;this.ctx.fill(t),null==(n=this.dependencyTracker)||n.recordDependencies(e,nm).recordOperation(e)}clip(e){var t;null==(t=this.dependencyTracker)||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=Pm}eoClip(e){var t;null==(t=this.dependencyTracker)||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=Rm}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,null==(t=this.dependencyTracker)||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:n}=this;void 0!==t&&n.recordFutureForcedDependency("textClip",n.getOpenMarker()).recordFutureForcedDependency("textClip",e),n.recordCloseMarker(e)}if(void 0!==t){const e=new Path2D,i=n.getTransform().invertSelf();for(const{transform:n,x:r,y:a,fontSize:s,path:o}of t)o&&e.addPath(o,new DOMMatrix(n).preMultiplySelf(i).translate(r,a).scale(s,-s));n.clip(e)}delete this.pendingTextPaths}setCharSpacing(e,t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){var i,r;null==(i=this.dependencyTracker)||i.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const a=this.commonObjs.get(t),s=this.current;if(!a)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=a.fontMatrix||Ou,0!==s.fontMatrix[0]&&0!==s.fontMatrix[3]||Ap("Invalid font matrix for font "+t),n<0?(n=-n,s.fontDirection=-1):s.fontDirection=1,this.current.font=a,this.current.fontSize=n,a.isType3Font)return;const o=a.loadedName||"sans-serif",c=(null==(r=a.systemFontInfo)?void 0:r.css)||`"${o}", ${a.fallbackName}`;let l="normal";a.black?l="900":a.bold&&(l="bold");const h=a.italic?"italic":"normal";let d=n;n<16?d=16:n>100&&(d=100),this.current.fontSizeScale=n/d,this.ctx.font=`${h} ${l} ${d}px ${c}`}setTextRenderingMode(e,t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){var i;null==(i=this.dependencyTracker)||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){var n;null==(n=this.dependencyTracker)||n.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),null==(t=this.dependencyTracker)||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,n,i,r,a){var s,o,c,l;const h=this.ctx,d=this.current,u=d.font,p=d.textRenderingMode,f=d.fontSize/d.fontSizeScale,g=p&ap,m=!!(p&sp),b=d.patternFill&&!u.missingFile,y=d.patternStroke&&!u.missingFile;let v;if((u.disableFontFace||m||b||y)&&!u.missingFile&&(v=u.getPathGenerator(this.commonObjs,t)),v&&(u.disableFontFace||b||y)){let t;if(h.save(),h.translate(n,i),h.scale(f,-f),null==(s=this.dependencyTracker)||s.recordCharacterBBox(e,h,u),g===tp||g===ip)if(r){t=h.getTransform(),h.setTransform(...r);const e=iu(this,Mr,Pr).call(this,v,t,r);h.fill(e)}else h.fill(v);if(g===np||g===ip)if(a){t||(t=h.getTransform()),h.setTransform(...a);const{a:e,b:n,c:i,d:r}=t,s=jp.inverseTransform(a),o=jp.transform([e,n,i,r,0,0],s);jp.singularValueDecompose2dScale(o,Dm),h.lineWidth*=Math.max(Dm[0],Dm[1])/f,h.stroke(iu(this,Mr,Pr).call(this,v,t,a))}else h.lineWidth/=f,h.stroke(v);h.restore()}else g!==tp&&g!==ip||(h.fillText(t,n,i),null==(o=this.dependencyTracker)||o.recordCharacterBBox(e,h,u,f,n,i,()=>h.measureText(t))),g!==np&&g!==ip||(this.dependencyTracker&&(null==(c=this.dependencyTracker)||c.recordCharacterBBox(e,h,u,f,n,i,()=>h.measureText(t)).recordDependencies(e,Jg)),h.strokeText(t,n,i));if(m){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:df(h),x:n,y:i,fontSize:f,path:v}),null==(l=this.dependencyTracker)||l.recordCharacterBBox(e,h,u,f,n,i)}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return Cp(this,"isFontSubpixelAAEnabled",n)}showText(e,t){var n,i,r,a;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,im).resetBBox(e),this.current.textRenderingMode&sp&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const s=this.current,o=s.font;if(o.isType3Font)return this.showType3Text(e,t),void(null==(n=this.dependencyTracker)||n.recordShowTextOperation(e));const c=s.fontSize;if(0===c)return void(null==(i=this.dependencyTracker)||i.recordOperation(e));const l=this.ctx,h=s.fontSizeScale,d=s.charSpacing,u=s.wordSpacing,p=s.fontDirection,f=s.textHScale*p,g=t.length,m=o.vertical,b=m?1:-1,y=o.defaultVMetrics,v=c*s.fontMatrix[0],x=s.textRenderingMode===tp&&!o.disableFontFace&&!s.patternFill;let w,_;l.save(),s.textMatrix&&l.transform(...s.textMatrix),l.translate(s.x,s.y+s.textRise),p>0?l.scale(f,-1):l.scale(f,1);const D=s.textRenderingMode&ap,A=D===np||D===ip;if((D===tp||D===ip)&&s.patternFill){l.save();const t=s.fillColor.getPattern(l,this,uf(l),sm,e);w=df(l),l.restore(),l.fillStyle=t}if(A&&s.patternStroke){l.save();const t=s.strokeColor.getPattern(l,this,uf(l),om,e);_=df(l),l.restore(),l.strokeStyle=t}let T=s.lineWidth;const U=s.textMatrixScale;if(0===U||0===T?A&&(T=this.getSinglePixelWidth()):T/=U,1!==h&&(l.scale(h,h),T/=h),l.lineWidth=T,o.isInvalidPDFjsFont){const n=[];let i=0;for(const e of t)n.push(e.unicode),i+=e.width;const r=n.join("");if(l.fillText(r,0,0),null!==this.dependencyTracker){const t=l.measureText(r);this.dependencyTracker.recordBBox(e,this.ctx,-t.actualBoundingBoxLeft,t.actualBoundingBoxRight,-t.actualBoundingBoxAscent,t.actualBoundingBoxDescent).recordShowTextOperation(e)}return s.x+=i*v*f,l.restore(),void this.compose()}let E,k=0;for(E=0;E<g;++E){const n=t[E];if("number"==typeof n){k+=b*n*c/1e3;continue}let i=!1;const a=(n.isSpace?u:0)+d,s=n.fontChar,f=n.accent;let g,D,A,T=n.width;if(m){const e=n.vmetric||y,t=-(n.vmetric?e[1]:.5*T)*v,i=e[2]*v;T=e?-e[0]:T,g=t/h,D=(k+i)/h}else g=k/h,D=0;if(o.remeasure&&T>0){A=l.measureText(s);const e=1e3*A.width/c*h;if(T<e&&this.isFontSubpixelAAEnabled){const t=T/e;i=!0,l.save(),l.scale(t,1),g/=t}else T!==e&&(g+=(T-e)/2e3*c/h)}if(this.contentVisible&&(n.isInFont||o.missingFile))if(x&&!f)l.fillText(s,g,D),null==(r=this.dependencyTracker)||r.recordCharacterBBox(e,l,A?{bbox:null}:o,c/h,g,D,()=>A??l.measureText(s));else if(this.paintChar(e,s,g,D,w,_),f){const t=g+c*f.offset.x/h,n=D-c*f.offset.y/h;this.paintChar(e,f.fontChar,t,n,w,_)}k+=m?T*v-a*p:T*v+a*p,i&&l.restore()}m?s.y-=k:s.x+=k*f,l.restore(),this.compose(),null==(a=this.dependencyTracker)||a.recordShowTextOperation(e)}showType3Text(e,t){const n=this.ctx,i=this.current,r=i.font,a=i.fontSize,s=i.fontDirection,o=r.vertical?1:-1,c=i.charSpacing,l=i.wordSpacing,h=i.textHScale*s,d=i.fontMatrix||Ou,u=t.length;let p,f,g,m;if(i.textRenderingMode===rp||0===a)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(h,s);const b=this.dependencyTracker;for(this.dependencyTracker=b?new Qg(b,e):null,p=0;p<u;++p){if(f=t[p],"number"==typeof f){m=o*f*a/1e3,this.ctx.translate(m,0),i.x+=m*h;continue}const e=(f.isSpace?l:0)+c,s=r.charProcOperatorList[f.operatorListId];s?this.contentVisible&&(this.save(),n.scale(a,a),n.transform(...d),this.executeOperatorList(s),this.restore()):Ap(`Type3 character "${f.operatorListId}" is not available.`);const u=[f.width,0];jp.applyTransform(u,d),g=u[0]*a+e,n.translate(g,0),i.x+=g*h}n.restore(),b&&(this.dependencyTracker=b)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,r,a,s){var o;const c=new Path2D;c.rect(i,r,a-i,s-r),this.ctx.clip(c),null==(o=this.dependencyTracker)||o.recordBBox(e,this.ctx,i,a,r,s).recordClipBox(e,this.ctx,i,a,r,s),this.endPath(e)}getColorN_Pattern(t,n){let i;if("TilingPattern"===n[0]){const t=this.baseTransform||df(this.ctx),r={createCanvasGraphics:(t,n)=>new e(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Qg(this.dependencyTracker,n,!0):null)};i=new vm(n,this.ctx,r,t)}else i=this._getPattern(t,n[1],n[2]);return i}setStrokeColorN(e,...t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;null==(t=this.dependencyTracker)||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var n;null==(n=this.dependencyTracker)||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;null==(t=this.dependencyTracker)||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,n=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=function(e){switch(e[0]){case"RadialAxial":return new dm(e);case"Mesh":return new fm(e);case"Dummy":return new gm}throw new Error(`Unknown IR type: ${e[0]}`)}(this.getObject(e,t)),this.cachedPatterns.set(t,i)),n&&(i.matrix=n),i}shadingFill(e,t){var n;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,uf(i),cm,e);const a=uf(i);if(a){const{width:e,height:t}=i.canvas,n=Am.slice();jp.axialAlignedBoundingBox([0,0,e,t],a,n);const[r,s,o,c]=n;this.ctx.fillRect(r,s,o-r,c-s)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);null==(n=this.dependencyTracker)||n.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,rm).recordDependencies(e,em).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Tp("Should not call beginInlineImage")}beginImageData(){Tp("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=df(this.ctx),n)){jp.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[t,r,a,s]=n,o=new Path2D;o.rect(t,r,a-t,s-r),this.ctx.clip(o),null==(i=this.dependencyTracker)||i.recordClipBox(e,this.ctx,t,a,r,s),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var n;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||Dp("TODO: Support non-isolated groups."),t.knockout&&Ap("Knockout groups not supported.");const r=df(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let a=Am.slice();jp.axialAlignedBoundingBox(t.bbox,df(i),a);const s=[0,0,i.canvas.width,i.canvas.height];a=jp.intersect(a,s)||[0,0,0,0];const o=Math.floor(a[0]),c=Math.floor(a[1]),l=Math.max(Math.ceil(a[2])-o,1),h=Math.max(Math.ceil(a[3])-c,1);this.current.startNewPathAndClipBox([0,0,l,h]);let d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(d,l,h),p=u.context;p.translate(-o,-c),p.transform(...r);let f=new Path2D;const[g,m,b,y]=t.bbox;if(f.rect(g,m,b-g,y-m),t.matrix){const e=new Path2D;e.addPath(f,new DOMMatrix(t.matrix)),f=e}p.clip(f),t.smask&&this.smaskStack.push({canvas:u.canvas,context:p,offsetX:o,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),t.smask&&!this.dependencyTracker||(i.setTransform(1,0,0,1,0,0),i.translate(o,c),i.save()),Sm(i,p),this.ctx=p,null==(n=this.dependencyTracker)||n.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var n;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,null==(n=this.dependencyTracker)||n.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const t=df(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...t);const n=Am.slice();jp.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],t,n),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,i,r,a){if(iu(this,Mr,Wr).call(this),Fm(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const r=n[2]-n[0],s=n[3]-n[1];if(a&&this.annotationCanvasMap){(i=i.slice())[4]-=n[0],i[5]-=n[1],(n=n.slice())[0]=n[1]=0,n[2]=r,n[3]=s,jp.singularValueDecompose2dScale(df(this.ctx),Dm);const{viewportScale:e}=this,a=Math.ceil(r*this.outputScaleX*e),o=Math.ceil(s*this.outputScaleY*e);this.annotationCanvas=this.canvasFactory.create(a,o);const{canvas:c,context:l}=this.annotationCanvas;this.annotationCanvasMap.set(t,c),this.annotationCanvas.savedCtx=this.ctx,this.ctx=l,this.ctx.save(),this.ctx.setTransform(Dm[0],0,0,-Dm[1],0,s*Dm[1]),Fm(this.ctx)}else{Fm(this.ctx),this.endPath(e);const t=new Path2D;t.rect(n[0],n[1],r,s),this.ctx.clip(t)}}this.current=new Em(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...r)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),iu(this,Mr,Ir).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var n;if(!this.contentVisible)return;const i=t.count;(t=this.getObject(e,t.data,t)).count=i;const r=this.ctx,a=this._createMaskCanvas(e,t),s=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,a.offsetX,a.offsetY),null==(n=this.dependencyTracker)||n.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+s.width,a.offsetY,a.offsetY+s.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n,i=0,r=0,a,s){var o,c,l;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const h=this.ctx;h.save();const d=df(h);h.transform(n,i,r,a,0,0);const u=this._createMaskCanvas(e,t);h.setTransform(1,0,0,1,u.offsetX-d[4],u.offsetY-d[5]),null==(o=this.dependencyTracker)||o.resetBBox(e);for(let p=0,f=s.length;p<f;p+=2){const t=jp.transform(d,[n,i,r,a,s[p],s[p+1]]);h.drawImage(u.canvas,t[4],t[5]),null==(c=this.dependencyTracker)||c.recordBBox(e,this.ctx,t[4],t[4]+u.canvas.width,t[5],t[5]+u.canvas.height)}h.restore(),this.compose(),null==(l=this.dependencyTracker)||l.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var n,i,r;if(!this.contentVisible)return;const a=this.ctx,s=this.current.fillColor,o=this.current.patternFill;null==(n=this.dependencyTracker)||n.resetBBox(e).recordDependencies(e,am);for(const c of t){const{data:t,width:n,height:r,transform:l}=c,h=this.cachedCanvases.getCanvas("maskCanvas",n,r),d=h.context;d.save();Cm(d,this.getObject(e,t,c)),d.globalCompositeOperation="source-in",d.fillStyle=o?s.getPattern(d,this,uf(a),sm,e):s,d.fillRect(0,0,n,r),d.restore(),a.save(),a.transform(...l),a.scale(1,-1),Um(a,h.canvas,0,0,n,r,0,-1,1,1),null==(i=this.dependencyTracker)||i.recordBBox(e,a,0,n,0,r),a.restore()}this.compose(),null==(r=this.dependencyTracker)||r.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);n?this.paintInlineImageXObject(e,n):Ap("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i,r){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a)return void Ap("Dependent image isn't ready yet");const s=a.width,o=a.height,c=[];for(let l=0,h=r.length;l<h;l+=2)c.push({transform:[n,0,0,i,r[l],r[l+1]],x:0,y:0,w:s,h:o});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",n,i),a=r.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",r.canvas}paintInlineImageXObject(e,t){var n;if(!this.contentVisible)return;const i=t.width,r=t.height,a=this.ctx;this.save(e);const{filter:s}=a;let o;if("none"!==s&&""!==s&&(a.filter="none"),a.scale(1/i,-1/r),t.bitmap)o=this.applyTransferMapsToBitmap(t);else if("function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)o=t;else{const e=this.cachedCanvases.getCanvas("inlineImage",i,r).context;km(e,t),o=this.applyTransferMapsToCanvas(e)}const c=this._scaleImage(o,uf(a));a.imageSmoothingEnabled=Mm(df(a),t.interpolate),null==(n=this.dependencyTracker)||n.resetBBox(e).recordBBox(e,a,0,i,-r,0).recordDependencies(e,tm).recordOperation(e),Um(a,c.img,0,0,c.paintWidth,c.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){var i,r,a;if(!this.contentVisible)return;const s=this.ctx;let o;if(t.bitmap)o=t.bitmap;else{const e=t.width,n=t.height,i=this.cachedCanvases.getCanvas("inlineImage",e,n).context;km(i,t),o=this.applyTransferMapsToCanvas(i)}null==(i=this.dependencyTracker)||i.resetBBox(e);for(const c of n)s.save(),s.transform(...c.transform),s.scale(1,-1),Um(s,o,c.x,c.y,c.w,c.h,0,-1,1,1),null==(r=this.dependencyTracker)||r.recordBBox(e,s,0,1,-1,0),s.restore();null==(a=this.dependencyTracker)||a.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&(null==(t=this.dependencyTracker)||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,em).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){var n;null==(n=this.dependencyTracker)||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){var i;null==(i=this.dependencyTracker)||i.beginMarkedContent(e),"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;null==(t=this.dependencyTracker)||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){var i,r;const a=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const s=this.ctx;this.pendingClip?(a||(this.pendingClip===Rm?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,null==(i=this.dependencyTracker)||i.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):null==(r=this.dependencyTracker)||r.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=df(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:r}=this.ctx.getTransform();let a,s;if(0===n&&0===i){const n=Math.abs(t),i=Math.abs(r);if(n===i)if(0===e)a=s=1/n;else{const t=n*e;a=s=t<1?1/t:1}else if(0===e)a=1/n,s=1/i;else{const t=n*e,r=i*e;a=t<1?1/t:1,s=r<1?1/r:1}}else{const o=Math.abs(t*r-n*i),c=Math.hypot(t,n),l=Math.hypot(i,r);if(0===e)a=l/o,s=c/o;else{const t=e*o;a=l>t?l/t:1,s=c>t?c/t:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=s}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[r,a]=this.getScaleForStroking();if(r===a)return n.lineWidth=(i||1)*r,void n.stroke(e);const s=n.getLineDash();t&&n.save(),n.scale(r,a),_m.a=1/r,_m.d=1/a;const o=new Path2D;if(o.addPath(e,_m),s.length>0){const e=Math.max(r,a);n.setLineDash(s.map(t=>t/e)),n.lineDashOffset/=e}n.lineWidth=i||1,n.stroke(o),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};for(const XM in gp)void 0!==Bm.prototype[XM]&&(Bm.prototype[gp[XM]]=Bm.prototype[XM]);class Nm{static get workerPort(){return eu(this,Rr)}static set workerPort(e){if(!("undefined"!=typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");nu(this,Rr,e)}static get workerSrc(){return eu(this,Br)}static set workerSrc(e){if("string"!=typeof e)throw new Error("Invalid `workerSrc` type.");nu(this,Br,e)}}Rr=new WeakMap,Br=new WeakMap,tu(Nm,Rr,null),tu(Nm,Br,"");class Om{constructor({parsedData:e,rawData:t}){tu(this,Nr),tu(this,Or),nu(this,Nr,e),nu(this,Or,t)}getRaw(){return eu(this,Or)}get(e){return eu(this,Nr).get(e)??null}[Symbol.iterator](){return eu(this,Nr).entries()}}Nr=new WeakMap,Or=new WeakMap;const Lm=Symbol("INTERNAL");class jm{constructor(e,{name:t,intent:n,usage:i,rbGroups:r}){tu(this,Lr,!1),tu(this,jr,!1),tu(this,zr,!1),tu(this,Hr,!0),nu(this,Lr,!!(e&zu)),nu(this,jr,!!(e&Hu)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=r}get visible(){if(eu(this,zr))return eu(this,Hr);if(!eu(this,Hr))return!1;const{print:e,view:t}=this.usage;return eu(this,Lr)?"OFF"!==(null==t?void 0:t.viewState):!eu(this,jr)||"OFF"!==(null==e?void 0:e.printState)}_setVisible(e,t,n=!1){e!==Lm&&Tp("Internal method `_setVisible` called."),nu(this,zr,n),nu(this,Hr,t)}}Lr=new WeakMap,jr=new WeakMap,zr=new WeakMap,Hr=new WeakMap;class zm{constructor(e,t=zu){if(tu(this,Xr),tu(this,qr,null),tu(this,Vr,new Map),tu(this,$r,null),tu(this,Gr,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,nu(this,Gr,e.order);for(const n of e.groups)eu(this,Vr).set(n.id,new jm(t,n));if("OFF"===e.baseState)for(const e of eu(this,Vr).values())e._setVisible(Lm,!1);for(const t of e.on)eu(this,Vr).get(t)._setVisible(Lm,!0);for(const t of e.off)eu(this,Vr).get(t)._setVisible(Lm,!1);nu(this,$r,this.getHash())}}isVisible(e){if(0===eu(this,Vr).size)return!0;if(!e)return Dp("Optional content group not defined."),!0;if("OCG"===e.type)return eu(this,Vr).has(e.id)?eu(this,Vr).get(e.id).visible:(Ap(`Optional content group not found: ${e.id}`),!0);if("OCMD"===e.type){if(e.expression)return iu(this,Xr,Yr).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!eu(this,Vr).has(t))return Ap(`Optional content group not found: ${t}`),!0;if(eu(this,Vr).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!eu(this,Vr).has(t))return Ap(`Optional content group not found: ${t}`),!0;if(!eu(this,Vr).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!eu(this,Vr).has(t))return Ap(`Optional content group not found: ${t}`),!0;if(!eu(this,Vr).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!eu(this,Vr).has(t))return Ap(`Optional content group not found: ${t}`),!0;if(eu(this,Vr).get(t).visible)return!1}return!0}return Ap(`Unknown optional content policy ${e.policy}.`),!0}return Ap(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var i;const r=eu(this,Vr).get(e);if(r){if(n&&t&&r.rbGroups.length)for(const t of r.rbGroups)for(const n of t)n!==e&&(null==(i=eu(this,Vr).get(n))||i._setVisible(Lm,!1,!0));r._setVisible(Lm,!!t,!0),nu(this,qr,null)}else Ap(`Optional content group not found: ${e}`)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const e=eu(this,Vr).get(i);if(e)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!e.visible,t)}}nu(this,qr,null)}get hasInitialVisibility(){return null===eu(this,$r)||this.getHash()===eu(this,$r)}getOrder(){return eu(this,Vr).size?eu(this,Gr)?eu(this,Gr).slice():[...eu(this,Vr).keys()]:null}getGroup(e){return eu(this,Vr).get(e)||null}getHash(){if(null!==eu(this,qr))return eu(this,qr);const e=new Kf;for(const[t,n]of eu(this,Vr))e.update(`${t}:${n.visible}`);return nu(this,qr,e.hexdigest())}[Symbol.iterator](){return eu(this,Vr).entries()}}qr=new WeakMap,Vr=new WeakMap,$r=new WeakMap,Gr=new WeakMap,Xr=new WeakSet,Yr=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let r;if(Array.isArray(t))r=iu(this,Xr,Yr).call(this,t);else{if(!eu(this,Vr).has(t))return Ap(`Optional content group not found: ${t}`),!0;r=eu(this,Vr).get(t).visible}switch(n){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return"And"===n};class Hm{constructor(e,{disableRange:t=!1,disableStream:n=!1}){Up(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:a,contentDispositionFilename:s}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=s,(null==r?void 0:r.length)>0){const e=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),e.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),e.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{Up(this._rangeReaders.some(function(t){return t._begin===e&&(t._enqueue(n),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return(null==(e=this._fullRequestReader)?void 0:e._loaded)??0}_onProgress(e){var t,n,i,r;void 0===e.total?null==(n=null==(t=this._rangeReaders[0])?void 0:t.onProgress)||n.call(t,{loaded:e.loaded}):null==(r=null==(i=this._fullRequestReader)?void 0:i.onProgress)||r.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null==(e=this._fullRequestReader)||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Up(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new qm(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Vm(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null==(t=this._fullRequestReader)||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class qm{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=rf(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Vm{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function $m(e,t){const n=new Headers;if(!e||!t||"object"!=typeof t)return n;for(const i in t){const e=t[i];void 0!==e&&n.append(i,e)}return n}function Gm(e){var t;return(null==(t=URL.parse(e))?void 0:t.origin)??null}function Xm({responseHeaders:e,isHttp:t,rangeChunkSize:n,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e.get("Content-Length"),10);if(!Number.isInteger(a))return r;if(r.suggestedLength=a,a<=2*n)return r;if(i||!t)return r;if("bytes"!==e.get("Accept-Ranges"))return r;return"identity"!==(e.get("Content-Encoding")||"identity")||(r.allowRangeRequests=!0),r}function Ym(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=s(n);return e=unescape(e),e=o(e),e=c(e),a(e)}if(n=function(e){const t=[];let n;const r=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=r.exec(e));){let[,e,i,r]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[i,r]}const a=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=s(n),e&&(n=unescape(n),0===i&&(n=o(n))),a.push(n)}return a.join("")}(e),n)return a(c(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=s(n);return e=c(e),a(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function r(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),r=Np(n);n=i.decode(r),t=!1}catch{}}return n}function a(e){return t&&/[\x80-\xff]/.test(e)&&(e=r("utf-8",e),t&&(e=r("iso-8859-1",e))),e}function s(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:r(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function c(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,i){if("q"===n||"Q"===n)return r(t,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{i=atob(i)}catch{}return r(t,i)})}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(rf(e))return e}return null}function Km(e,t){return new Ip(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e,404===e||0===e&&t.startsWith("file:"))}function Zm(e){return 200===e||206===e}function Qm(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Jm(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(Ap(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class eb{constructor(e){Qd(this,"_responseOrigin",null),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=$m(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return(null==(e=this._fullRequestReader)?void 0:e._loaded)??0}getFullReader(){return Up(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new tb(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new nb(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null==(t=this._fullRequestReader)||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class tb{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,Qm(n,this._withCredentials,this._abortController)).then(t=>{if(e._responseOrigin=Gm(t.url),!Zm(t.status))throw Km(t.status,i);this._reader=t.body.getReader(),this._headersCapability.resolve();const n=t.headers,{allowRangeRequests:r,suggestedLength:a}=Xm({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=a||this._contentLength,this._filename=Ym(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Rp("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null==(e=this.onProgress)||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Jm(t),done:!1})}cancel(e){var t;null==(t=this._reader)||t.cancel(e),this._abortController.abort()}}class nb{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${n-1}`);const a=i.url;fetch(a,Qm(r,this._withCredentials,this._abortController)).then(t=>{const n=Gm(t.url);if(n!==e._responseOrigin)throw new Error(`Expected range response-origin "${n}" to match "${e._responseOrigin}".`);if(!Zm(t.status))throw Km(t.status,a);this._readCapability.resolve(),this._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null==(e=this.onProgress)||e.call(this,{loaded:this._loaded}),{value:Jm(t),done:!1})}cancel(e){var t;null==(t=this._reader)||t.cancel(e),this._abortController.abort()}}class ib{constructor({url:e,httpHeaders:t,withCredentials:n}){Qd(this,"_responseOrigin",null),this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=$m(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,a]of this.headers)t.setRequestHeader(r,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=206):i.expectedStatus=200,t.responseType="arraybuffer",Up(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const i=this.pendingRequests[e];i&&(null==(n=i.onProgress)||n.call(i,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError(i.status);const r=i.status||200;if(!(200===r&&206===n.expectedStatus)&&r!==n.expectedStatus)return void n.onError(i.status);const a=function(e){const t=e.response;return"string"!=typeof t?t:Np(t).buffer}(i);if(206===r){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);t?n.onDone({begin:parseInt(t[1],10),chunk:a}):(Ap('Missing or invalid "Content-Range" header.'),n.onError(0))}else a?n.onDone({begin:0,chunk:a}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class rb{constructor(e){this._source=e,this._manager=new ib(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Up(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ab(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new sb(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null==(t=this._fullRequestReader)||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class ab{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Gm(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(e=>{const[t,...n]=e.split(": ");return[t,n.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:a}=Xm({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=Ym(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Km(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null==(t=this.onProgress)||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class sb{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=Gm(null==(e=this._manager.getRequestXhr(this._requestId))?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;null==(e=this.onClosed)||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Km(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||null==(t=this.onProgress)||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ob=/^[a-z][a-z0-9\-+.]+:/i;class cb{constructor(e){this.source=e,this.url=function(e){if(ob.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}(e.url),Up("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return(null==(e=this._fullRequestReader)?void 0:e._loaded)??0}getFullReader(){return Up(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new lb(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new hb(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null==(t=this._fullRequestReader)||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class lb{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(e=>{this._contentLength=e.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},e=>{"ENOENT"===e.code&&(e=Km(0,this._url.href)),this._storedError=e,this._headersCapability.reject(e)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null==(e=this.onProgress)||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Rp("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class hb{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null==(e=this.onProgress)||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const db=Symbol("INITIAL_DATA");class ub{constructor(){tu(this,Zr),tu(this,Kr,Object.create(null))}get(e,t=null){if(t){const n=iu(this,Zr,Qr).call(this,e);return n.promise.then(()=>t(n.data)),null}const n=eu(this,Kr)[e];if(!n||n.data===db)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=eu(this,Kr)[e];return!!t&&t.data!==db}delete(e){const t=eu(this,Kr)[e];return!(!t||t.data===db)&&(delete eu(this,Kr)[e],!0)}resolve(e,t=null){const n=iu(this,Zr,Qr).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in eu(this,Kr)){const{data:n}=eu(this,Kr)[t];null==(e=null==n?void 0:n.bitmap)||e.close()}nu(this,Kr,Object.create(null))}*[Symbol.iterator](){for(const e in eu(this,Kr)){const{data:t}=eu(this,Kr)[e];t!==db&&(yield[e,t])}}}Kr=new WeakMap,Zr=new WeakSet,Qr=function(e){var t;return(t=eu(this,Kr))[e]||(t[e]={...Promise.withResolvers(),data:db})};const pb=class e{constructor({textContentSource:t,container:n,viewport:i}){var r;if(tu(this,Da),tu(this,ea,Promise.withResolvers()),tu(this,ta,null),tu(this,na,!1),tu(this,ia,!!(null==(Jr=globalThis.FontInspector)?void 0:Jr.enabled)),tu(this,ra,null),tu(this,aa,null),tu(this,sa,0),tu(this,oa,0),tu(this,ca,null),tu(this,la,null),tu(this,ha,0),tu(this,da,0),tu(this,ua,Object.create(null)),tu(this,pa,[]),tu(this,fa,null),tu(this,ga,[]),tu(this,ma,new WeakMap),tu(this,ba,null),t instanceof ReadableStream)nu(this,fa,t);else{if("object"!=typeof t)throw new Error('No "textContentSource" parameter specified.');nu(this,fa,new ReadableStream({start(e){e.enqueue(t),e.close()}}))}nu(this,ta,nu(this,la,n)),nu(this,da,i.scale*ff.pixelRatio),nu(this,ha,i.rotation),nu(this,aa,{div:null,properties:null,ctx:null});const{pageWidth:a,pageHeight:s,pageX:o,pageY:c}=i.rawDims;nu(this,ba,[1,0,0,-1,-o,c+s]),nu(this,oa,a),nu(this,sa,s),iu(r=e,Ea,Sa).call(r),n.style.setProperty("--min-font-size",eu(e,wa)),pf(n,i),eu(this,ea).promise.finally(()=>{eu(e,_a).delete(this),nu(this,aa,null),nu(this,ua,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Op.platform;return Cp(this,"fontFamilyMap",new Map([["sans-serif",(e&&t?"Calibri, ":"")+"sans-serif"],["monospace",(e&&t?"Lucida Console, ":"")+"monospace"]]))}render(){const t=()=>{eu(this,ca).read().then(({value:e,done:n})=>{n?eu(this,ea).resolve():(eu(this,ra)??nu(this,ra,e.lang),Object.assign(eu(this,ua),e.styles),iu(this,Da,Aa).call(this,e.items),t())},eu(this,ea).reject)};return nu(this,ca,eu(this,fa).getReader()),eu(e,_a).add(this),t(),eu(this,ea).promise}update({viewport:t,onBefore:n=null}){var i;const r=t.scale*ff.pixelRatio,a=t.rotation;if(a!==eu(this,ha)&&(null==n||n(),nu(this,ha,a),pf(eu(this,la),{rotation:a})),r!==eu(this,da)){null==n||n(),nu(this,da,r);const t={div:null,properties:null,ctx:iu(i=e,Ea,ka).call(i,eu(this,ra))};for(const e of eu(this,ga))t.properties=eu(this,ma).get(e),t.div=e,iu(this,Da,Ua).call(this,t)}}cancel(){var e;const t=new Rp("TextLayer task cancelled.");null==(e=eu(this,ca))||e.cancel(t).catch(()=>{}),nu(this,ca,null),eu(this,ea).reject(t)}get textDivs(){return eu(this,ga)}get textContentItemsStr(){return eu(this,pa)}static cleanup(){if(!(eu(this,_a).size>0)){eu(this,ya).clear();for(const{canvas:e}of eu(this,va).values())e.remove();eu(this,va).clear()}}};ea=new WeakMap,ta=new WeakMap,na=new WeakMap,ia=new WeakMap,ra=new WeakMap,aa=new WeakMap,sa=new WeakMap,oa=new WeakMap,ca=new WeakMap,la=new WeakMap,ha=new WeakMap,da=new WeakMap,ua=new WeakMap,pa=new WeakMap,fa=new WeakMap,ga=new WeakMap,ma=new WeakMap,ba=new WeakMap,ya=new WeakMap,va=new WeakMap,xa=new WeakMap,wa=new WeakMap,_a=new WeakMap,Da=new WeakSet,Aa=function(e){var t,n;if(eu(this,na))return;(n=eu(this,aa)).ctx??(n.ctx=iu(t=pb,Ea,ka).call(t,eu(this,ra)));const i=eu(this,ga),r=eu(this,pa);for(const a of e){if(i.length>1e5)return Ap("Ignoring additional textDivs for performance reasons."),void nu(this,na,!0);if(void 0!==a.str)r.push(a.str),iu(this,Da,Ta).call(this,a);else if("beginMarkedContentProps"===a.type||"beginMarkedContent"===a.type){const e=eu(this,ta);nu(this,ta,document.createElement("span")),eu(this,ta).classList.add("markedContent"),a.id&&eu(this,ta).setAttribute("id",`${a.id}`),e.append(eu(this,ta))}else"endMarkedContent"===a.type&&nu(this,ta,eu(this,ta).parentNode)}},Ta=function(e){var t;const n=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};eu(this,ga).push(n);const r=jp.transform(eu(this,ba),e.transform);let a=Math.atan2(r[1],r[0]);const s=eu(this,ua)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=eu(this,ia)&&s.fontSubstitution||s.fontFamily;o=pb.fontFamilyMap.get(o)||o;const c=Math.hypot(r[2],r[3]),l=c*iu(t=pb,Ea,Fa).call(t,o,s,eu(this,ra));let h,d;0===a?(h=r[4],d=r[5]-l):(h=r[4]+l*Math.sin(a),d=r[5]-l*Math.cos(a));const u=n.style;u.left=`${(100*h/eu(this,oa)).toFixed(2)}%`,u.top=`${(100*d/eu(this,sa)).toFixed(2)}%`,u.setProperty("--font-height",`${c.toFixed(2)}px`),u.fontFamily=o,i.fontSize=c,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,eu(this,ia)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),0!==a&&(i.angle=a*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(p=!0)}if(p&&(i.canvasWidth=s.vertical?e.height:e.width),eu(this,ma).set(n,i),eu(this,aa).div=n,eu(this,aa).properties=i,iu(this,Da,Ua).call(this,eu(this,aa)),i.hasText&&eu(this,ta).append(n),i.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),eu(this,ta).append(e)}},Ua=function(e){var t;const{div:n,properties:i,ctx:r}=e,{style:a}=n;if(0!==i.canvasWidth&&i.hasText){const{fontFamily:e}=a,{canvasWidth:s,fontSize:o}=i;iu(t=pb,Ea,Ca).call(t,r,o*eu(this,da),e);const{width:c}=r.measureText(n.textContent);c>0&&a.setProperty("--scale-x",s*eu(this,da)/c)}0!==i.angle&&a.setProperty("--rotate",`${i.angle}deg`)},Ea=new WeakSet,ka=function(e=null){let t=eu(this,va).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),eu(this,va).set(e,t),eu(this,xa).set(t,{size:0,family:""})}return t},Ca=function(e,t,n){const i=eu(this,xa).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},Sa=function(){if(null!==eu(this,wa))return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),nu(this,wa,e.getBoundingClientRect().height),e.remove()},Fa=function(e,t,n){const i=eu(this,ya).get(e);if(i)return i;const r=iu(this,Ea,ka).call(this,n);r.canvas.width=r.canvas.height=30,iu(this,Ea,Ca).call(this,r,30,e);const a=r.measureText(""),s=a.fontBoundingBoxAscent,o=Math.abs(a.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let c=.8;return s?c=s/(s+o):(Op.platform.isFirefox&&Ap("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),eu(this,ya).set(e,c),c},tu(pb,Ea),tu(pb,ya,new Map),tu(pb,va,new Map),tu(pb,xa,new WeakMap),tu(pb,wa,null),tu(pb,_a,new Set);let fb=pb;function gb(e={}){"string"==typeof e||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new bb,{docId:n}=t,i=e.url?function(e){if(e instanceof URL)return e.href;if("string"==typeof e){if(Nu)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(e.url):null,r=e.data?function(e){if(Nu&&"undefined"!=typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"==typeof e)return Np(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"==typeof e&&!isNaN(null==e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(e.data):null,a=e.httpHeaders||null,s=!0===e.withCredentials,o=e.password??null,c=e.range instanceof yb?e.range:null,l=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:65536;let h=e.worker instanceof _b?e.worker:null;const d=e.verbosity,u="string"!=typeof e.docBaseUrl||nf(e.docBaseUrl)?null:e.docBaseUrl,p=dg(e.cMapUrl),f=!1!==e.cMapPacked,g=e.CMapReaderFactory||(Nu?jg:Fg),m=dg(e.iccUrl),b=dg(e.standardFontDataUrl),y=e.StandardFontDataFactory||(Nu?zg:Pg),v=dg(e.wasmUrl),x=e.WasmFactory||(Nu?Hg:Bg),w=!0!==e.stopAtErrors,_=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,D=!1!==e.isEvalSupported,A="boolean"==typeof e.isOffscreenCanvasSupported?e.isOffscreenCanvasSupported:!Nu,T="boolean"==typeof e.isImageDecoderSupported?e.isImageDecoderSupported:!Nu&&(Op.platform.isFirefox||!globalThis.chrome),U=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,E="boolean"==typeof e.disableFontFace?e.disableFontFace:Nu,k=!0===e.fontExtraProperties,C=!0===e.enableXfa,S=e.ownerDocument||globalThis.document,F=!0===e.disableRange,M=!0===e.disableStream,W=!0===e.disableAutoFetch,I=!0===e.pdfBug,P=e.CanvasFactory||(Nu?Lg:Cg),R=e.FilterFactory||(Nu?Og:Wg),B=!0===e.enableHWA,N=!1!==e.useWasm,O=c?c.length:e.length??NaN,L="boolean"==typeof e.useSystemFonts?e.useSystemFonts:!Nu&&!E,j="boolean"==typeof e.useWorkerFetch?e.useWorkerFetch:!!(g===Fg&&y===Pg&&x===Bg&&p&&b&&v&&sf(p,document.baseURI)&&sf(b,document.baseURI)&&sf(v,document.baseURI));var z;z=d,Number.isInteger(z)&&(wp=z);const H={canvasFactory:new P({ownerDocument:S,enableHWA:B}),filterFactory:new R({docId:n,ownerDocument:S}),cMapReaderFactory:j?null:new g({baseUrl:p,isCompressed:f}),standardFontDataFactory:j?null:new y({baseUrl:b}),wasmFactory:j?null:new x({baseUrl:v})};h||(h=_b.create({verbosity:d,port:Nm.workerPort}),t._worker=h);const q={docId:n,apiVersion:"5.4.530",data:r,password:o,disableAutoFetch:W,rangeChunkSize:l,length:O,docBaseUrl:u,enableXfa:C,evaluatorOptions:{maxImageSize:_,disableFontFace:E,ignoreErrors:w,isEvalSupported:D,isOffscreenCanvasSupported:A,isImageDecoderSupported:T,canvasMaxAreaInBytes:U,fontExtraProperties:k,useSystemFonts:L,useWasm:N,useWorkerFetch:j,cMapUrl:p,iccUrl:m,standardFontDataUrl:b,wasmUrl:v}},V={ownerDocument:S,pdfBug:I,styleElement:null,loadingParams:{disableAutoFetch:W,enableXfa:C}};return h.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const e=h.messageHandler.sendWithPromise("GetDocRequest",q,r?[r.buffer]:null);let o;if(c)o=new Hm(c,{disableRange:F,disableStream:M});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const e=sf(i)?eb:Nu?cb:rb;o=new e({url:i,length:O,httpHeaders:a,withCredentials:s,rangeChunkSize:l,disableRange:F,disableStream:M})}return e.then(e=>{if(t.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const i=new Eg(n,e,h.port),r=new Db(i,t,o,V,H,B);t._transport=r,i.send("Ready",null)})}).catch(t._capability.reject),t}const mb=class e{constructor(){Qd(this,"_capability",Promise.withResolvers()),Qd(this,"_transport",null),Qd(this,"_worker",null),Qd(this,"docId","d"+ru(e,Ma)._++),Qd(this,"destroyed",!1),Qd(this,"onPassword",null),Qd(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,n,i;this.destroyed=!0;try{(null==(e=this._worker)?void 0:e.port)&&(this._worker._pendingDestroy=!0),await(null==(t=this._transport)?void 0:t.destroy())}catch(r){throw(null==(n=this._worker)?void 0:n.port)&&delete this._worker._pendingDestroy,r}this._transport=null,null==(i=this._worker)||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};Ma=new WeakMap,tu(mb,Ma,0);let bb=mb;class yb{constructor(e,t,n=!1,i=null){tu(this,Wa,Promise.withResolvers()),tu(this,Ia,[]),tu(this,Pa,[]),tu(this,Ra,[]),tu(this,Ba,[]),this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){eu(this,Ba).push(e)}addProgressListener(e){eu(this,Ra).push(e)}addProgressiveReadListener(e){eu(this,Pa).push(e)}addProgressiveDoneListener(e){eu(this,Ia).push(e)}onDataRange(e,t){for(const n of eu(this,Ba))n(e,t)}onDataProgress(e,t){eu(this,Wa).promise.then(()=>{for(const n of eu(this,Ra))n(e,t)})}onDataProgressiveRead(e){eu(this,Wa).promise.then(()=>{for(const t of eu(this,Pa))t(e)})}onDataProgressiveDone(){eu(this,Wa).promise.then(()=>{for(const e of eu(this,Ia))e()})}transportReady(){eu(this,Wa).resolve()}requestDataRange(e,t){Tp("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}Wa=new WeakMap,Ia=new WeakMap,Pa=new WeakMap,Ra=new WeakMap,Ba=new WeakMap;class vb{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Cp(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class xb{constructor(e,t,n,i=!1){tu(this,Oa),tu(this,Na,!1),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new af:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new ub,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:r=!1}={}){return new ef({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Cp(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null==(e=this._transport._htmlForXfa)?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:n,intent:i="display",annotationMode:r=Yu.ENABLE,transform:a=null,background:s=null,optionalContentConfigPromise:o=null,annotationCanvasMap:c=null,pageColors:l=null,printAnnotationStorage:h=null,isEditing:d=!1,recordOperations:u=!1,operationsFilter:p=null}){var f,g,m;null==(f=this._stats)||f.time("Overall");const b=this._transport.getRenderingIntent(i,r,h,d),{renderingIntent:y,cacheKey:v}=b;nu(this,Na,!1),o||(o=this._transport.getOptionalContentConfig(y));let x=this._intentStates.get(v);x||(x=Object.create(null),this._intentStates.set(v,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const w=!!(y&Hu);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null==(g=this._stats)||g.time("Page Request"),this._pumpOperatorList(b));const _=Boolean(this._pdfBug&&(null==(m=globalThis.StepperManager)?void 0:m.enabled)),D=!this.recordedBBoxes&&(u||_),A=e=>{var t,n;if(x.renderTasks.delete(T),D){const e=null==(t=T.gfx)?void 0:t.dependencyTracker.take();e&&(T.stepper&&T.stepper.setOperatorBBoxes(e,T.gfx.dependencyTracker.takeDebugMetadata()),u&&(this.recordedBBoxes=e))}w&&nu(this,Na,!0),iu(this,Oa,La).call(this),e?(T.capability.reject(e),this._abortOperatorList({intentState:x,reason:e instanceof Error?e:new Error(e)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(null==(n=globalThis.Stats)?void 0:n.enabled)&&globalThis.Stats.add(this.pageNumber,this._stats))},T=new Ub({callback:A,params:{canvas:t,canvasContext:e,dependencyTracker:D?new Zg(t,x.operatorList.length,_):null,viewport:n,transform:a,background:s},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:l,enableHWA:this._transport.enableHWA,operationsFilter:p});(x.renderTasks||(x.renderTasks=new Set)).add(T);const U=T.task;return Promise.all([x.displayReadyCapability.promise,o]).then(([e,t])=>{var n;if(this.destroyed)A();else{if(null==(n=this._stats)||n.time("Rendering"),!(t.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");T.initializeGraphics({transparency:e,optionalContentConfig:t}),T.operatorListChanged()}}).catch(A),U}getOperatorList({intent:e="display",annotationMode:t=Yu.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var r;const a=this._transport.getRenderingIntent(e,t,n,i,!0);let s,o=this._intentStates.get(a.cacheKey);return o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o)),o.opListReadCapability||(s=Object.create(null),s.operatorListChanged=function(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(s))},o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(s),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null==(r=this._stats)||r.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(e=>Xp.textContent(e));const t=this.streamTextContent(e);return new Promise(function(e,n){const i=t.getReader(),r={items:[],styles:Object.create(null),lang:null};!function t(){i.read().then(function({value:n,done:i}){i?e(r):(r.lang??(r.lang=n.lang),Object.assign(r.styles,n.styles),r.items.push(...n.items),t())},n)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),nu(this,Na,!1),Promise.all(e)}cleanup(e=!1){nu(this,Na,!0);const t=iu(this,Oa,La).call(this);return e&&t&&this._stats&&(this._stats=new af),t}_startRenderPage(e,t){var n,i;const r=this._intentStates.get(t);r&&(null==(n=this._stats)||n.timeEnd("Page Request"),null==(i=r.displayReadyCapability)||i.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&iu(this,Oa,La).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:r,transfer:a}=n,s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:i},a).getReader(),o=this._intentStates.get(t);o.streamReader=s;const c=()=>{s.read().then(({value:e,done:t})=>{t?o.streamReader=null:this._transport.destroyed||(this._renderPageChunk(e,o),c())},e=>{if(o.streamReader=null,!this._transport.destroyed){if(o.operatorList){o.operatorList.lastChunk=!0;for(const e of o.renderTasks)e.operatorListChanged();iu(this,Oa,La).call(this)}if(o.displayReadyCapability)o.displayReadyCapability.reject(e);else{if(!o.opListReadCapability)throw e;o.opListReadCapability.reject(e)}}})};c()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof tf){let n=100;return t.extraDelay>0&&t.extraDelay<1e3&&(n+=t.extraDelay),void(e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},n))}}if(e.streamReader.cancel(new Rp(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[t,n]of this._intentStates)if(n===e){this._intentStates.delete(t);break}this.cleanup()}}}get stats(){return this._stats}}Na=new WeakMap,Oa=new WeakSet,La=function(){if(!eu(this,Na)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),nu(this,Na,!1),!0};const wb=class e{constructor({name:t=null,port:n=null,verbosity:i=_p()}={}){if(tu(this,Xa),tu(this,ja,Promise.withResolvers()),tu(this,za,null),tu(this,Ha,null),tu(this,qa,null),this.name=t,this.destroyed=!1,this.verbosity=i,n){if(eu(e,Ga).has(n))throw new Error("Cannot use more than one PDFWorker per port.");eu(e,Ga).set(n,this),iu(this,Xa,Ka).call(this,n)}else iu(this,Xa,Za).call(this)}get promise(){return eu(this,ja).promise}get port(){return eu(this,Ha)}get messageHandler(){return eu(this,za)}destroy(){var t,n;this.destroyed=!0,null==(t=eu(this,qa))||t.terminate(),nu(this,qa,null),eu(e,Ga).delete(eu(this,Ha)),nu(this,Ha,null),null==(n=eu(this,za))||n.destroy(),nu(this,za,null)}static create(t){const n=eu(this,Ga).get(null==t?void 0:t.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new e(t)}static get workerSrc(){if(Nm.workerSrc)return Nm.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Cp(this,"_setupFakeWorkerGlobal",(async()=>{if(eu(this,Ja,es))return eu(this,Ja,es);return(await import(this.workerSrc)).WorkerMessageHandler})())}};ja=new WeakMap,za=new WeakMap,Ha=new WeakMap,qa=new WeakMap,Va=new WeakMap,$a=new WeakMap,Ga=new WeakMap,Xa=new WeakSet,Ya=function(){eu(this,ja).resolve(),eu(this,za).send("configure",{verbosity:this.verbosity})},Ka=function(e){nu(this,Ha,e),nu(this,za,new Eg("main","worker",e)),eu(this,za).on("ready",()=>{}),iu(this,Xa,Ya).call(this)},Za=function(){if(eu(wb,$a)||eu(wb,Ja,es))return void iu(this,Xa,Qa).call(this);let{workerSrc:e}=wb;try{wb._isSameOrigin(window.location,e)||(e=wb._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Eg("main","worker",t),i=()=>{r.abort(),n.destroy(),t.terminate(),this.destroyed?eu(this,ja).reject(new Error("Worker was destroyed")):iu(this,Xa,Qa).call(this)},r=new AbortController;t.addEventListener("error",()=>{eu(this,qa)||i()},{signal:r.signal}),n.on("test",e=>{r.abort(),!this.destroyed&&e?(nu(this,za,n),nu(this,Ha,t),nu(this,qa,t),iu(this,Xa,Ya).call(this)):i()}),n.on("ready",e=>{if(r.abort(),this.destroyed)i();else try{a()}catch{iu(this,Xa,Qa).call(this)}});const a=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void a()}catch{Dp("The worker has been disabled.")}iu(this,Xa,Qa).call(this)},Qa=function(){eu(wb,$a)||(Ap("Setting up fake worker."),nu(wb,$a,!0)),wb._setupFakeWorkerGlobal.then(e=>{if(this.destroyed)return void eu(this,ja).reject(new Error("Worker was destroyed"));const t=new fg;nu(this,Ha,t);const n="fake"+ru(wb,Va)._++,i=new Eg(n+"_worker",n,t);e.setup(i,t),nu(this,za,new Eg(n,n+"_worker",t)),iu(this,Xa,Ya).call(this)}).catch(e=>{eu(this,ja).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Ja=new WeakSet,es=function(){var e;try{return(null==(e=globalThis.pdfjsWorker)?void 0:e.WorkerMessageHandler)||null}catch{return null}},tu(wb,Ja),tu(wb,Va,0),tu(wb,$a,!1),tu(wb,Ga,new WeakMap),Nu&&(nu(wb,$a,!0),Nm.workerSrc||(Nm.workerSrc="./pdf.worker.mjs")),wb._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(!(null==n?void 0:n.origin)||"null"===n.origin)return!1;const i=new URL(t,n);return n.origin===i.origin},wb._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},wb.fromPort=e=>{var t;if(t="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+t),!(null==e?void 0:e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return wb.create(e)};let _b=wb;class Db{constructor(e,t,n,i,r,a){tu(this,ss),tu(this,ts,new Map),tu(this,ns,new Map),tu(this,is,new Map),tu(this,rs,new Map),tu(this,as,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new ub,this.fontLoader=new eg({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return Cp(this,"annotationStorage",new Qf)}getRenderingIntent(e,t=Yu.ENABLE,n=null,i=!1,r=!1){let a=zu,s=Zf;switch(e){case"any":a=ju;break;case"display":break;case"print":a=Hu;break;default:Ap(`getRenderingIntent - invalid intent: ${e}`)}const o=a&Hu&&n instanceof Jf?n:this.annotationStorage;switch(t){case Yu.DISABLE:a+=$u;break;case Yu.ENABLE:break;case Yu.ENABLE_FORMS:a+=qu;break;case Yu.ENABLE_STORAGE:a+=Vu,s=o.serializable;break;default:Ap(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=Gu),r&&(a+=Xu);const{ids:c,hash:l}=o.modifiedIds;return{renderingIntent:a,cacheKey:[a,s.hash,l].join("_"),annotationStorageSerializable:s,modifiedIds:c}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null==(e=eu(this,as))||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of eu(this,ns).values())t.push(i._destroy());eu(this,ns).clear(),eu(this,is).clear(),eu(this,rs).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{var e,t;this.commonObjs.clear(),this.fontLoader.clear(),eu(this,ts).clear(),this.filterFactory.destroy(),fb.cleanup(),null==(e=this._networkStream)||e.cancelAllRequests(new Rp("Worker was terminated.")),null==(t=this.messageHandler)||t.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(e,t)=>{Up(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then(function({value:e,done:n}){n?t.close():(Up(e instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}}),e.on("ReaderHeadersReady",async e=>{var n;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:a}=this._fullReader;return i&&r||(this._lastProgress&&(null==(n=t.onProgress)||n.call(t,this._lastProgress)),this._fullReader.onProgress=e=>{var n;null==(n=t.onProgress)||n.call(t,{loaded:e.loaded,total:e.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:a}}),e.on("GetRangeReader",(e,t)=>{Up(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then(function({value:e,done:n}){n?t.close():(Up(e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(e),1,[e]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{n.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}):t.close()}),e.on("GetDoc",({pdfInfo:e})=>{this._numPages=e.numPages,this._htmlForXfa=e.htmlForXfa,delete e.htmlForXfa,t._capability.resolve(new vb(e,this))}),e.on("DocException",e=>{t._capability.reject(Ug(e))}),e.on("PasswordRequest",e=>{nu(this,as,Promise.withResolvers());try{if(!t.onPassword)throw Ug(e);const n=e=>{e instanceof Error?eu(this,as).reject(e):eu(this,as).resolve({password:e})};t.onPassword(n,e.code)}catch(n){eu(this,as).reject(n)}return eu(this,as).promise}),e.on("DataLoaded",e=>{var n;null==(n=t.onProgress)||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",e=>{if(this.destroyed)return;eu(this,ns).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),e.on("commonobj",([t,n,i])=>{var r;if(this.destroyed)return null;if(this.commonObjs.has(t))return null;switch(n){case"Font":if("error"in i){const e=i.error;Ap(`Error during font loading: ${e}`),this.commonObjs.resolve(t,e);break}const a=new og(i),s=this._params.pdfBug&&(null==(r=globalThis.FontInspector)?void 0:r.enabled)?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,o=new tg(a,s,i.extra,i.charProcOperatorList);this.fontLoader.bind(o).catch(()=>e.sendWithPromise("FontFallback",{id:t})).finally(()=>{!o.fontExtraProperties&&o.data&&o.clearData(),this.commonObjs.resolve(t,o)});break;case"CopyLocalImage":const{imageRef:c}=i;Up(c,"The imageRef must be defined.");for(const e of eu(this,ns).values())for(const[,n]of e.objs)if((null==n?void 0:n.ref)===c)return n.dataLen?(this.commonObjs.resolve(t,structuredClone(n)),n.dataLen):null;break;case"FontPath":this.commonObjs.resolve(t,new hg(i));break;case"Image":this.commonObjs.resolve(t,i);break;case"Pattern":const l=new lg(i);this.commonObjs.resolve(t,l.getIR());break;default:throw new Error(`Got unknown common object type ${n}`)}return null}),e.on("obj",([e,t,n,i])=>{var r;if(this.destroyed)return;const a=eu(this,ns).get(t);if(!a.objs.has(e))if(0!==a._intentStates.size)switch(n){case"Image":case"Pattern":a.objs.resolve(e,i);break;default:throw new Error(`Got unknown object type ${n}`)}else null==(r=null==i?void 0:i.bitmap)||r.close()}),e.on("DocProgress",e=>{var n;this.destroyed||null==(n=t.onProgress)||n.call(t,{loaded:e.loaded,total:e.total})}),e.on("FetchBinaryData",async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");const t=this[e.type];if(!t)throw new Error(`${e.type} not initialized, see the \`useWorkerFetch\` parameter.`);return t.fetch(e)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e;this.annotationStorage.size<=0&&Ap("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:(null==(e=this._fullReader)?void 0:e.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=eu(this,is).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&eu(this,rs).set(n.refStr,e);const i=new xb(t,n,this,this._params.pdfBug);return eu(this,ns).set(t,i),i});return eu(this,is).set(t,i),i}getPageIndex(e){return ug(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return iu(this,ss,os).call(this,"GetFieldObjects")}hasJSActions(){return iu(this,ss,os).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!=typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return iu(this,ss,os).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return iu(this,ss,os).call(this,"GetOptionalContentConfig").then(t=>new zm(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=eu(this,ts).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(e=>{var t,n;return{info:e[0],metadata:e[1]?new Om(e[1]):null,contentDispositionFilename:(null==(t=this._fullReader)?void 0:t.filename)??null,contentLength:(null==(n=this._fullReader)?void 0:n.contentLength)??null,hasStructTree:e[2]}});return eu(this,ts).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of eu(this,ns).values()){if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`)}this.commonObjs.clear(),e||this.fontLoader.clear(),eu(this,ts).clear(),this.filterFactory.destroy(!0),fb.cleanup()}}cachedPageNumber(e){if(!ug(e))return null;const t=0===e.gen?`${e.num}R`:`${e.num}R${e.gen}`;return eu(this,rs).get(t)??null}}ts=new WeakMap,ns=new WeakMap,is=new WeakMap,rs=new WeakMap,as=new WeakMap,ss=new WeakSet,os=function(e,t=null){const n=eu(this,ts).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return eu(this,ts).set(e,i),i};class Ab{constructor(e){tu(this,cs,null),Qd(this,"onContinue",null),Qd(this,"onError",null),nu(this,cs,e)}get promise(){return eu(this,cs).capability.promise}cancel(e=0){eu(this,cs).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=eu(this,cs).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=eu(this,cs);return e.form||e.canvas&&(null==t?void 0:t.size)>0}}cs=new WeakMap;const Tb=class e{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:r,operatorList:a,pageIndex:s,canvasFactory:o,filterFactory:c,useRequestAnimationFrame:l=!1,pdfBug:h=!1,pageColors:d=null,enableHWA:u=!1,operationsFilter:p=null}){tu(this,ls,null),this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=s,this.canvasFactory=o,this.filterFactory=c,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===l&&"undefined"!=typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Ab(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=u,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=p}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:n}){var i,r;if(this.cancelled)return;if(this._canvas){if(eu(e,hs).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");eu(e,hs).add(this._canvas)}this._pdfBug&&(null==(i=globalThis.StepperManager)?void 0:i.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:a,transform:s,background:o,dependencyTracker:c}=this.params,l=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Bm(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,c),this.gfx.beginDrawing({transform:s,viewport:a,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,null==(r=this.graphicsReadyCallback)||r.call(this)}cancel(t=null,n=0){var i,r,a;this.running=!1,this.cancelled=!0,null==(i=this.gfx)||i.endDrawing(),eu(this,ls)&&(window.cancelAnimationFrame(eu(this,ls)),nu(this,ls,null)),eu(e,hs).delete(this._canvas),t||(t=new tf(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(t),null==(a=(r=this.task).onError)||a.call(r,t)}operatorListChanged(){var e,t;this.graphicsReady?(null==(e=this.gfx.dependencyTracker)||e.growOperationsCount(this.operatorList.fnArray.length),null==(t=this.stepper)||t.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?nu(this,ls,window.requestAnimationFrame(()=>{nu(this,ls,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),eu(e,hs).delete(this._canvas),this.callback())))}};ls=new WeakMap,hs=new WeakMap,tu(Tb,hs,new WeakSet);let Ub=Tb;const Eb=class e{constructor({editor:t=null,uiManager:n=null}){var i,r;tu(this,_s),tu(this,ds,null),tu(this,us,null),tu(this,ps),tu(this,fs,null),tu(this,gs,!1),tu(this,ms,!1),tu(this,bs,null),tu(this,ys),tu(this,vs,null),tu(this,xs,null),t?(nu(this,ms,!1),nu(this,bs,t)):nu(this,ms,!0),nu(this,xs,(null==t?void 0:t._uiManager)||n),nu(this,ys,eu(this,xs)._eventBus),nu(this,ps,(null==(i=null==t?void 0:t.color)?void 0:i.toUpperCase())||(null==(r=eu(this,xs))?void 0:r.highlightColors.values().next().value)||"#FFFF98"),eu(e,ws)||nu(e,ws,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Cp(this,"_keyboardManager",new If([[["Escape","mac+Escape"],e.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],e.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],e.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],e.prototype._moveToPrevious],[["Home","mac+Home"],e.prototype._moveToBeginning],[["End","mac+End"],e.prototype._moveToEnd]]))}renderButton(){const e=nu(this,ds,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",eu(this,bs)&&(e.ariaControls=`${eu(this,bs).id}_colorpicker_dropdown`);const t=eu(this,xs)._signal;e.addEventListener("click",iu(this,_s,Us).bind(this),{signal:t}),e.addEventListener("keydown",iu(this,_s,Ts).bind(this),{signal:t});const n=nu(this,us,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=eu(this,ps),e.append(n),e}renderMainDropdown(){const e=nu(this,fs,iu(this,_s,Ds).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===eu(this,ds))return void iu(this,_s,Us).call(this,e);const t=e.target.getAttribute("data-color");t&&iu(this,_s,As).call(this,t,e)}_moveToNext(e){var t,n;eu(this,_s,ks)?e.target!==eu(this,ds)?null==(n=e.target.nextSibling)||n.focus():null==(t=eu(this,fs).firstElementChild)||t.focus():iu(this,_s,Us).call(this,e)}_moveToPrevious(e){var t,n;e.target!==(null==(t=eu(this,fs))?void 0:t.firstElementChild)&&e.target!==eu(this,ds)?(eu(this,_s,ks)||iu(this,_s,Us).call(this,e),null==(n=e.target.previousSibling)||n.focus()):eu(this,_s,ks)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;eu(this,_s,ks)?null==(t=eu(this,fs).firstElementChild)||t.focus():iu(this,_s,Us).call(this,e)}_moveToEnd(e){var t;eu(this,_s,ks)?null==(t=eu(this,fs).lastElementChild)||t.focus():iu(this,_s,Us).call(this,e)}hideDropdown(){var e,t;null==(e=eu(this,fs))||e.classList.add("hidden"),eu(this,ds).ariaExpanded="false",null==(t=eu(this,vs))||t.abort(),nu(this,vs,null)}_hideDropdownFromKeyboard(){var e;eu(this,ms)||(eu(this,_s,ks)?(this.hideDropdown(),eu(this,ds).focus({preventScroll:!0,focusVisible:eu(this,gs)})):null==(e=eu(this,bs))||e.unselect())}updateColor(e){if(eu(this,us)&&(eu(this,us).style.backgroundColor=e),!eu(this,fs))return;const t=eu(this,xs).highlightColors.values();for(const n of eu(this,fs).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;null==(e=eu(this,ds))||e.remove(),nu(this,ds,null),nu(this,us,null),null==(t=eu(this,fs))||t.remove(),nu(this,fs,null)}};ds=new WeakMap,us=new WeakMap,ps=new WeakMap,fs=new WeakMap,gs=new WeakMap,ms=new WeakMap,bs=new WeakMap,ys=new WeakMap,vs=new WeakMap,xs=new WeakMap,ws=new WeakMap,_s=new WeakSet,Ds=function(){const e=document.createElement("div"),t=eu(this,xs)._signal;e.addEventListener("contextmenu",of,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),eu(this,bs)&&(e.id=`${eu(this,bs).id}_colorpicker_dropdown`);for(const[n,i]of eu(this,xs).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=n,r.setAttribute("data-l10n-id",eu(Eb,ws)[n]);const a=document.createElement("span");r.append(a),a.className="swatch",a.style.backgroundColor=i,r.ariaSelected=i===eu(this,ps),r.addEventListener("click",iu(this,_s,As).bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",iu(this,_s,Ts).bind(this),{signal:t}),e},As=function(e,t){t.stopPropagation(),eu(this,ys).dispatch("switchannotationeditorparams",{source:this,type:Qu.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},Ts=function(e){Eb._keyboardManager.exec(this,e)},Us=function(e){if(eu(this,_s,ks))return void this.hideDropdown();if(nu(this,gs,0===e.detail),eu(this,vs)||(nu(this,vs,new AbortController),window.addEventListener("pointerdown",iu(this,_s,Es).bind(this),{signal:eu(this,xs).combinedSignal(eu(this,vs))})),eu(this,ds).ariaExpanded="true",eu(this,fs))return void eu(this,fs).classList.remove("hidden");const t=nu(this,fs,iu(this,_s,Ds).call(this));eu(this,ds).append(t)},Es=function(e){var t;(null==(t=eu(this,fs))?void 0:t.contains(e.target))||this.hideDropdown()},ks=function(){return eu(this,fs)&&!eu(this,fs).classList.contains("hidden")},tu(Eb,ws,null);let kb=Eb;const Cb=class e{constructor(t){tu(this,Cs,null),tu(this,Ss,null),tu(this,Fs,null),nu(this,Ss,t),nu(this,Fs,t._uiManager),eu(e,Ms)||nu(e,Ms,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(eu(this,Cs))return eu(this,Cs);const{editorType:t,colorType:n,color:i}=eu(this,Ss),r=nu(this,Cs,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",eu(e,Ms)[t]),r.addEventListener("input",()=>{eu(this,Fs).updateParams(n,r.value)},{signal:eu(this,Fs)._signal}),r}update(e){eu(this,Cs)&&(eu(this,Cs).value=e)}destroy(){var e;null==(e=eu(this,Cs))||e.remove(),nu(this,Cs,null)}hideDropdown(){}};Cs=new WeakMap,Ss=new WeakMap,Fs=new WeakMap,Ms=new WeakMap,tu(Cb,Ms,null);let Sb=Cb;function Fb(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function Mb(e){return Math.max(0,Math.min(255,255*e))}class Wb{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return[e=Mb(e),e,e]}static G_HTML([e]){const t=Fb(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(Mb)}static RGB_HTML(e){return`#${e.map(Fb).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[Mb(1-Math.min(1,e+i)),Mb(1-Math.min(1,n+i)),Mb(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,r=1-t,a=1-n;return["CMYK",i,r,a,Math.min(i,r,a)]}}class Ib{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if("string"!=typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Tp("Abstract method `_createSVG` called.")}}class Pb extends Ib{_createSVG(e){return document.createElementNS(Kp,e)}}const Rb=new WeakSet,Bb=60*(new Date).getTimezoneOffset()*1e3;class Nb{static create(e){switch(e.data.annotationType){case cp.LINK:return new jb(e);case cp.TEXT:return new zb(e);case cp.WIDGET:switch(e.data.fieldType){case"Tx":return new qb(e);case"Btn":return e.data.radioButton?new Gb(e):e.data.checkBox?new $b(e):new Xb(e);case"Ch":return new Yb(e);case"Sig":return new Vb(e)}return new Hb(e);case cp.POPUP:return new Kb(e);case cp.FREETEXT:return new Qb(e);case cp.LINE:return new Jb(e);case cp.SQUARE:return new ey(e);case cp.CIRCLE:return new ty(e);case cp.POLYLINE:return new ny(e);case cp.CARET:return new ry(e);case cp.INK:return new ay(e);case cp.POLYGON:return new iy(e);case cp.HIGHLIGHT:return new sy(e);case cp.UNDERLINE:return new oy(e);case cp.SQUIGGLY:return new cy(e);case cp.STRIKEOUT:return new ly(e);case cp.STAMP:return new hy(e);case cp.FILEATTACHMENT:return new dy(e);default:return new Ob(e)}}}Ws=new WeakMap,Is=new WeakMap,Ps=new WeakMap,Rs=new WeakSet,Bs=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:a,pageX:s,pageY:o}}}}=this;null==n||n.splice(0,4,...e),t.left=100*(e[0]-s)/r+"%",t.top=100*(a-e[3]+o)/a+"%",0===i?(t.width=100*(e[2]-e[0])/r+"%",t.height=100*(e[3]-e[1])/a+"%"):this.setRotation(i)};let Ob=class e{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){tu(this,Rs),tu(this,Ws,null),tu(this,Is,!1),tu(this,Ps,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!(!(null==e?void 0:e.str)&&!(null==t?void 0:t.str))}get _isEditable(){return this.data.isEditable}get hasPopupData(){return e._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var e;const{data:t}=this,n=null==(e=this.annotationStorage)?void 0:e.getEditor(t.id);return n?n.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var e;const t=null==(e=this.annotationStorage)?void 0:e.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:n,inkLists:i,rect:r}=this.data;let a=-1/0,s=-1/0;if((null==n?void 0:n.length)>=8){for(let e=0;e<n.length;e+=8)n[e+1]>s?(s=n[e+1],a=n[e+2]):n[e+1]===s&&(a=Math.max(a,n[e+2]));return[a,s]}if((null==i?void 0:i.length)>=1){for(const e of i)for(let t=0,n=e.length;t<n;t+=2)e[t+1]>s?(s=e[t+1],a=e[t]):e[t+1]===s&&(a=Math.max(a,e[t]));if(a!==1/0)return[a,s]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-r)/n,e[1]=100*(e[1]-a)/i,e}get commentText(){var e,t,n;const{data:i}=this;return(null==(t=null==(e=this.annotationStorage.getRawValue(`${Ku}${i.id}`))?void 0:e.popup)?void 0:t.contents)||(null==(n=i.contentsObj)?void 0:n.str)||""}set commentText(e){const{data:t}=this,n={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:n})||this.annotationStorage.setValue(`${Ku}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;null==(t=(null==(e=eu(this,Ps))?void 0:e.popup)||this.popup)||t.remove(),nu(this,Ps,this.popup=null)}updateEdited(e){var t;if(!this.container)return;e.rect&&(eu(this,Ws)||nu(this,Ws,{rect:this.data.rect.slice(0)}));const{rect:n,popup:i}=e;n&&iu(this,Rs,Bs).call(this,n);let r=(null==(t=eu(this,Ps))?void 0:t.popup)||this.popup;!r&&(null==i?void 0:i.text)&&(this._createPopup(i),r=eu(this,Ps).popup),r&&(r.updateEdited(e),(null==i?void 0:i.deleted)&&(r.remove(),nu(this,Ps,null),this.popup=null))}resetEdited(){var e;eu(this,Ws)&&(iu(this,Rs,Bs).call(this,eu(this,Ws).rect),null==(e=eu(this,Ps))||e.popup.resetEdited(),nu(this,Ws,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),this instanceof Hb||this instanceof jb||(r.tabIndex=0);const{style:a}=r;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof Kb){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,r),r}const{width:s,height:o}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t=`calc(${e}px * var(--total-scale-factor)) / calc(${n}px * var(--total-scale-factor))`;a.borderRadius=t}else if(this instanceof Gb){const e=`calc(${s}px * var(--total-scale-factor)) / calc(${o}px * var(--total-scale-factor))`;a.borderRadius=e}switch(t.borderStyle.style){case lp:a.borderStyle="solid";break;case hp:a.borderStyle="dashed";break;case dp:Ap("Unimplemented border style: beveled");break;case up:Ap("Unimplemented border style: inset");break;case pp:a.borderBottomStyle="solid"}const i=t.borderColor||null;i?(nu(this,Is,!0),a.borderColor=jp.makeHexColor(0|i[0],0|i[1],0|i[2])):a.borderWidth=0}const c=jp.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:l,pageHeight:h,pageX:d,pageY:u}=i.rawDims;a.left=100*(c[0]-d)/l+"%",a.top=100*(c[1]-u)/h+"%";const{rotation:p}=t;return t.hasOwnCanvas||0===p?(a.width=100*s/l+"%",a.height=100*o/h+"%"):this.setRotation(p,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:r,height:a}=this;e%180!=0&&([r,a]=[a,r]),t.style.width=100*r/n+"%",t.style.height=100*a/i+"%",t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const i=n.detail[e],r=i[0],a=i.slice(1);n.target.style[t]=Wb[`${r}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[t]:Wb[`${r}_rgb`](a)})};return Cp(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2==1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const r=e[i]||n[i];null==r||r(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,r]of Object.entries(t)){const a=n[i];if(a){a({detail:{[i]:r},target:e}),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,r]=this.data.rect.map(e=>Math.fround(e));if(8===e.length){const[a,s,o,c]=e.subarray(2,6);if(i===a&&r===s&&t===o&&n===c)return}const{style:a}=this.container;let s;if(eu(this,Is)){const{borderColor:e,borderWidth:t}=a;a.borderWidth=0,s=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${e}" stroke-width="${t}">`],this.container.classList.add("hasBorder")}const o=i-t,c=r-n,{svgFactory:l}=this,h=l.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const d=l.createElement("defs");h.append(d);const u=l.createElement("clipPath"),p=`clippath_${this.data.id}`;u.setAttribute("id",p),u.setAttribute("clipPathUnits","objectBoundingBox"),d.append(u);for(let f=2,g=e.length;f<g;f+=8){const n=e[f],i=e[f+1],a=e[f+2],h=e[f+3],d=l.createElement("rect"),p=(a-t)/o,g=(r-i)/c,m=(n-a)/o,b=(i-h)/c;d.setAttribute("x",p),d.setAttribute("y",g),d.setAttribute("width",m),d.setAttribute("height",b),u.append(d),null==s||s.push(`<rect vector-effect="non-scaling-stroke" x="${p}" y="${g}" width="${m}" height="${b}"/>`)}eu(this,Is)&&(s.push("</g></svg>')"),a.backgroundImage=s.join("")),this.container.append(h),this.container.style.clipPath=`url(#${p})`}_createPopup(e=null){const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate),nu(this,Ps,new Kb({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(eu(this,Ps)||this.popup||this.data.popupRef)}get extraPopupElement(){return eu(this,Ps)}render(){Tp("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:r,exportValues:a}of i){if(-1===e)continue;if(r===t)continue;const i="string"==typeof a?a:null,s=document.querySelector(`[data-element-id="${r}"]`);!s||Rb.has(s)?n.push({id:r,exportValue:i,domElement:s}):Ap(`_getElementsByName - element not allowed: ${r}`)}return n}for(const i of document.getElementsByName(e)){const{exportValue:e}=i,r=i.getAttribute("data-element-id");r!==t&&(Rb.has(i)&&n.push({id:r,exportValue:e,domElement:i}))}return n}show(){var e;this.container&&(this.container.hidden=!1),null==(e=this.popup)||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null==(e=this.popup)||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;null==(n=this.linkService.eventBus)||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};class Lb extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class jb extends Ob{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!(null==t?void 0:t.ignoreBorder),createQuadrilaterals:!0}),tu(this,Ns),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),i=!0):e.attachment?(iu(this,Ns,Ls).call(this,n,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(iu(this,Ns,js).call(this,n,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=n,this.container.append(n)),this.container}_bindLink(e,t,n=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&iu(this,Ns,Os).call(this),n&&(e.title=n)}_bindNamedAction(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),iu(this,Ns,Os).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const r=n.get(i);r&&(e[r]=()=>{var e;return null==(e=this.linkService.eventBus)||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1})}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),iu(this,Ns,Os).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),iu(this,Ns,Os).call(this),!this._fieldObjects)return Ap('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{var e;null==n||n();const{fields:i,refs:r,include:a}=t,s=[];if(0!==i.length||0!==r.length){const e=new Set(r);for(const t of i){const n=this._fieldObjects[t]||[];for(const{id:t}of n)e.add(t)}for(const t of Object.values(this._fieldObjects))for(const n of t)e.has(n.id)===a&&s.push(n)}else for(const t of Object.values(this._fieldObjects))s.push(...t);const o=this.annotationStorage,c=[];for(const t of s){const{id:e}=t;switch(c.push(e),t.type){case"text":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;o.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";o.setValue(e,{value:n});break}default:continue}const n=document.querySelector(`[data-element-id="${e}"]`);n&&(Rb.has(n)?n.dispatchEvent(new Event("resetform")):Ap(`_bindResetFormAction - element not allowed: ${e}`))}return this.enableScripting&&(null==(e=this.linkService.eventBus)||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}})),!1}}}Ns=new WeakSet,Os=function(){this.container.setAttribute("data-internal-link","")},Ls=function(e,t,n="",i=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>{var e;return null==(e=this.downloadManager)||e.openOrDownloadData(t.content,t.filename,i),!1},iu(this,Ns,Os).call(this)},js=function(e,t,n=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),iu(this,Ns,Os).call(this)};class zb extends Ob{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Hb extends Ob{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null==(t=e.previousSibling)?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Op.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,r){n.includes("mouse")?e.addEventListener(n,e=>{var t;null==(t=this.linkService.eventBus)||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(n,e=>{var a;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}r&&(null==(a=this.linkService.eventBus)||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(e)}}))})}_setEventListeners(e,t,n,i){var r,a,s;for(const[o,c]of n)("Action"===c||(null==(r=this.data.actions)?void 0:r[c]))&&("Focus"!==c&&"Blur"!==c||t||(t={focused:!1}),this._setEventListener(e,t,o,c,i),"Focus"!==c||(null==(a=this.data.actions)?void 0:a.Blur)?"Blur"!==c||(null==(s=this.data.actions)?void 0:s.Focus)||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":jp.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,r=e.style;let a;const s=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(Lu*i))||1);a=Math.min(i,s(t/Lu))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);a=Math.min(i,s(e/Lu))}r.fontSize=`calc(${a}px * var(--total-scale-factor))`,r.color=jp.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class qb extends Hb{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,i){const r=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),r.setValue(a.id,{[i]:n})}render(){var e,t;const n=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=n.getValue(i,{value:this.data.fieldValue});let s=a.value||"";const o=n.getValue(i,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let c=a.formattedValue||(null==(e=this.data.textContent)?void 0:e.join("\n"))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??s,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??s),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),Rb.add(r),this.contentElement=r,r.setAttribute("data-element-id",i),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:h,datetimeType:d,timeStep:u}=this.data,p=!!d&&this.enableScripting;h&&(r.title=h),this._setRequired(r,this.data.required),o&&(r.maxLength=o),r.addEventListener("input",e=>{n.setValue(i,{value:e.target.value}),this.setPropertyOnSiblings(r,"value",e.target.value,"value"),l.formattedValue=null}),r.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue??"";r.value=l.userValue=t,l.formattedValue=null});let f=e=>{const{formattedValue:t}=l;null!=t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",e=>{var t;if(l.focused)return;const{target:n}=e;if(p&&(n.type=d,u&&(n.step=u)),l.userValue){const e=l.userValue;if(p)if("time"===d){const t=new Date(e),i=[t.getHours(),t.getMinutes(),t.getSeconds()];n.value=i.map(e=>e.toString().padStart(2,"0")).join(":")}else n.value=new Date(e-Bb).toISOString().split("date"===d?"T":".",1)[0];else n.value=e}l.lastCommittedValue=n.value,l.commitKey=1,(null==(t=this.data.actions)?void 0:t.Focus)||(l.focused=!0)}),r.addEventListener("updatefromsandbox",e=>{this.showElementAndHideCanvas(e.target);const t={value(e){l.userValue=e.detail.value??"",p||n.setValue(i,{value:l.userValue.toString()}),e.target.value=l.userValue},formattedValue(e){const{formattedValue:t}=e.detail;l.formattedValue=t,null!=t&&e.target!==document.activeElement&&(e.target.value=t);const r={formattedValue:t};p&&(r.value=t),n.setValue(i,r)},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:e=>{var t;const{charLimit:r}=e.detail,{target:a}=e;if(0===r)return void a.removeAttribute("maxLength");a.setAttribute("maxLength",r);let s=l.userValue;!s||s.length<=r||(s=s.slice(0,r),a.value=l.userValue=s,n.setValue(i,{value:s}),null==(t=this.linkService.eventBus)||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:s,willCommit:!0,commitKey:1,selStart:a.selectionStart,selEnd:a.selectionEnd}}))}};this._dispatchEventFromSandbox(t,e)}),r.addEventListener("keydown",e=>{var t;l.commitKey=1;let n=-1;if("Escape"===e.key?n=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(l.commitKey=3):n=2,-1===n)return;const{value:r}=e.target;l.lastCommittedValue!==r&&(l.lastCommittedValue=r,l.userValue=r,null==(t=this.linkService.eventBus)||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:r,willCommit:!0,commitKey:n,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});const e=f;f=null,r.addEventListener("blur",t=>{var n,r;if(!l.focused||!t.relatedTarget)return;(null==(n=this.data.actions)?void 0:n.Blur)||(l.focused=!1);const{target:a}=t;let{value:s}=a;if(p){if(s&&"time"===d){const e=s.split(":").map(e=>parseInt(e,10));s=new Date(2e3,0,1,e[0],e[1],e[2]||0).valueOf(),a.step=""}else s.includes("T")||(s=`${s}T00:00`),s=new Date(s).valueOf();a.type="text"}l.userValue=s,l.lastCommittedValue!==s&&(null==(r=this.linkService.eventBus)||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:s,willCommit:!0,commitKey:l.commitKey,selStart:t.target.selectionStart,selEnd:t.target.selectionEnd}})),e(t)}),(null==(t=this.data.actions)?void 0:t.Keystroke)&&r.addEventListener("beforeinput",e=>{var t;l.lastCommittedValue=null;const{data:n,target:r}=e,{value:a,selectionStart:s,selectionEnd:o}=r;let c=s,h=o;switch(e.inputType){case"deleteWordBackward":{const e=a.substring(0,s).match(/\w*[^\w]*$/);e&&(c-=e[0].length);break}case"deleteWordForward":{const e=a.substring(s).match(/^[^\w]*\w*/);e&&(h+=e[0].length);break}case"deleteContentBackward":s===o&&(c-=1);break;case"deleteContentForward":s===o&&(h+=1)}e.preventDefault(),null==(t=this.linkService.eventBus)||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:a,change:n||"",willCommit:!1,selStart:c,selEnd:h}})}),this._setEventListeners(r,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}if(f&&r.addEventListener("blur",f),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;r.classList.add("comb"),r.style.letterSpacing=`calc(${e}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Vb extends Hb{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class $b extends Hb{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"==typeof i&&(i="Off"!==i,e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Rb.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=0,r.addEventListener("change",i=>{const{name:r,checked:a}=i.target;for(const s of this._getElementsByName(r,n)){const n=a&&s.exportValue===t.exportValue;s.domElement&&(s.domElement.checked=n),e.setValue(s.id,{value:n})}e.setValue(n,{value:a})}),r.addEventListener("resetform",e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",t=>{const i={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(i,t)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Gb extends Hb{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"==typeof i&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const r=document.createElement("input");if(Rb.add(r),r.setAttribute("data-element-id",n),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",t=>{const{name:i,checked:r}=t.target;for(const a of this._getElementsByName(i,n))e.setValue(a.id,{value:!1});e.setValue(n,{value:r})}),r.addEventListener("resetform",e=>{const n=t.defaultFieldValue;e.target.checked=null!=n&&n===t.buttonValue}),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;r.addEventListener("updatefromsandbox",t=>{const r={value:t=>{const r=i===t.detail.value;for(const i of this._getElementsByName(t.target.name)){const t=r&&i.id===n;i.domElement&&(i.domElement.checked=t),e.setValue(i.id,{value:t})}}};this._dispatchEventFromSandbox(r,t)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Xb extends jb{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class Yb extends Hb{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");Rb.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===t});for(const l of this.data.options){const e=document.createElement("option");e.textContent=l.displayValue,e.value=l.exportValue,n.value.includes(l.exportValue)&&(e.setAttribute("selected",!0),r=!1),i.append(e)}let a=null;if(r){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),i.prepend(e),a=()=>{e.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const s=e=>{const t=e?"value":"textContent",{options:n,multiple:r}=i;return r?Array.prototype.filter.call(n,e=>e.selected).map(e=>e[t]):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=s(!1);const c=e=>{const t=e.target.options;return Array.prototype.map.call(t,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",n=>{const r={value(n){null==a||a();const r=n.detail.value,c=new Set(Array.isArray(r)?r:[r]);for(const e of i.options)e.selected=c.has(e.value);e.setValue(t,{value:s(!0)}),o=s(!1)},multipleSelection(e){i.multiple=!0},remove(n){const r=i.options,a=n.detail.remove;if(r[a].selected=!1,i.remove(a),r.length>0){-1===Array.prototype.findIndex.call(r,e=>e.selected)&&(r[0].selected=!0)}e.setValue(t,{value:s(!0),items:c(n)}),o=s(!1)},clear(n){for(;0!==i.length;)i.remove(0);e.setValue(t,{value:null,items:[]}),o=s(!1)},insert(n){const{index:r,displayValue:a,exportValue:l}=n.detail.insert,h=i.children[r],d=document.createElement("option");d.textContent=a,d.value=l,h?h.before(d):i.append(d),e.setValue(t,{value:s(!0),items:c(n)}),o=s(!1)},items(n){const{items:r}=n.detail;for(;0!==i.length;)i.remove(0);for(const e of r){const{displayValue:t,exportValue:n}=e,r=document.createElement("option");r.textContent=t,r.value=n,i.append(r)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:s(!0),items:c(n)}),o=s(!1)},indices(n){const i=new Set(n.detail.indices);for(const e of n.target.options)e.selected=i.has(e.index);e.setValue(t,{value:s(!0)}),o=s(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(r,n)}),i.addEventListener("input",n=>{var i;const r=s(!0),a=s(!1);e.setValue(t,{value:r}),n.preventDefault(),null==(i=this.linkService.eventBus)||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:a,changeEx:r,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):i.addEventListener("input",function(n){e.setValue(t,{value:s(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Kb extends Ob{constructor(e){const{data:t,elements:n,parent:i}=e,r=!!i._commentManager;if(super(e,{isRenderable:!r&&Ob._hasPopupData(t)}),tu(this,zs),this.elements=n,r&&Ob._hasPopupData(t)){const e=this.popup=iu(this,zs,Hs).call(this);for(const t of n)t.popup=e}else this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=iu(this,zs,Hs).call(this),n=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(e=>`${Vp}${e}`).join(",")),this.container}}zs=new WeakSet,Hs=function(){return new Zb({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};class Zb{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:r,contentsObj:a,richText:s,parent:o,rect:c,parentRect:l,open:h,commentManager:d=null}){tu(this,bo),tu(this,qs,null),tu(this,Vs,iu(this,bo,Uo).bind(this)),tu(this,$s,iu(this,bo,So).bind(this)),tu(this,Gs,iu(this,bo,Co).bind(this)),tu(this,Xs,iu(this,bo,ko).bind(this)),tu(this,Ys,null),tu(this,Ks,null),tu(this,Zs,null),tu(this,Qs,null),tu(this,Js,null),tu(this,eo,null),tu(this,to,null),tu(this,no,!1),tu(this,io,null),tu(this,ro,null),tu(this,ao,null),tu(this,so,null),tu(this,oo,null),tu(this,co,null),tu(this,lo,null),tu(this,ho,null),tu(this,uo,null),tu(this,po,null),tu(this,fo,!1),tu(this,go,null),tu(this,mo,null),nu(this,Ks,e),nu(this,uo,i),nu(this,Zs,a),nu(this,ho,s),nu(this,eo,o),nu(this,Ys,t),nu(this,lo,c),nu(this,to,l),nu(this,Js,n),nu(this,qs,d),nu(this,go,n[0]),nu(this,Qs,lf.toDateObject(r)),this.trigger=n.flatMap(e=>e.getElementsToTriggerPopup()),d||(iu(this,bo,yo).call(this),eu(this,Ks).hidden=!0,h&&iu(this,bo,ko).call(this))}renderCommentButton(){if(eu(this,so))return void(eu(this,so).parentNode||eu(this,go).container.after(eu(this,so)));if(eu(this,oo)||iu(this,bo,vo).call(this),!eu(this,oo))return;const{signal:e}=nu(this,ro,new AbortController),t=eu(this,go).hasOwnCommentButton,n=()=>{eu(this,qs).toggleCommentPopup(this,!0,void 0,!t)},i=()=>{eu(this,qs).toggleCommentPopup(this,!1,!0,!t)},r=()=>{eu(this,qs).toggleCommentPopup(this,!1,!1)};if(t){nu(this,so,eu(this,go).container);for(const t of this.trigger)t.ariaHasPopup="dialog",t.ariaControls="commentPopup",t.addEventListener("keydown",eu(this,Vs),{signal:e}),t.addEventListener("click",n,{signal:e}),t.addEventListener("pointerenter",i,{signal:e}),t.addEventListener("pointerleave",r,{signal:e}),t.classList.add("popupTriggerArea")}else{const t=nu(this,so,document.createElement("button"));t.className="annotationCommentButton";const a=eu(this,go).container;t.style.zIndex=a.style.zIndex+1,t.tabIndex=0,t.ariaHasPopup="dialog",t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button"),iu(this,bo,wo).call(this),iu(this,bo,xo).call(this),t.addEventListener("keydown",eu(this,Vs),{signal:e}),t.addEventListener("click",n,{signal:e}),t.addEventListener("pointerenter",i,{signal:e}),t.addEventListener("pointerleave",r,{signal:e}),a.after(t)}}get commentButtonColor(){const{color:e,opacity:t}=eu(this,go).commentData;return e?eu(this,eo)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;null==(e=eu(this,so))||e.focus()},0)}getData(){const{richText:e,color:t,opacity:n,creationDate:i,modificationDate:r}=eu(this,go).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:n,creationDate:i,modificationDate:r}}get elementBeforePopup(){return eu(this,so)}get comment(){return eu(this,mo)||nu(this,mo,eu(this,go).commentText),eu(this,mo)}set comment(e){e!==this.comment&&(eu(this,go).commentText=nu(this,mo,e))}focus(){var e;null==(e=eu(this,go).container)||e.focus()}get parentBoundingClientRect(){return eu(this,go).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){eu(this,so)&&(eu(this,so).classList.toggle("selected",e),eu(this,so).ariaExpanded=t)}setSelectedCommentButton(e){eu(this,so).classList.toggle("selected",e)}get commentPopupPosition(){if(eu(this,co))return eu(this,co);const{x:e,y:t,height:n}=eu(this,so).getBoundingClientRect(),{x:i,y:r,width:a,height:s}=eu(this,go).layer.getBoundingClientRect();return[(e-i)/a,(t+n-r)/s]}set commentPopupPosition(e){nu(this,co,e)}hasDefaultPopupPosition(){return null===eu(this,co)}get commentButtonPosition(){return eu(this,oo)}get commentButtonWidth(){return eu(this,so).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,n]=eu(this,co)||this.commentButtonPosition.map(e=>e/100),i=this.parentBoundingClientRect,{x:r,y:a,width:s,height:o}=i;eu(this,qs).showDialog(null,this,r+t*s,a+n*o,{...e,parentDimensions:i})}render(){var e,t;if(eu(this,io))return;const n=nu(this,io,document.createElement("div"));if(n.className="popup",eu(this,Ys)){const e=n.style.outlineColor=jp.makeHexColor(...eu(this,Ys));n.style.backgroundColor=`color-mix(in srgb, ${e} 30%, white)`}const i=document.createElement("span");if(i.className="header",null==(e=eu(this,uo))?void 0:e.str){const e=document.createElement("span");e.className="title",i.append(e),({dir:e.dir,str:e.textContent}=eu(this,uo))}if(n.append(i),eu(this,Qs)){const e=document.createElement("time");e.className="popupDate",e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:eu(this,Qs).valueOf()})),e.dateTime=eu(this,Qs).toISOString(),i.append(e)}_f({html:eu(this,bo,_o)||eu(this,Zs).str,dir:null==(t=eu(this,Zs))?void 0:t.dir,className:"popupContent"},n),eu(this,Ks).append(n)}updateEdited({rect:e,popup:t,deleted:n}){var i;if(eu(this,qs))return n?(this.remove(),nu(this,mo,null)):t&&(t.deleted?this.remove():(iu(this,bo,wo).call(this),nu(this,mo,t.text))),void(e&&(nu(this,oo,null),iu(this,bo,vo).call(this),iu(this,bo,xo).call(this)));n||(null==t?void 0:t.deleted)?this.remove():(iu(this,bo,yo).call(this),eu(this,po)||nu(this,po,{contentsObj:eu(this,Zs),richText:eu(this,ho)}),e&&nu(this,ao,null),t&&t.text&&(nu(this,ho,iu(this,bo,To).call(this,t.text)),nu(this,Qs,lf.toDateObject(t.date)),nu(this,Zs,null)),null==(i=eu(this,io))||i.remove(),nu(this,io,null))}resetEdited(){var e;eu(this,po)&&(({contentsObj:ru(this,Zs)._,richText:ru(this,ho)._}=eu(this,po)),nu(this,po,null),null==(e=eu(this,io))||e.remove(),nu(this,io,null),nu(this,ao,null))}remove(){var e,t,n;if(null==(e=eu(this,ro))||e.abort(),nu(this,ro,null),null==(t=eu(this,io))||t.remove(),nu(this,io,null),nu(this,fo,!1),nu(this,no,!1),null==(n=eu(this,so))||n.remove(),nu(this,so,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){nu(this,fo,this.isVisible),eu(this,fo)&&(eu(this,Ks).hidden=!0)}maybeShow(){eu(this,qs)||(iu(this,bo,yo).call(this),eu(this,fo)&&(eu(this,io)||iu(this,bo,Co).call(this),nu(this,fo,!1),eu(this,Ks).hidden=!1))}get isVisible(){return!eu(this,qs)&&!1===eu(this,Ks).hidden}}qs=new WeakMap,Vs=new WeakMap,$s=new WeakMap,Gs=new WeakMap,Xs=new WeakMap,Ys=new WeakMap,Ks=new WeakMap,Zs=new WeakMap,Qs=new WeakMap,Js=new WeakMap,eo=new WeakMap,to=new WeakMap,no=new WeakMap,io=new WeakMap,ro=new WeakMap,ao=new WeakMap,so=new WeakMap,oo=new WeakMap,co=new WeakMap,lo=new WeakMap,ho=new WeakMap,uo=new WeakMap,po=new WeakMap,fo=new WeakMap,go=new WeakMap,mo=new WeakMap,bo=new WeakSet,yo=function(){var e;if(eu(this,ro))return;nu(this,ro,new AbortController);const{signal:t}=eu(this,ro);for(const n of this.trigger)n.addEventListener("click",eu(this,Xs),{signal:t}),n.addEventListener("pointerenter",eu(this,Gs),{signal:t}),n.addEventListener("pointerleave",eu(this,$s),{signal:t}),n.classList.add("popupTriggerArea");for(const n of eu(this,Js))null==(e=n.container)||e.addEventListener("keydown",eu(this,Vs),{signal:t})},vo=function(){const e=eu(this,Js).find(e=>e.hasCommentButton);e&&nu(this,oo,e._normalizePoint(e.commentButtonPosition))},xo=function(){if(eu(this,go).extraPopupElement&&!eu(this,go).editor)return;eu(this,so)||this.renderCommentButton();const[e,t]=eu(this,oo),{style:n}=eu(this,so);n.left=`calc(${e}%)`,n.top=`calc(${t}% - var(--comment-button-dim))`},wo=function(){eu(this,go).extraPopupElement||(eu(this,so)||this.renderCommentButton(),eu(this,so).style.backgroundColor=this.commentButtonColor||"")},_o=function(){const e=eu(this,ho),t=eu(this,Zs);return!(null==e?void 0:e.str)||(null==t?void 0:t.str)&&t.str!==e.str?null:eu(this,ho).html||null},Do=function(){var e,t,n;return(null==(n=null==(t=null==(e=eu(this,bo,_o))?void 0:e.attributes)?void 0:t.style)?void 0:n.fontSize)||0},Ao=function(){var e,t,n;return(null==(n=null==(t=null==(e=eu(this,bo,_o))?void 0:e.attributes)?void 0:t.style)?void 0:n.color)||null},To=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:eu(this,bo,Ao),fontSize:eu(this,bo,Do)?`calc(${eu(this,bo,Do)}px * var(--total-scale-factor))`:""}};for(const r of e.split("\n"))t.push({name:"span",value:r,attributes:i});return n},Uo=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&eu(this,no))&&iu(this,bo,ko).call(this)},Eo=function(){if(null!==eu(this,ao))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:r}}}=eu(this,eo);let a=!!eu(this,to),s=eu(this,a?to:lo);for(const u of eu(this,Js))if(!s||null!==jp.intersect(u.data.rect,s)){s=u.data.rect,a=!0;break}const o=jp.normalizeRect([s[0],e[3]-s[1]+e[1],s[2],e[3]-s[3]+e[1]]),c=a?s[2]-s[0]+5:0,l=o[0]+c,h=o[1];nu(this,ao,[100*(l-i)/t,100*(h-r)/n]);const{style:d}=eu(this,Ks);d.left=`${eu(this,ao)[0]}%`,d.top=`${eu(this,ao)[1]}%`},ko=function(){eu(this,qs)?eu(this,qs).toggleCommentPopup(this,!1):(nu(this,no,!eu(this,no)),eu(this,no)?(iu(this,bo,Co).call(this),eu(this,Ks).addEventListener("click",eu(this,Xs)),eu(this,Ks).addEventListener("keydown",eu(this,Vs))):(iu(this,bo,So).call(this),eu(this,Ks).removeEventListener("click",eu(this,Xs)),eu(this,Ks).removeEventListener("keydown",eu(this,Vs))))},Co=function(){eu(this,io)||this.render(),this.isVisible?eu(this,no)&&eu(this,Ks).classList.add("focused"):(iu(this,bo,Eo).call(this),eu(this,Ks).hidden=!1,eu(this,Ks).style.zIndex=parseInt(eu(this,Ks).style.zIndex)+1e3)},So=function(){eu(this,Ks).classList.remove("focused"),!eu(this,no)&&this.isVisible&&(eu(this,Ks).hidden=!0,eu(this,Ks).style.zIndex=parseInt(eu(this,Ks).style.zIndex)-1e3)};class Qb extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Zu.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class Jb extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),tu(this,Fo,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=nu(this,Fo,this.svgFactory.createElement("svg:line"));return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return eu(this,Fo)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fo=new WeakMap;class ey extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),tu(this,Mo,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,a=nu(this,Mo,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",r/2),a.setAttribute("y",r/2),a.setAttribute("width",t-r),a.setAttribute("height",n-r),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return eu(this,Mo)}addHighlightArea(){this.container.classList.add("highlightArea")}}Mo=new WeakMap;class ty extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),tu(this,Wo,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),r=e.borderStyle.width,a=nu(this,Wo,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",t/2),a.setAttribute("cy",n/2),a.setAttribute("rx",t/2-r/2),a.setAttribute("ry",n/2-r/2),a.setAttribute("stroke-width",r||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return eu(this,Wo)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wo=new WeakMap;class ny extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),tu(this,Io,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i},width:r,height:a}=this;if(!t)return this.container;const s=this.svgFactory.create(r,a,!0);let o=[];for(let l=0,h=t.length;l<h;l+=2){const n=t[l]-e[0],i=e[3]-t[l+1];o.push(`${n},${i}`)}o=o.join(" ");const c=nu(this,Io,this.svgFactory.createElement(this.svgElementName));return c.setAttribute("points",o),c.setAttribute("stroke-width",n.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),s.append(c),this.container.append(s),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return eu(this,Io)}addHighlightArea(){this.container.classList.add("highlightArea")}}Io=new WeakMap;class iy extends ny{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ry extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class ay extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),tu(this,Bo),tu(this,Po,null),tu(this,Ro,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?Zu.HIGHLIGHT:Zu.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:i,popupRef:r}}=this,{transform:a,width:s,height:o}=iu(this,Bo,No).call(this,t,e),c=this.svgFactory.create(s,o,!0),l=nu(this,Po,this.svgFactory.createElement("svg:g"));c.append(l),l.setAttribute("stroke-width",i.width||1),l.setAttribute("stroke-linecap","round"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit",10),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),l.setAttribute("transform",a);for(let h=0,d=n.length;h<d;h++){const e=this.svgFactory.createElement(this.svgElementName);eu(this,Ro).push(e),e.setAttribute("points",n[h].join(",")),l.append(e)}return!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:i}=e,r=eu(this,Po);if(t>=0&&r.setAttribute("stroke-width",t||1),n)for(let a=0,s=eu(this,Ro).length;a<s;a++)eu(this,Ro)[a].setAttribute("points",n[a].join(","));if(i){const{transform:e,width:t,height:n}=iu(this,Bo,No).call(this,this.data.rotation,i);r.parentElement.setAttribute("viewBox",`0 0 ${t} ${n}`),r.setAttribute("transform",e)}}getElementsToTriggerPopup(){return eu(this,Ro)}addHighlightArea(){this.container.classList.add("highlightArea")}}Po=new WeakMap,Ro=new WeakMap,Bo=new WeakSet,No=function(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}};class sy extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Zu.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const t=document.createElement("mark");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class oy extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class cy extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class ly extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const t=document.createElement("s");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class hy extends Ob{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Zu.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class dy extends Ob{constructor(e){var t;super(e,{isRenderable:!0}),tu(this,Lo),tu(this,Oo,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null==(t=this.linkService.eventBus)||t.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(100*t.fillAlpha)}%);`)),n.addEventListener("dblclick",iu(this,Lo,jo).bind(this)),nu(this,Oo,n);const{isMac:i}=Op.platform;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&iu(this,Lo,jo).call(this)}),!t.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return eu(this,Oo)}addHighlightArea(){this.container.classList.add("highlightArea")}}Oo=new WeakMap,Lo=new WeakSet,jo=function(){var e;null==(e=this.downloadManager)||e.openOrDownloadData(this.content,this.filename)};zo=new WeakMap,Ho=new WeakMap,qo=new WeakMap,Vo=new WeakMap,$o=new WeakMap,Go=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,Ko=new WeakSet,Zo=async function(){var e,t,n;if(0===eu(this,Xo).length)return;this.div.replaceChildren();const i=[];if(!eu(this,Yo)){nu(this,Yo,!0);for(const{contentElement:t,data:{id:n}}of eu(this,Xo)){const r=t.id=`${Vp}${n}`;i.push(null==(e=eu(this,$o))?void 0:e.getAriaAttributes(r).then(e=>{if(e)for(const[n,i]of e)t.setAttribute(n,i)}))}}eu(this,Xo).sort(({data:{rect:[e,t,n,i]}},{data:{rect:[r,a,s,o]}})=>{if(e===n&&t===i)return 1;if(r===s&&a===o)return-1;const c=(t+i)/2,l=(a+o)/2;if(c>=o&&l<=t)return-1;if(l>=i&&c<=a)return 1;return(e+n)/2-(r+s)/2});const r=document.createDocumentFragment();for(const a of eu(this,Xo))r.append(a.container),this._commentManager?null==(n=(null==(t=a.extraPopupElement)?void 0:t.popup)||a.popup)||n.renderCommentButton():a.extraPopupElement&&r.append(a.extraPopupElement.render());if(this.div.append(r),await Promise.all(i),eu(this,zo))for(const a of eu(this,Xo))eu(this,zo).addPointerInTextLayer(a.contentElement,!1)},Qo=function(){var e;if(!eu(this,Ho))return;const t=this.div;for(const[n,i]of eu(this,Ho)){const r=t.querySelector(`[data-annotation-id="${n}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:a}=r;a?"CANVAS"===a.nodeName?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):r.append(i);const s=eu(this,Vo).get(n);s&&(s._hasNoCanvas?(null==(e=this._annotationEditorUIManager)||e.setMissingCanvas(n,r.id,i),s._hasNoCanvas=!1):s.canvas=i)}eu(this,Ho).clear()};let uy=class e{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:r,viewport:a,structTreeLayer:s,commentManager:o,linkService:c,annotationStorage:l}){tu(this,Ko),tu(this,zo,null),tu(this,Ho,null),tu(this,qo,null),tu(this,Vo,new Map),tu(this,$o,null),tu(this,Go,null),tu(this,Xo,[]),tu(this,Yo,!1),this.div=e,nu(this,zo,t),nu(this,Ho,n),nu(this,$o,s||null),nu(this,Go,c||null),nu(this,qo,l||new Qf),this.page=r,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=o||null}hasEditableAnnotations(){return eu(this,Vo).size>0}async render(e){var t;const{annotations:n}=e,i=this.div;pf(i,this.viewport);const r=new Map,a=[],s={data:null,layer:i,linkService:eu(this,Go),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new Pb,annotationStorage:eu(this,qo),enableComment:!0===e.enableComment,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of n){if(o.noHTML)continue;const e=o.annotationType===cp.POPUP;if(e){const e=r.get(o.id);if(!e)continue;if(!this._commentManager){a.push(o);continue}s.elements=e}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;s.data=o;const n=Nb.create(s);if(!n.isRenderable)continue;if(!e&&(eu(this,Xo).push(n),o.popupRef)){const e=r.get(o.popupRef);e?e.push(n):r.set(o.popupRef,[n])}const i=n.render();o.hidden&&(i.style.visibility="hidden"),n._isEditable&&(eu(this,Vo).set(n.data.id,n),null==(t=this._annotationEditorUIManager)||t.renderAnnotationElement(n))}await iu(this,Ko,Zo).call(this);for(const o of a){const e=s.elements=r.get(o.id);s.data=o;const t=Nb.create(s);if(!t.isRenderable)continue;const n=t.render();t.contentElement.id=`${Vp}${o.id}`,o.hidden&&(n.style.visibility="hidden"),e.at(-1).container.after(n)}iu(this,Ko,Qo).call(this)}async addLinkAnnotations(t){const n={data:null,layer:this.div,linkService:eu(this,Go),svgFactory:new Pb,parent:this};for(const i of t){i.borderStyle||(i.borderStyle=e._defaultBorderStyle),n.data=i;const t=Nb.create(n);t.isRenderable&&(t.render(),t.contentElement.id=`${Vp}${i.id}`,eu(this,Xo).push(t))}await iu(this,Ko,Zo).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,pf(t,{rotation:e.rotation}),iu(this,Ko,Qo).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(eu(this,Vo).values())}getEditableAnnotation(e){return eu(this,Vo).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:n,rotation:i}=e,r=new Lb({data:{id:n,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:eu(this,Go),annotationStorage:eu(this,qo)});return r.render(),r.contentElement.id=`${Vp}${n}`,r.createOrUpdatePopup(),eu(this,Xo).push(r),r}removeAnnotation(e){var t;const n=eu(this,Xo).findIndex(t=>t.data.id===e);if(n<0)return;const[i]=eu(this,Xo).splice(n,1);null==(t=eu(this,zo))||t.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(0!==e.length){for(const t of e)t.updateFakeAnnotationElement(this);iu(this,Ko,Zo).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Cp(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:lp,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const py=/\r\n?|\n/g,fy=class e extends Vf{constructor(t){super({...t,name:"freeTextEditor"}),tu(this,ic),tu(this,Jo,""),tu(this,ec,`${this.id}-editor`),tu(this,tc,null),tu(this,nc),Qd(this,"_colorPicker",null),this.color=t.color||e._defaultColor||Vf._defaultLineColor,nu(this,nc,t.fontSize||e._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=e.prototype,n=e=>e.isEmpty(),i=Nf.TRANSLATE_SMALL,r=Nf.TRANSLATE_BIG;return Cp(this,"_keyboardManager",new If([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}]]))}static initialize(e,t){Vf.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Qu.FREETEXT_SIZE:e._defaultFontSize=n;break;case Qu.FREETEXT_COLOR:e._defaultColor=n}}updateParams(e,t){switch(e){case Qu.FREETEXT_SIZE:iu(this,ic,rc).call(this,t);break;case Qu.FREETEXT_COLOR:iu(this,ic,ac).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Qu.FREETEXT_SIZE,e._defaultFontSize],[Qu.FREETEXT_COLOR,e._defaultColor||Vf._defaultLineColor]]}get propertiesToUpdate(){return[[Qu.FREETEXT_SIZE,eu(this,nc)],[Qu.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Sb(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Qu.FREETEXT_COLOR}onUpdatedColor(){var e;this.editorDiv.style.color=this.color,null==(e=this._colorPicker)||e.update(this.color),super.onUpdatedColor()}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const t=this.parentScale;return[-e._internalPadding*t,-(e._internalPadding+eu(this,nc))*t]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),nu(this,tc,new AbortController);const e=this._uiManager.combinedSignal(eu(this,tc));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",eu(this,ec)),this._isDraggable=!0,null==(e=eu(this,tc))||e.abort(),nu(this,tc,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var t;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),(null==(t=this._initialOptions)?void 0:t.isCentered)&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=eu(this,Jo),t=nu(this,Jo,iu(this,ic,sc).call(this).trimEnd());if(e===t)return;const n=e=>{nu(this,Jo,e),e?(iu(this,ic,hc).call(this),this._uiManager.rebuild(this),iu(this,ic,oc).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),iu(this,ic,oc).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(t){e._keyboardManager.exec(this,t)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",eu(this,ec)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${eu(this,nc)}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:r}=this._initialData;let[a,s]=this.getInitialTranslation();[a,s]=this.pageTranslationToScreen(a,s);const[o,c]=this.pageDimensions,[l,h]=this.pageTranslation;let d,u;switch(this.rotation){case 0:d=e+(r[0]-l)/o,u=t+this.height-(r[1]-h)/c;break;case 90:d=e+(r[0]-l)/o,u=t-(r[1]-h)/c,[a,s]=[s,-a];break;case 180:d=e-this.width+(r[0]-l)/o,u=t-(r[1]-h)/c,[a,s]=[-a,-s];break;case 270:d=e+(r[0]-l-this.height*c)/o,u=t+(r[1]-h-this.width*o)/c,[a,s]=[-s,a]}this.setAt(d*n,u*i,a,s)}else this._moveAfterPaste(e,t);iu(this,ic,hc).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var n,i,r;const a=t.clipboardData||window.clipboardData,{types:s}=a;if(1===s.length&&"text/plain"===s[0])return;t.preventDefault();const o=iu(n=e,cc,uc).call(n,a.getData("text")||"").replaceAll(py,"\n");if(!o)return;const c=window.getSelection();if(!c.rangeCount)return;this.editorDiv.normalize(),c.deleteFromDocument();const l=c.getRangeAt(0);if(!o.includes("\n"))return l.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),void c.collapseToStart();const{startContainer:h,startOffset:d}=l,u=[],p=[];if(h.nodeType===Node.TEXT_NODE){const t=h.parentElement;if(p.push(h.nodeValue.slice(d).replaceAll(py,"")),t!==this.editorDiv){let n=u;for(const r of this.editorDiv.childNodes)r!==t?n.push(iu(i=e,cc,lc).call(i,r)):n=p}u.push(h.nodeValue.slice(0,d).replaceAll(py,""))}else if(h===this.editorDiv){let t=u,n=0;for(const i of this.editorDiv.childNodes)n++===d&&(t=p),t.push(iu(r=e,cc,lc).call(r,i))}nu(this,Jo,`${u.join("\n")}${o}${p.join("\n")}`),iu(this,ic,hc).call(this);const f=new Range;let g=Math.sumPrecise(u.map(e=>e.length));for(const{firstChild:e}of this.editorDiv.childNodes)if(e.nodeType===Node.TEXT_NODE){const t=e.nodeValue.length;if(g<=t){f.setStart(e,g),f.setEnd(e,g);break}g-=t}c.removeAllRanges(),c.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=e._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,n,i){var r;let a=null;if(t instanceof Qb){const{data:{defaultAppearanceData:{fontSize:e,fontColor:n},rect:i,rotation:r,id:s,popupRef:o,richText:c,contentsObj:l,creationDate:h,modificationDate:d},textContent:u,textPosition:p,parent:{page:{pageNumber:f}}}=t;if(!u||0===u.length)return null;a=t={annotationType:Zu.FREETEXT,color:Array.from(n),fontSize:e,value:u.join("\n"),position:p,pageIndex:f-1,rect:i.slice(0),rotation:r,annotationElementId:s,id:s,deleted:!1,popupRef:o,comment:(null==l?void 0:l.str)||null,richText:c,creationDate:h,modificationDate:d}}const s=await super.deserialize(t,n,i);return nu(s,nc,t.fontSize),s.color=jp.makeHexColor(...t.color),nu(s,Jo,iu(r=e,cc,uc).call(r,t.value)),s._initialData=a,t.comment&&s.setCommentData(t),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Vf._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(e),{color:t,fontSize:eu(this,nc),value:iu(this,ic,dc).call(this)});return this.addComment(n),e?(n.isCopy=!0,n):this.annotationElementId&&!iu(this,ic,pc).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize=`calc(${eu(this,nc)}px * var(--total-scale-factor))`,n.color=this.color,t.replaceChildren();for(const i of eu(this,Jo).split("\n")){const e=document.createElement("div");e.append(i?document.createTextNode(i):document.createElement("br")),t.append(e)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:eu(this,Jo)}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Jo=new WeakMap,ec=new WeakMap,tc=new WeakMap,nc=new WeakMap,ic=new WeakSet,rc=function(e){const t=e=>{this.editorDiv.style.fontSize=`calc(${e}px * var(--total-scale-factor))`,this.translate(0,-(e-eu(this,nc))*this.parentScale),nu(this,nc,e),iu(this,ic,oc).call(this)},n=eu(this,nc);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qu.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},ac=function(e){const t=e=>{this.color=e,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qu.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},sc=function(){var e;const t=[];this.editorDiv.normalize();let n=null;for(const i of this.editorDiv.childNodes)(null==n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===i.nodeName||(t.push(iu(e=fy,cc,lc).call(e,i)),n=i);return t.join("\n")},oc=function(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,i=t.style.display,r=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=i,t.classList.toggle("hidden",r)}this.rotation%180==this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()},cc=new WeakSet,lc=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(py,"")},hc=function(){if(this.editorDiv.replaceChildren(),eu(this,Jo))for(const e of eu(this,Jo).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}},dc=function(){return eu(this,Jo).replaceAll(""," ")},uc=function(e){return e.replaceAll(" ","")},pc=function(e){const{value:t,fontSize:n,color:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((e,t)=>e!==i[t])||e.pageIndex!==r},tu(fy,cc),Qd(fy,"_freeTextDefaultContent",""),Qd(fy,"_internalPadding",0),Qd(fy,"_defaultColor",null),Qd(fy,"_defaultFontSize",10),Qd(fy,"_type","freetext"),Qd(fy,"_editorType",Zu.FREETEXT);let gy=fy;class my{toSVGPath(){Tp("Abstract method `toSVGPath` must be implemented.")}get box(){Tp("Abstract getter `box` must be implemented.")}serialize(e,t){Tp("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,r,a){a||(a=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)a[s]=t+e[s]*i,a[s+1]=n+e[s+1]*r;return a}static _rescaleAndSwap(e,t,n,i,r,a){a||(a=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)a[s]=t+e[s+1]*i,a[s+1]=n+e[s]*r;return a}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let r=0,a=e.length;r<a;r+=2)i[r]=t+e[r],i[r+1]=n+e[r+1];return i}static svgRound(e){return Math.round(1e4*e)}static _normalizePoint(e,t,n,i,r){switch(r){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,r,a){return[(e+5*n)/6,(t+5*i)/6,(5*n+r)/6,(5*i+a)/6,(n+r)/2,(i+a)/2]}}Qd(my,"PRECISION",1e-4);const by=class e{constructor({x:t,y:n},i,r,a,s,o=0){tu(this,Sc),tu(this,fc),tu(this,gc,[]),tu(this,mc),tu(this,bc),tu(this,yc,[]),tu(this,vc,new Float32Array(18)),tu(this,xc),tu(this,wc),tu(this,_c),tu(this,Dc),tu(this,Ac),tu(this,Tc),tu(this,Uc,[]),nu(this,fc,i),nu(this,Tc,a*r),nu(this,bc,s),eu(this,vc).set([NaN,NaN,NaN,NaN,t,n],6),nu(this,mc,o),nu(this,Dc,eu(e,Ec)*r),nu(this,_c,eu(e,Cc)*r),nu(this,Ac,r),eu(this,Uc).push(t,n)}isEmpty(){return isNaN(eu(this,vc)[8])}add({x:e,y:t}){var n;nu(this,xc,e),nu(this,wc,t);const[i,r,a,s]=eu(this,fc);let[o,c,l,h]=eu(this,vc).subarray(8,12);const d=e-l,u=t-h,p=Math.hypot(d,u);if(p<eu(this,_c))return!1;const f=p-eu(this,Dc),g=f/p,m=g*d,b=g*u;let y=o,v=c;o=l,c=h,l+=m,h+=b,null==(n=eu(this,Uc))||n.push(e,t);const x=m/f,w=-b/f*eu(this,Tc),_=x*eu(this,Tc);if(eu(this,vc).set(eu(this,vc).subarray(2,8),0),eu(this,vc).set([l+w,h+_],4),eu(this,vc).set(eu(this,vc).subarray(14,18),12),eu(this,vc).set([l-w,h-_],16),isNaN(eu(this,vc)[6]))return 0===eu(this,yc).length&&(eu(this,vc).set([o+w,c+_],2),eu(this,yc).push(NaN,NaN,NaN,NaN,(o+w-i)/a,(c+_-r)/s),eu(this,vc).set([o-w,c-_],14),eu(this,gc).push(NaN,NaN,NaN,NaN,(o-w-i)/a,(c-_-r)/s)),eu(this,vc).set([y,v,o,c,l,h],6),!this.isEmpty();eu(this,vc).set([y,v,o,c,l,h],6);return Math.abs(Math.atan2(v-c,y-o)-Math.atan2(b,m))<Math.PI/2?([o,c,l,h]=eu(this,vc).subarray(2,6),eu(this,yc).push(NaN,NaN,NaN,NaN,((o+l)/2-i)/a,((c+h)/2-r)/s),[o,c,y,v]=eu(this,vc).subarray(14,18),eu(this,gc).push(NaN,NaN,NaN,NaN,((y+o)/2-i)/a,((v+c)/2-r)/s),!0):([y,v,o,c,l,h]=eu(this,vc).subarray(0,6),eu(this,yc).push(((y+5*o)/6-i)/a,((v+5*c)/6-r)/s,((5*o+l)/6-i)/a,((5*c+h)/6-r)/s,((o+l)/2-i)/a,((c+h)/2-r)/s),[l,h,o,c,y,v]=eu(this,vc).subarray(12,18),eu(this,gc).push(((y+5*o)/6-i)/a,((v+5*c)/6-r)/s,((5*o+l)/6-i)/a,((5*c+h)/6-r)/s,((o+l)/2-i)/a,((c+h)/2-r)/s),!0)}toSVGPath(){if(this.isEmpty())return"";const e=eu(this,yc),t=eu(this,gc);if(isNaN(eu(this,vc)[6])&&!this.isEmpty())return iu(this,Sc,Mc).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);iu(this,Sc,Ic).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return iu(this,Sc,Wc).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,r,a){return new vy(e,t,n,i,r,a)}getOutlines(){var e;const t=eu(this,yc),n=eu(this,gc),i=eu(this,vc),[r,a,s,o]=eu(this,fc),c=new Float32Array(((null==(e=eu(this,Uc))?void 0:e.length)??0)+2);for(let d=0,u=c.length-2;d<u;d+=2)c[d]=(eu(this,Uc)[d]-r)/s,c[d+1]=(eu(this,Uc)[d+1]-a)/o;if(c[c.length-2]=(eu(this,xc)-r)/s,c[c.length-1]=(eu(this,wc)-a)/o,isNaN(i[6])&&!this.isEmpty())return iu(this,Sc,Pc).call(this,c);const l=new Float32Array(eu(this,yc).length+24+eu(this,gc).length);let h=t.length;for(let d=0;d<h;d+=2)isNaN(t[d])?l[d]=l[d+1]=NaN:(l[d]=t[d],l[d+1]=t[d+1]);h=iu(this,Sc,Bc).call(this,l,h);for(let d=n.length-6;d>=6;d-=6)for(let e=0;e<6;e+=2)isNaN(n[d+e])?(l[h]=l[h+1]=NaN,h+=2):(l[h]=n[d+e],l[h+1]=n[d+e+1],h+=2);return iu(this,Sc,Rc).call(this,l,h),this.newFreeDrawOutline(l,c,eu(this,fc),eu(this,Ac),eu(this,mc),eu(this,bc))}};fc=new WeakMap,gc=new WeakMap,mc=new WeakMap,bc=new WeakMap,yc=new WeakMap,vc=new WeakMap,xc=new WeakMap,wc=new WeakMap,_c=new WeakMap,Dc=new WeakMap,Ac=new WeakMap,Tc=new WeakMap,Uc=new WeakMap,Ec=new WeakMap,kc=new WeakMap,Cc=new WeakMap,Sc=new WeakSet,Fc=function(){const e=eu(this,vc).subarray(4,6),t=eu(this,vc).subarray(16,18),[n,i,r,a]=eu(this,fc);return[(eu(this,xc)+(e[0]-t[0])/2-n)/r,(eu(this,wc)+(e[1]-t[1])/2-i)/a,(eu(this,xc)+(t[0]-e[0])/2-n)/r,(eu(this,wc)+(t[1]-e[1])/2-i)/a]},Mc=function(){const[e,t,n,i]=eu(this,fc),[r,a,s,o]=iu(this,Sc,Fc).call(this);return`M${(eu(this,vc)[2]-e)/n} ${(eu(this,vc)[3]-t)/i} L${(eu(this,vc)[4]-e)/n} ${(eu(this,vc)[5]-t)/i} L${r} ${a} L${s} ${o} L${(eu(this,vc)[16]-e)/n} ${(eu(this,vc)[17]-t)/i} L${(eu(this,vc)[14]-e)/n} ${(eu(this,vc)[15]-t)/i} Z`},Wc=function(e){const t=eu(this,gc);e.push(`L${t[4]} ${t[5]} Z`)},Ic=function(e){const[t,n,i,r]=eu(this,fc),a=eu(this,vc).subarray(4,6),s=eu(this,vc).subarray(16,18),[o,c,l,h]=iu(this,Sc,Fc).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-n)/r} L${o} ${c} L${l} ${h} L${(s[0]-t)/i} ${(s[1]-n)/r}`)},Pc=function(e){const t=eu(this,vc),[n,i,r,a]=eu(this,fc),[s,o,c,l]=iu(this,Sc,Fc).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(t[2]-n)/r,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-n)/r,(t[5]-i)/a,NaN,NaN,NaN,NaN,s,o,NaN,NaN,NaN,NaN,c,l,NaN,NaN,NaN,NaN,(t[16]-n)/r,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-n)/r,(t[15]-i)/a],0),this.newFreeDrawOutline(h,e,eu(this,fc),eu(this,Ac),eu(this,mc),eu(this,bc))},Rc=function(e,t){const n=eu(this,gc);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6},Bc=function(e,t){const n=eu(this,vc).subarray(4,6),i=eu(this,vc).subarray(16,18),[r,a,s,o]=eu(this,fc),[c,l,h,d]=iu(this,Sc,Fc).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-r)/s,(n[1]-a)/o,NaN,NaN,NaN,NaN,c,l,NaN,NaN,NaN,NaN,h,d,NaN,NaN,NaN,NaN,(i[0]-r)/s,(i[1]-a)/o],t),t+24},tu(by,Ec,8),tu(by,kc,2),tu(by,Cc,eu(by,Ec)+eu(by,kc));let yy=by;class vy extends my{constructor(e,t,n,i,r,a){super(),tu(this,Vc),tu(this,Nc),tu(this,Oc,new Float32Array(4)),tu(this,Lc),tu(this,jc),tu(this,zc),tu(this,Hc),tu(this,qc),nu(this,qc,e),nu(this,zc,t),nu(this,Nc,n),nu(this,Hc,i),nu(this,Lc,r),nu(this,jc,a),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],iu(this,Vc,$c).call(this,a);const[s,o,c,l]=eu(this,Oc);for(let h=0,d=e.length;h<d;h+=2)e[h]=(e[h]-s)/c,e[h+1]=(e[h+1]-o)/l;for(let h=0,d=t.length;h<d;h+=2)t[h]=(t[h]-s)/c,t[h+1]=(t[h+1]-o)/l}toSVGPath(){const e=[`M${eu(this,qc)[4]} ${eu(this,qc)[5]}`];for(let t=6,n=eu(this,qc).length;t<n;t+=6)isNaN(eu(this,qc)[t])?e.push(`L${eu(this,qc)[t+4]} ${eu(this,qc)[t+5]}`):e.push(`C${eu(this,qc)[t]} ${eu(this,qc)[t+1]} ${eu(this,qc)[t+2]} ${eu(this,qc)[t+3]} ${eu(this,qc)[t+4]} ${eu(this,qc)[t+5]}`);return e.push("Z"),e.join(" ")}serialize([e,t,n,i],r){const a=n-e,s=i-t;let o,c;switch(r){case 0:o=my._rescale(eu(this,qc),e,i,a,-s),c=my._rescale(eu(this,zc),e,i,a,-s);break;case 90:o=my._rescaleAndSwap(eu(this,qc),e,t,a,s),c=my._rescaleAndSwap(eu(this,zc),e,t,a,s);break;case 180:o=my._rescale(eu(this,qc),n,t,-a,s),c=my._rescale(eu(this,zc),n,t,-a,s);break;case 270:o=my._rescaleAndSwap(eu(this,qc),n,i,-a,-s),c=my._rescaleAndSwap(eu(this,zc),n,i,-a,-s)}return{outline:Array.from(o),points:[Array.from(c)]}}get box(){return eu(this,Oc)}newOutliner(e,t,n,i,r,a=0){return new yy(e,t,n,i,r,a)}getNewOutline(e,t){const[n,i,r,a]=eu(this,Oc),[s,o,c,l]=eu(this,Nc),h=r*c,d=a*l,u=n*c+s,p=i*l+o,f=this.newOutliner({x:eu(this,zc)[0]*h+u,y:eu(this,zc)[1]*d+p},eu(this,Nc),eu(this,Hc),e,eu(this,jc),t??eu(this,Lc));for(let g=2;g<eu(this,zc).length;g+=2)f.add({x:eu(this,zc)[g]*h+u,y:eu(this,zc)[g+1]*d+p});return f.getOutlines()}}Nc=new WeakMap,Oc=new WeakMap,Lc=new WeakMap,jc=new WeakMap,zc=new WeakMap,Hc=new WeakMap,qc=new WeakMap,Vc=new WeakSet,$c=function(e){const t=eu(this,qc);let n=t[4],i=t[5];const r=[n,i,n,i];let a=n,s=i,o=n,c=i;const l=e?Math.max:Math.min,h=new Float32Array(4);for(let u=6,p=t.length;u<p;u+=6){const e=t[u+4],d=t[u+5];isNaN(t[u])?(jp.pointBoundingBox(e,d,r),s>d?(a=e,s=d):s===d&&(a=l(a,e)),c<d?(o=e,c=d):c===d&&(o=l(o,e))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,jp.bezierBoundingBox(n,i,...t.slice(u,u+6),h),jp.rectBoundingBox(h[0],h[1],h[2],h[3],r),s>h[1]?(a=h[0],s=h[1]):s===h[1]&&(a=l(a,h[0])),c<h[3]?(o=h[2],c=h[3]):c===h[3]&&(o=l(o,h[2]))),n=e,i=d}const d=eu(this,Oc);d[0]=r[0]-eu(this,Lc),d[1]=r[1]-eu(this,Lc),d[2]=r[2]-r[0]+2*eu(this,Lc),d[3]=r[3]-r[1]+2*eu(this,Lc),this.firstPoint=[a,s],this.lastPoint=[o,c]};class xy{constructor(e,t=0,n=0,i=!0){tu(this,Qc),tu(this,Gc),tu(this,Xc),tu(this,Yc),tu(this,Kc,[]),tu(this,Zc,[]);const r=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:f,y:g,width:m,height:b}of e){const e=Math.floor((f-t)/a)*a,n=Math.ceil((f+m+t)/a)*a,i=Math.floor((g-t)/a)*a,s=Math.ceil((g+b+t)/a)*a,o=[e,i,s,!0],c=[n,i,s,!1];eu(this,Kc).push(o,c),jp.rectBoundingBox(e,i,n,s,r)}const s=r[2]-r[0]+2*n,o=r[3]-r[1]+2*n,c=r[0]-n,l=r[1]-n;let h=i?-1/0:1/0,d=1/0;const u=eu(this,Kc).at(i?-1:-2),p=[u[0],u[2]];for(const f of eu(this,Kc)){const[e,t,n,r]=f;!r&&i?t<d?(d=t,h=e):t===d&&(h=Math.max(h,e)):r&&!i&&(t<d?(d=t,h=e):t===d&&(h=Math.min(h,e))),f[0]=(e-c)/s,f[1]=(t-l)/o,f[2]=(n-l)/o}nu(this,Gc,new Float32Array([c,l,s,o])),nu(this,Xc,[h,d]),nu(this,Yc,p)}getOutlines(){eu(this,Kc).sort((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]);const e=[];for(const t of eu(this,Kc))t[3]?(e.push(...iu(this,Qc,il).call(this,t)),iu(this,Qc,tl).call(this,t)):(iu(this,Qc,nl).call(this,t),e.push(...iu(this,Qc,il).call(this,t)));return iu(this,Qc,Jc).call(this,e)}}Gc=new WeakMap,Xc=new WeakMap,Yc=new WeakMap,Kc=new WeakMap,Zc=new WeakMap,Qc=new WeakSet,Jc=function(e){const t=[],n=new Set;for(const a of e){const[e,n,i]=a;t.push([e,n,a],[e,i,a])}t.sort((e,t)=>e[1]-t[1]||e[0]-t[0]);for(let a=0,s=t.length;a<s;a+=2){const e=t[a][2],i=t[a+1][2];e.push(i),i.push(e),n.add(e),n.add(i)}const i=[];let r;for(;n.size>0;){const e=n.values().next().value;let[t,a,s,o,c]=e;n.delete(e);let l=t,h=a;for(r=[t,s],i.push(r);;){let e;if(n.has(o))e=o;else{if(!n.has(c))break;e=c}n.delete(e),[t,a,s,o,c]=e,l!==t&&(r.push(l,h,t,h===a?a:s),l=t),h=h===a?s:a}r.push(l,h)}return new wy(i,eu(this,Gc),eu(this,Xc),eu(this,Yc))},el=function(e){const t=eu(this,Zc);let n=0,i=t.length-1;for(;n<=i;){const r=n+i>>1,a=t[r][0];if(a===e)return r;a<e?n=r+1:i=r-1}return i+1},tl=function([,e,t]){const n=iu(this,Qc,el).call(this,e);eu(this,Zc).splice(n,0,[e,t])},nl=function([,e,t]){const n=iu(this,Qc,el).call(this,e);for(let i=n;i<eu(this,Zc).length;i++){const[n,r]=eu(this,Zc)[i];if(n!==e)break;if(n===e&&r===t)return void eu(this,Zc).splice(i,1)}for(let i=n-1;i>=0;i--){const[n,r]=eu(this,Zc)[i];if(n!==e)break;if(n===e&&r===t)return void eu(this,Zc).splice(i,1)}},il=function(e){const[t,n,i]=e,r=[[t,n,i]],a=iu(this,Qc,el).call(this,i);for(let s=0;s<a;s++){const[e,n]=eu(this,Zc)[s];for(let i=0,a=r.length;i<a;i++){const[,s,o]=r[i];if(!(n<=s||o<=e))if(s>=e)if(o>n)r[i][1]=n;else{if(1===a)return[];r.splice(i,1),i--,a--}else r[i][2]=e,o>n&&r.push([t,n,o])}}return r};class wy extends my{constructor(e,t,n,i){super(),tu(this,rl),tu(this,al),nu(this,al,e),nu(this,rl,t),this.firstPoint=n,this.lastPoint=i}toSVGPath(){const e=[];for(const t of eu(this,al)){let[n,i]=t;e.push(`M${n} ${i}`);for(let r=2;r<t.length;r+=2){const a=t[r],s=t[r+1];a===n?(e.push(`V${s}`),i=s):s===i&&(e.push(`H${a}`),n=a)}e.push("Z")}return e.join(" ")}serialize([e,t,n,i],r){const a=[],s=n-e,o=i-t;for(const c of eu(this,al)){const t=new Array(c.length);for(let n=0;n<c.length;n+=2)t[n]=e+c[n]*s,t[n+1]=i-c[n+1]*o;a.push(t)}return a}get box(){return eu(this,rl)}get classNamesForOutlining(){return["highlightOutline"]}}rl=new WeakMap,al=new WeakMap;class _y extends yy{newFreeDrawOutline(e,t,n,i,r,a){return new Dy(e,t,n,i,r,a)}}class Dy extends vy{newOutliner(e,t,n,i,r,a=0){return new _y(e,t,n,i,r,a)}}const Ay=class e extends Vf{constructor(t){super({...t,name:"highlightEditor"}),tu(this,Al),tu(this,sl,null),tu(this,ol,0),tu(this,cl),tu(this,ll,null),tu(this,hl,null),tu(this,dl,null),tu(this,ul,null),tu(this,pl,0),tu(this,fl,null),tu(this,gl,null),tu(this,ml,null),tu(this,bl,!1),tu(this,yl,null),tu(this,vl,null),tu(this,xl,null),tu(this,wl,""),tu(this,_l),tu(this,Dl,""),this.color=t.color||e._defaultColor,nu(this,_l,t.thickness||e._defaultThickness),this.opacity=t.opacity||e._defaultOpacity,nu(this,cl,t.boxes||null),nu(this,Dl,t.methodOfCreation||""),nu(this,wl,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(nu(this,bl,!0),iu(this,Al,Ul).call(this,t),iu(this,Al,Fl).call(this)):eu(this,cl)&&(nu(this,sl,t.anchorNode),nu(this,ol,t.anchorOffset),nu(this,ul,t.focusNode),nu(this,pl,t.focusOffset),iu(this,Al,Tl).call(this),iu(this,Al,Fl).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=e.prototype;return Cp(this,"_keyboardManager",new If([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:eu(this,bl)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:eu(this,_l),methodOfCreation:eu(this,Dl)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(t,n){var i;Vf.initialize(t,n),e._defaultColor||(e._defaultColor=(null==(i=n.highlightColors)?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Qu.HIGHLIGHT_COLOR:e._defaultColor=n;break;case Qu.HIGHLIGHT_THICKNESS:e._defaultThickness=n}}translateInPage(e,t){}get toolbarPosition(){return eu(this,vl)}get commentButtonPosition(){return eu(this,yl)}updateParams(e,t){switch(e){case Qu.HIGHLIGHT_COLOR:iu(this,Al,El).call(this,t);break;case Qu.HIGHLIGHT_THICKNESS:iu(this,Al,kl).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Qu.HIGHLIGHT_COLOR,e._defaultColor],[Qu.HIGHLIGHT_THICKNESS,e._defaultThickness]]}get propertiesToUpdate(){return[[Qu.HIGHLIGHT_COLOR,this.color||e._defaultColor],[Qu.HIGHLIGHT_THICKNESS,eu(this,_l)||e._defaultThickness],[Qu.HIGHLIGHT_FREE,eu(this,bl)]]}onUpdatedColor(){var e,t;null==(e=this.parent)||e.drawLayer.updateProperties(eu(this,ml),{root:{fill:this.color,"fill-opacity":this.opacity}}),null==(t=eu(this,hl))||t.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",nu(this,hl,new kb({editor:this}))]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(iu(this,Al,Rl).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,iu(this,Al,Rl).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){iu(this,Al,Sl).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(iu(this,Al,Fl).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var t;let n=!1;this.parent&&!e?iu(this,Al,Sl).call(this):e&&(iu(this,Al,Fl).call(this,e),n=!this.parent&&(null==(t=this.div)?void 0:t.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(t){var n,i,r;const{drawLayer:a}=this.parent;let s;eu(this,bl)?(t=(t-this.rotation+360)%360,s=iu(n=e,Ml,Wl).call(n,eu(this,gl).box,t)):s=iu(i=e,Ml,Wl).call(i,[this.x,this.y,this.width,this.height],t),a.updateProperties(eu(this,ml),{bbox:s,root:{"data-main-rotation":t}}),a.updateProperties(eu(this,xl),{bbox:iu(r=e,Ml,Wl).call(r,eu(this,dl).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const e=super.render();eu(this,wl)&&(e.setAttribute("aria-label",eu(this,wl)),e.setAttribute("role","mark")),eu(this,bl)?e.classList.add("free"):this.div.addEventListener("keydown",iu(this,Al,Il).bind(this),{signal:this._uiManager._signal});const t=nu(this,fl,document.createElement("div"));return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=eu(this,ll),this.setDims(),Ef(this,eu(this,fl),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||null==(e=this.parent)||e.drawLayer.updateProperties(eu(this,xl),{rootClass:{hovered:!0}})}pointerleave(){var e;this.isSelected||null==(e=this.parent)||e.drawLayer.updateProperties(eu(this,xl),{rootClass:{hovered:!1}})}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:iu(this,Al,Pl).call(this,!0);break;case 1:case 3:iu(this,Al,Pl).call(this,!1)}}select(){var e;super.select(),eu(this,xl)&&(null==(e=this.parent)||e.drawLayer.updateProperties(eu(this,xl),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),eu(this,xl)&&(null==(e=this.parent)||e.drawLayer.updateProperties(eu(this,xl),{rootClass:{selected:!1}}),eu(this,bl)||iu(this,Al,Pl).call(this,!1))}get _mustFixPosition(){return!eu(this,bl)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(eu(this,ml),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(eu(this,xl),{rootClass:{hidden:!e}}))}static startHighlighting(e,t,{target:n,x:i,y:r}){const{x:a,y:s,width:o,height:c}=n.getBoundingClientRect(),l=new AbortController,h=e.combinedSignal(l),d=t=>{l.abort(),iu(this,Ml,Ll).call(this,e,t)};window.addEventListener("blur",d,{signal:h}),window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("pointerdown",cf,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",of,{signal:h}),n.addEventListener("pointermove",iu(this,Ml,Ol).bind(this,e),{signal:h}),this._freeHighlight=new _y({x:i,y:r},[a,s,o,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static async deserialize(e,t,n){var i,r,a,s;let o=null;if(e instanceof sy){const{data:{quadPoints:t,rect:n,rotation:i,id:r,color:a,opacity:s,popupRef:c,richText:l,contentsObj:h,creationDate:d,modificationDate:u},parent:{page:{pageNumber:p}}}=e;o=e={annotationType:Zu.HIGHLIGHT,color:Array.from(a),opacity:s,quadPoints:t,boxes:null,pageIndex:p-1,rect:n.slice(0),rotation:i,annotationElementId:r,id:r,deleted:!1,popupRef:c,richText:l,comment:(null==h?void 0:h.str)||null,creationDate:d,modificationDate:u}}else if(e instanceof ay){const{data:{inkLists:t,rect:n,rotation:i,id:r,color:a,borderStyle:{rawWidth:s},popupRef:c,richText:l,contentsObj:h,creationDate:d,modificationDate:u},parent:{page:{pageNumber:p}}}=e;o=e={annotationType:Zu.HIGHLIGHT,color:Array.from(a),thickness:s,inkLists:t,boxes:null,pageIndex:p-1,rect:n.slice(0),rotation:i,annotationElementId:r,id:r,deleted:!1,popupRef:c,richText:l,comment:(null==h?void 0:h.str)||null,creationDate:d,modificationDate:u}}const{color:c,quadPoints:l,inkLists:h,opacity:d}=e,u=await super.deserialize(e,t,n);u.color=jp.makeHexColor(...c),u.opacity=d||1,h&&nu(u,_l,e.thickness),u._initialData=o,e.comment&&u.setCommentData(e);const[p,f]=u.pageDimensions,[g,m]=u.pageTranslation;if(l){const e=nu(u,cl,[]);for(let t=0;t<l.length;t+=8)e.push({x:(l[t]-g)/p,y:1-(l[t+1]-m)/f,width:(l[t+2]-l[t])/p,height:(l[t+1]-l[t+5])/f});iu(i=u,Al,Tl).call(i),iu(r=u,Al,Fl).call(r),u.rotate(u.rotation)}else if(h){nu(u,bl,!0);const e=h[0],n={x:e[0]-g,y:f-(e[1]-m)},i=new _y(n,[0,0,p,f],1,eu(u,_l)/2,!0,.001);for(let t=0,a=e.length;t<a;t+=2)n.x=e[t]-g,n.y=f-(e[t+1]-m),i.add(n);const{id:r,clipPathId:o}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:i.toSVGPath()}},!0,!0);iu(a=u,Al,Ul).call(a,{highlightOutlines:i.getOutlines(),highlightId:r,clipPathId:o}),iu(s=u,Al,Fl).call(s),u.rotate(u.parentRotation)}return u}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=Vf._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(e);return Object.assign(n,{color:t,opacity:this.opacity,thickness:eu(this,_l),quadPoints:iu(this,Al,Bl).call(this),outlines:iu(this,Al,Nl).call(this,n.rect)}),this.addComment(n),this.annotationElementId&&!iu(this,Al,jl).call(this,n)?null:(n.id=this.annotationElementId,n)}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};sl=new WeakMap,ol=new WeakMap,cl=new WeakMap,ll=new WeakMap,hl=new WeakMap,dl=new WeakMap,ul=new WeakMap,pl=new WeakMap,fl=new WeakMap,gl=new WeakMap,ml=new WeakMap,bl=new WeakMap,yl=new WeakMap,vl=new WeakMap,xl=new WeakMap,wl=new WeakMap,_l=new WeakMap,Dl=new WeakMap,Al=new WeakSet,Tl=function(){const e=new xy(eu(this,cl),.001);nu(this,gl,e.getOutlines()),[this.x,this.y,this.width,this.height]=eu(this,gl).box;const t=new xy(eu(this,cl),.0025,.001,"ltr"===this._uiManager.direction);nu(this,dl,t.getOutlines());const{firstPoint:n}=eu(this,gl);nu(this,yl,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height]);const{lastPoint:i}=eu(this,dl);nu(this,vl,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},Ul=function({highlightOutlines:e,highlightId:t,clipPathId:n}){var i,r;nu(this,gl,e);if(nu(this,dl,e.getNewOutline(eu(this,_l)/2+1.5,.0025)),t>=0)nu(this,ml,t),nu(this,ll,n),this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),nu(this,xl,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:eu(this,dl).box,path:{d:eu(this,dl).toSVGPath()}},!0));else if(this.parent){const t=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(eu(this,ml),{bbox:iu(i=Ay,Ml,Wl).call(i,eu(this,gl).box,(t-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(eu(this,xl),{bbox:iu(r=Ay,Ml,Wl).call(r,eu(this,dl).box,t),path:{d:eu(this,dl).toSVGPath()}})}const[a,s,o,c]=e.box;switch(this.rotation){case 0:this.x=a,this.y=s,this.width=o,this.height=c;break;case 90:{const[e,t]=this.parentDimensions;this.x=s,this.y=1-a,this.width=o*t/e,this.height=c*e/t;break}case 180:this.x=1-a,this.y=1-s,this.width=o,this.height=c;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-s,this.y=a,this.width=o*t/e,this.height=c*e/t;break}}const{firstPoint:l}=e;nu(this,yl,[(l[0]-a)/o,(l[1]-s)/c]);const{lastPoint:h}=eu(this,dl);nu(this,vl,[(h[0]-a)/o,(h[1]-s)/c])},El=function(e){const t=(e,t)=>{this.color=e,this.opacity=t,this.onUpdatedColor()},n=this.color,i=this.opacity;this.addCommands({cmd:t.bind(this,e,Ay._defaultOpacity),undo:t.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qu.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)},kl=function(e){const t=eu(this,_l),n=e=>{nu(this,_l,e),iu(this,Al,Cl).call(this,e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Qu.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},Cl=function(e){eu(this,bl)&&(iu(this,Al,Ul).call(this,{highlightOutlines:eu(this,gl).getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())},Sl=function(){null!==eu(this,ml)&&this.parent&&(this.parent.drawLayer.remove(eu(this,ml)),nu(this,ml,null),this.parent.drawLayer.remove(eu(this,xl)),nu(this,xl,null))},Fl=function(e=this.parent){null===eu(this,ml)&&(({id:ru(this,ml)._,clipPathId:ru(this,ll)._}=e.drawLayer.draw({bbox:eu(this,gl).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:eu(this,bl)},path:{d:eu(this,gl).toSVGPath()}},!1,!0)),nu(this,xl,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:eu(this,bl)},bbox:eu(this,dl).box,path:{d:eu(this,dl).toSVGPath()}},eu(this,bl))),eu(this,fl)&&(eu(this,fl).style.clipPath=eu(this,ll)))},Ml=new WeakSet,Wl=function([e,t,n,i],r){switch(r){case 90:return[1-t-i,e,i,n];case 180:return[1-e-n,1-t-i,n,i];case 270:return[t,1-e-n,i,n]}return[e,t,n,i]},Il=function(e){Ay._keyboardManager.exec(this,e)},Pl=function(e){if(!eu(this,sl))return;const t=window.getSelection();e?t.setPosition(eu(this,sl),eu(this,ol)):t.setPosition(eu(this,ul),eu(this,pl))},Rl=function(){return eu(this,bl)?this.rotation:0},Bl=function(){if(eu(this,bl))return null;const[e,t]=this.pageDimensions,[n,i]=this.pageTranslation,r=eu(this,cl),a=new Float32Array(8*r.length);let s=0;for(const{x:o,y:c,width:l,height:h}of r){const r=o*e+n,d=(1-c)*t+i;a[s]=a[s+4]=r,a[s+1]=a[s+3]=d,a[s+2]=a[s+6]=r+l*e,a[s+5]=a[s+7]=d-h*t,s+=8}return a},Nl=function(e){return eu(this,gl).serialize(e,iu(this,Al,Rl).call(this))},Ol=function(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},Ll=function(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},jl=function(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((e,n)=>e!==t[n])},tu(Ay,Ml),Qd(Ay,"_defaultColor",null),Qd(Ay,"_defaultOpacity",1),Qd(Ay,"_defaultThickness",12),Qd(Ay,"_type","highlight"),Qd(Ay,"_editorType",Zu.HIGHLIGHT),Qd(Ay,"_freeHighlightId",-1),Qd(Ay,"_freeHighlight",null),Qd(Ay,"_freeHighlightClipId","");let Ty=Ay;class Uy{constructor(){tu(this,zl,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){eu(this,zl)[e]=t}toSVGProperties(){const e=eu(this,zl);return nu(this,zl,Object.create(null)),{root:e}}reset(){nu(this,zl,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Tp("Not implemented")}}zl=new WeakMap;const Ey=class e extends Vf{constructor(e){super(e),tu(this,Xl),tu(this,Hl,null),tu(this,ql),Qd(this,"_colorPicker",null),Qd(this,"_drawId",null),nu(this,ql,e.mustBeCommitted||!1),this._addOutlines(e)}onUpdatedColor(){var e;null==(e=this._colorPicker)||e.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(iu(this,Xl,Yl).call(this,e),iu(this,Xl,Ql).call(this))}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[i,r]of Object.entries(t))n.has(i)?Object.assign(e[i],r):e[i]=r;return e}static getDefaultDrawingOptions(e){Tp("Not implemented")}static get typesMap(){Tp("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(eu(e,Vl).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)e.push([n,t[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,i]of this.constructor.typesMap)e.push([n,t[i]]);return e}_updateProperty(e,t,n){const i=this._drawingOptions,r=i[t],a=n=>{var r;i.updateProperty(t,n);const a=eu(this,Hl).updateProperty(t,n);a&&iu(this,Xl,th).call(this,a),null==(r=this.parent)||r.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,n),undo:a.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;null==(t=this.parent)||t.drawLayer.updateProperties(this._drawId,e._mergeSVGProperties(eu(this,Hl).getPathResizingSVGProperties(iu(this,Xl,eh).call(this)),{bbox:iu(this,Xl,nh).call(this)}))}_onResized(){var t;null==(t=this.parent)||t.drawLayer.updateProperties(this._drawId,e._mergeSVGProperties(eu(this,Hl).getPathResizedSVGProperties(iu(this,Xl,eh).call(this)),{bbox:iu(this,Xl,nh).call(this)}))}_onTranslating(e,t){var n;null==(n=this.parent)||n.drawLayer.updateProperties(this._drawId,{bbox:iu(this,Xl,nh).call(this)})}_onTranslated(){var t;null==(t=this.parent)||t.drawLayer.updateProperties(this._drawId,e._mergeSVGProperties(eu(this,Hl).getPathTranslatedSVGProperties(iu(this,Xl,eh).call(this),this.parentDimensions),{bbox:iu(this,Xl,nh).call(this)}))}_onStartDragging(){var e;null==(e=this.parent)||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;null==(e=this.parent)||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,eu(this,ql)&&(nu(this,ql,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){iu(this,Xl,Zl).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(iu(this,Xl,Ql).call(this),iu(this,Xl,th).call(this,eu(this,Hl).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var t;let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),iu(this,Xl,Zl).call(this)):e&&(this._uiManager.addShouldRescale(this),iu(this,Xl,Ql).call(this,e),n=!this.parent&&(null==(t=this.div)?void 0:t.classList.contains("selectedEditor"))),super.setParent(e),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,e._mergeSVGProperties({bbox:iu(this,Xl,nh).call(this)},eu(this,Hl).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&iu(this,Xl,th).call(this,eu(this,Hl).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");return n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,i,r){Tp("Not implemented")}static startDrawing(t,n,i,r){var a;const{target:s,offsetX:o,offsetY:c,pointerId:l,pointerType:h}=r;if(Cf.isInitializedAndDifferentPointerType(h))return;const{viewport:{rotation:d}}=t,{width:u,height:p}=s.getBoundingClientRect(),f=nu(e,$l,new AbortController),g=t.combinedSignal(f);Cf.setPointer(h,l),window.addEventListener("pointerup",e=>{Cf.isSamePointerIdOrRemove(e.pointerId)&&this._endDraw(e)},{signal:g}),window.addEventListener("pointercancel",e=>{Cf.isSamePointerIdOrRemove(e.pointerId)&&this._currentParent.endDrawingSession()},{signal:g}),window.addEventListener("pointerdown",t=>{Cf.isSamePointerType(t.pointerType)&&(Cf.initializeAndAddPointerId(t.pointerId),eu(e,Vl).isCancellable()&&(eu(e,Vl).removeLastElement(),eu(e,Vl).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",of,{signal:g}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),s.addEventListener("touchmove",e=>{Cf.isSameTimeStamp(e.timeStamp)&&cf(e)},{signal:g}),t.toggleDrawing(),null==(a=n._editorUndoBar)||a.hide(),eu(e,Vl)?t.drawLayer.updateProperties(this._currentDrawId,eu(e,Vl).startNew(o,c,u,p,d)):(n.updateUIForDefaultProperties(this),nu(e,Vl,this.createDrawerInstance(o,c,u,p,d)),nu(e,Gl,this.getDefaultDrawingOptions()),this._currentParent=t,({id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(eu(e,Gl).toSVGProperties(),eu(e,Vl).defaultSVGProperties),!0,!1)))}static _drawMove(t){if(Cf.isSameTimeStamp(t.timeStamp),!eu(e,Vl))return;const{offsetX:n,offsetY:i,pointerId:r}=t;Cf.isSamePointerId(r)&&(Cf.isUsingMultiplePointers()?this._endDraw(t):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,eu(e,Vl).add(n,i)),Cf.setTimeStamp(t.timeStamp),cf(t)))}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,nu(e,Vl,null),nu(e,Gl,null),Cf.clearTimeStamp()),eu(e,$l)&&(eu(e,$l).abort(),nu(e,$l,null),Cf.clearPointerIds())}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),(null==t?void 0:t.target)===n.div&&n.drawLayer.updateProperties(this._currentDrawId,eu(e,Vl).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const t=eu(e,Vl),i=this._currentDrawId,r=t.getLastElement();return void n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,t.setLastElement(r))},undo:()=>{n.drawLayer.updateProperties(i,t.removeLastElement())},mustExec:!1,type:Qu.DRAW_STEP})}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Qu.DRAW_STEP),!eu(e,Vl).isEmpty()){const{pageDimensions:[i,r],scale:a}=n,s=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:eu(e,Vl).getOutlines(i*a,r*a,a,this._INNER_MARGIN),drawingOptions:eu(e,Gl),mustBeCommitted:!t});return this._cleanup(!0),s}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,i,r,a){Tp("Not implemented")}static async deserialize(e,t,n){var i,r;const{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:c}}=t.viewport,l=this.deserializeDraw(o,c,a,s,this._INNER_MARGIN,e),h=await super.deserialize(e,t,n);return h.createDrawingOptions(e),iu(i=h,Xl,Yl).call(i,{drawOutlines:l}),iu(r=h,Xl,Ql).call(r),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[t,n]=this.pageTranslation,[i,r]=this.pageDimensions;return eu(this,Hl).serialize([t,n,i,r],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Hl=new WeakMap,ql=new WeakMap,Vl=new WeakMap,$l=new WeakMap,Gl=new WeakMap,Xl=new WeakSet,Yl=function({drawOutlines:e,drawId:t,drawingOptions:n}){nu(this,Hl,e),this._drawingOptions||(this._drawingOptions=n),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=iu(this,Xl,Kl).call(this,e,this.parent),iu(this,Xl,th).call(this,e.box)},Kl=function(e,t){const{id:n}=t.drawLayer.draw(Ey._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n},Zl=function(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Ql=function(e=this.parent){null!==this._drawId&&this.parent===e||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=iu(this,Xl,Kl).call(this,eu(this,Hl),e)):this.parent.drawLayer.updateParent(this._drawId,e.drawLayer))},Jl=function([e,t,n,i]){const{parentDimensions:[r,a],rotation:s}=this;switch(s){case 90:return[t,1-e,n*(a/r),i*(r/a)];case 180:return[1-e,1-t,n,i];case 270:return[1-t,e,n*(a/r),i*(r/a)];default:return[e,t,n,i]}},eh=function(){const{x:e,y:t,width:n,height:i,parentDimensions:[r,a],rotation:s}=this;switch(s){case 90:return[1-t,e,n*(r/a),i*(a/r)];case 180:return[1-e,1-t,n,i];case 270:return[t,1-e,n*(r/a),i*(a/r)];default:return[e,t,n,i]}},th=function(e){[this.x,this.y,this.width,this.height]=iu(this,Xl,Jl).call(this,e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},nh=function(){const{x:e,y:t,width:n,height:i,rotation:r,parentRotation:a,parentDimensions:[s,o]}=this;switch((4*r+a)/90){case 1:return[1-t-i,e,i,n];case 2:return[1-e-n,1-t-i,n,i];case 3:return[t,1-e-n,i,n];case 4:return[e,t-n*(s/o),i*(o/s),n*(s/o)];case 5:return[1-t,e,n*(s/o),i*(o/s)];case 6:return[1-e-i*(o/s),1-t,i*(o/s),n*(s/o)];case 7:return[t-n*(s/o),1-e-i*(o/s),n*(s/o),i*(o/s)];case 8:return[e-n,t-i,n,i];case 9:return[1-t,e-n,i,n];case 10:return[1-e,1-t,n,i];case 11:return[t-i,1-e,i,n];case 12:return[e-i*(o/s),t,i*(o/s),n*(s/o)];case 13:return[1-t-n*(s/o),e-i*(o/s),n*(s/o),i*(o/s)];case 14:return[1-e,1-t-n*(s/o),i*(o/s),n*(s/o)];case 15:return[t,1-e,n*(s/o),i*(o/s)];default:return[e,t,n,i]}},Qd(Ey,"_currentDrawId",-1),Qd(Ey,"_currentParent",null),tu(Ey,Vl,null),tu(Ey,$l,null),tu(Ey,Gl,null),Qd(Ey,"_INNER_MARGIN",3);let ky=Ey;class Cy{constructor(e,t,n,i,r,a){tu(this,fh),tu(this,ih,new Float64Array(6)),tu(this,rh),tu(this,ah),tu(this,sh),tu(this,oh),tu(this,ch),tu(this,lh,""),tu(this,hh,0),tu(this,dh,new Sy),tu(this,uh),tu(this,ph),nu(this,uh,n),nu(this,ph,i),nu(this,sh,r),nu(this,oh,a),[e,t]=iu(this,fh,gh).call(this,e,t);const s=nu(this,rh,[NaN,NaN,NaN,NaN,e,t]);nu(this,ch,[e,t]),nu(this,ah,[{line:s,points:eu(this,ch)}]),eu(this,ih).set(s,0)}updateProperty(e,t){"stroke-width"===e&&nu(this,oh,t)}isEmpty(){return!eu(this,ah)||0===eu(this,ah).length}isCancellable(){return eu(this,ch).length<=10}add(e,t){[e,t]=iu(this,fh,gh).call(this,e,t);const[n,i,r,a]=eu(this,ih).subarray(2,6),s=e-r,o=t-a;return Math.hypot(eu(this,uh)*s,eu(this,ph)*o)<=2?null:(eu(this,ch).push(e,t),isNaN(n)?(eu(this,ih).set([r,a,e,t],2),eu(this,rh).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(eu(this,ih)[0])&&eu(this,rh).splice(6,6),eu(this,ih).set([n,i,r,a,e,t],0),eu(this,rh).push(...my.createBezierPoints(n,i,r,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(2===eu(this,ch).length?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,r){nu(this,uh,n),nu(this,ph,i),nu(this,sh,r),[e,t]=iu(this,fh,gh).call(this,e,t);const a=nu(this,rh,[NaN,NaN,NaN,NaN,e,t]);nu(this,ch,[e,t]);const s=eu(this,ah).at(-1);return s&&(s.line=new Float32Array(s.line),s.points=new Float32Array(s.points)),eu(this,ah).push({line:a,points:eu(this,ch)}),eu(this,ih).set(a,0),nu(this,hh,0),this.toSVGPath(),null}getLastElement(){return eu(this,ah).at(-1)}setLastElement(e){return eu(this,ah)?(eu(this,ah).push(e),nu(this,rh,e.line),nu(this,ch,e.points),nu(this,hh,0),{path:{d:this.toSVGPath()}}):eu(this,dh).setLastElement(e)}removeLastElement(){if(!eu(this,ah))return eu(this,dh).removeLastElement();eu(this,ah).pop(),nu(this,lh,"");for(let e=0,t=eu(this,ah).length;e<t;e++){const{line:t,points:n}=eu(this,ah)[e];nu(this,rh,t),nu(this,ch,n),nu(this,hh,0),this.toSVGPath()}return{path:{d:eu(this,lh)}}}toSVGPath(){const e=my.svgRound(eu(this,rh)[4]),t=my.svgRound(eu(this,rh)[5]);if(2===eu(this,ch).length)return nu(this,lh,`${eu(this,lh)} M ${e} ${t} Z`),eu(this,lh);if(eu(this,ch).length<=6){const n=eu(this,lh).lastIndexOf("M");nu(this,lh,`${eu(this,lh).slice(0,n)} M ${e} ${t}`),nu(this,hh,6)}if(4===eu(this,ch).length){const e=my.svgRound(eu(this,rh)[10]),t=my.svgRound(eu(this,rh)[11]);return nu(this,lh,`${eu(this,lh)} L ${e} ${t}`),nu(this,hh,12),eu(this,lh)}const n=[];0===eu(this,hh)&&(n.push(`M ${e} ${t}`),nu(this,hh,6));for(let i=eu(this,hh),r=eu(this,rh).length;i<r;i+=6){const[e,t,r,a,s,o]=eu(this,rh).slice(i,i+6).map(my.svgRound);n.push(`C${e} ${t} ${r} ${a} ${s} ${o}`)}return nu(this,lh,eu(this,lh)+n.join(" ")),nu(this,hh,eu(this,rh).length),eu(this,lh)}getOutlines(e,t,n,i){const r=eu(this,ah).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),eu(this,dh).build(eu(this,ah),e,t,n,eu(this,sh),eu(this,oh),i),nu(this,ih,null),nu(this,rh,null),nu(this,ah,null),nu(this,lh,null),eu(this,dh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}ih=new WeakMap,rh=new WeakMap,ah=new WeakMap,sh=new WeakMap,oh=new WeakMap,ch=new WeakMap,lh=new WeakMap,hh=new WeakMap,dh=new WeakMap,uh=new WeakMap,ph=new WeakMap,fh=new WeakSet,gh=function(e,t){return my._normalizePoint(e,t,eu(this,uh),eu(this,ph),eu(this,sh))};class Sy extends my{constructor(){super(...arguments),tu(this,Th),tu(this,mh),tu(this,bh,0),tu(this,yh),tu(this,vh),tu(this,xh),tu(this,wh),tu(this,_h),tu(this,Dh),tu(this,Ah)}build(e,t,n,i,r,a,s){nu(this,xh,t),nu(this,wh,n),nu(this,_h,i),nu(this,Dh,r),nu(this,Ah,a),nu(this,yh,s??0),nu(this,vh,e),iu(this,Th,kh).call(this)}get thickness(){return eu(this,Ah)}setLastElement(e){return eu(this,vh).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return eu(this,vh).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of eu(this,vh))if(e.push(`M${my.svgRound(t[4])} ${my.svgRound(t[5])}`),6!==t.length)if(12===t.length&&isNaN(t[6]))e.push(`L${my.svgRound(t[10])} ${my.svgRound(t[11])}`);else for(let n=6,i=t.length;n<i;n+=6){const[i,r,a,s,o,c]=t.subarray(n,n+6).map(my.svgRound);e.push(`C${i} ${r} ${a} ${s} ${o} ${c}`)}else e.push("Z");return e.join("")}serialize([e,t,n,i],r){const a=[],s=[],[o,c,l,h]=iu(this,Th,Eh).call(this);let d,u,p,f,g,m,b,y,v;switch(eu(this,Dh)){case 0:v=my._rescale,d=e,u=t+i,p=n,f=-i,g=e+o*n,m=t+(1-c-h)*i,b=e+(o+l)*n,y=t+(1-c)*i;break;case 90:v=my._rescaleAndSwap,d=e,u=t,p=n,f=i,g=e+c*n,m=t+o*i,b=e+(c+h)*n,y=t+(o+l)*i;break;case 180:v=my._rescale,d=e+n,u=t,p=-n,f=i,g=e+(1-o-l)*n,m=t+c*i,b=e+(1-o)*n,y=t+(c+h)*i;break;case 270:v=my._rescaleAndSwap,d=e+n,u=t+i,p=-n,f=-i,g=e+(1-c-h)*n,m=t+(1-o-l)*i,b=e+(1-c)*n,y=t+(1-o)*i}for(const{line:x,points:w}of eu(this,vh))a.push(v(x,d,u,p,f,r?new Array(x.length):null)),s.push(v(w,d,u,p,f,r?new Array(w.length):null));return{lines:a,points:s,rect:[g,m,b,y]}}static deserialize(e,t,n,i,r,{paths:{lines:a,points:s},rotation:o,thickness:c}){const l=[];let h,d,u,p,f;switch(o){case 0:f=my._rescale,h=-e/n,d=t/i+1,u=1/n,p=-1/i;break;case 90:f=my._rescaleAndSwap,h=-t/i,d=-e/n,u=1/i,p=1/n;break;case 180:f=my._rescale,h=e/n+1,d=-t/i,u=-1/n,p=1/i;break;case 270:f=my._rescaleAndSwap,h=t/i+1,d=e/n+1,u=-1/i,p=-1/n}if(!a){a=[];for(const e of s){const t=e.length;if(2===t){a.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1]]));continue}if(4===t){a.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1],NaN,NaN,NaN,NaN,e[2],e[3]]));continue}const n=new Float32Array(3*(t-2));a.push(n);let[i,r,s,o]=e.subarray(0,4);n.set([NaN,NaN,NaN,NaN,i,r],0);for(let a=4;a<t;a+=2){const t=e[a],c=e[a+1];n.set(my.createBezierPoints(i,r,s,o,t,c),3*(a-2)),[i,r,s,o]=[s,o,t,c]}}}for(let m=0,b=a.length;m<b;m++)l.push({line:f(a[m].map(e=>e??NaN),h,d,u,p),points:f(s[m].map(e=>e??NaN),h,d,u,p)});const g=new this.prototype.constructor;return g.build(l,n,i,1,o,c,r),g}get box(){return eu(this,mh)}updateProperty(e,t){return"stroke-width"===e?iu(this,Th,Ch).call(this,t):null}updateParentDimensions([e,t],n){const[i,r]=iu(this,Th,Uh).call(this);nu(this,xh,e),nu(this,wh,t),nu(this,_h,n);const[a,s]=iu(this,Th,Uh).call(this),o=a-i,c=s-r,l=eu(this,mh);return l[0]-=o,l[1]-=c,l[2]+=2*o,l[3]+=2*c,l}updateRotation(e){return nu(this,bh,e),{path:{transform:this.rotationTransform}}}get viewBox(){return eu(this,mh).map(my.svgRound).join(" ")}get defaultProperties(){const[e,t]=eu(this,mh);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${my.svgRound(e)} ${my.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=eu(this,mh);let n=0,i=0,r=0,a=0,s=0,o=0;switch(eu(this,bh)){case 90:i=t/e,r=-e/t,s=e;break;case 180:n=-1,a=-1,s=e,o=t;break;case 270:i=-t/e,r=e/t,o=t;break;default:return""}return`matrix(${n} ${i} ${r} ${a} ${my.svgRound(s)} ${my.svgRound(o)})`}getPathResizingSVGProperties([e,t,n,i]){const[r,a]=iu(this,Th,Uh).call(this),[s,o,c,l]=eu(this,mh);if(Math.abs(c-r)<=my.PRECISION||Math.abs(l-a)<=my.PRECISION){const r=e+n/2-(s+c/2),a=t+i/2-(o+l/2);return{path:{"transform-origin":`${my.svgRound(e)} ${my.svgRound(t)}`,transform:`${this.rotationTransform} translate(${r} ${a})`}}}const h=(n-2*r)/(c-2*r),d=(i-2*a)/(l-2*a),u=c/n,p=l/i;return{path:{"transform-origin":`${my.svgRound(s)} ${my.svgRound(o)}`,transform:`${this.rotationTransform} scale(${u} ${p}) translate(${my.svgRound(r)} ${my.svgRound(a)}) scale(${h} ${d}) translate(${my.svgRound(-r)} ${my.svgRound(-a)})`}}}getPathResizedSVGProperties([e,t,n,i]){const[r,a]=iu(this,Th,Uh).call(this),s=eu(this,mh),[o,c,l,h]=s;if(s[0]=e,s[1]=t,s[2]=n,s[3]=i,Math.abs(l-r)<=my.PRECISION||Math.abs(h-a)<=my.PRECISION){const r=e+n/2-(o+l/2),a=t+i/2-(c+h/2);for(const{line:e,points:t}of eu(this,vh))my._translate(e,r,a,e),my._translate(t,r,a,t);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${my.svgRound(e)} ${my.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const d=(n-2*r)/(l-2*r),u=(i-2*a)/(h-2*a),p=-d*(o+r)+e+r,f=-u*(c+a)+t+a;if(1!==d||1!==u||0!==p||0!==f)for(const{line:g,points:m}of eu(this,vh))my._rescale(g,p,f,d,u,g),my._rescale(m,p,f,d,u,m);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${my.svgRound(e)} ${my.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],n){const[i,r]=n,a=eu(this,mh),s=e-a[0],o=t-a[1];if(eu(this,xh)===i&&eu(this,wh)===r)for(const{line:c,points:l}of eu(this,vh))my._translate(c,s,o,c),my._translate(l,s,o,l);else{const e=eu(this,xh)/i,t=eu(this,wh)/r;nu(this,xh,i),nu(this,wh,r);for(const{line:n,points:i}of eu(this,vh))my._rescale(n,s,o,e,t,n),my._rescale(i,s,o,e,t,i);a[2]*=e,a[3]*=t}return a[0]=e,a[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${my.svgRound(e)} ${my.svgRound(t)}`}}}get defaultSVGProperties(){const e=eu(this,mh);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${my.svgRound(e[0])} ${my.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}mh=new WeakMap,bh=new WeakMap,yh=new WeakMap,vh=new WeakMap,xh=new WeakMap,wh=new WeakMap,_h=new WeakMap,Dh=new WeakMap,Ah=new WeakMap,Th=new WeakSet,Uh=function(e=eu(this,Ah)){const t=eu(this,yh)+e/2*eu(this,_h);return eu(this,Dh)%180==0?[t/eu(this,xh),t/eu(this,wh)]:[t/eu(this,wh),t/eu(this,xh)]},Eh=function(){const[e,t,n,i]=eu(this,mh),[r,a]=iu(this,Th,Uh).call(this,0);return[e+r,t+a,n-2*r,i-2*a]},kh=function(){const e=nu(this,mh,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of eu(this,vh)){if(i.length<=12){for(let t=4,n=i.length;t<n;t+=6)jp.pointBoundingBox(i[t],i[t+1],e);continue}let t=i[4],n=i[5];for(let r=6,a=i.length;r<a;r+=6){const[a,s,o,c,l,h]=i.subarray(r,r+6);jp.bezierBoundingBox(t,n,a,s,o,c,l,h,e),t=l,n=h}}const[t,n]=iu(this,Th,Uh).call(this);e[0]=$p(e[0]-t,0,1),e[1]=$p(e[1]-n,0,1),e[2]=$p(e[2]+t,0,1),e[3]=$p(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]},Ch=function(e){const[t,n]=iu(this,Th,Uh).call(this);nu(this,Ah,e);const[i,r]=iu(this,Th,Uh).call(this),[a,s]=[i-t,r-n],o=eu(this,mh);return o[0]-=a,o[1]-=s,o[2]+=2*a,o[3]+=2*s,o};class Fy extends Uy{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Vf._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){"stroke-width"===e&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Fy(this._viewParameters);return e.updateAll(this),e}}const My=class e extends ky{constructor(e){super({...e,name:"inkEditor"}),tu(this,Sh),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){Vf.initialize(e,t),this._defaultDrawingOptions=new Fy(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Cp(this,"typesMap",new Map([[Qu.INK_THICKNESS,"stroke-width"],[Qu.INK_COLOR,"stroke"],[Qu.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,i,r){return new Cy(e,t,n,i,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,i,r,a){return Sy.deserialize(e,t,n,i,r,a)}static async deserialize(e,t,n){let i=null;if(e instanceof ay){const{data:{inkLists:t,rect:n,rotation:r,id:a,color:s,opacity:o,borderStyle:{rawWidth:c},popupRef:l,richText:h,contentsObj:d,creationDate:u,modificationDate:p},parent:{page:{pageNumber:f}}}=e;i=e={annotationType:Zu.INK,color:Array.from(s),thickness:c,opacity:o,paths:{points:t},boxes:null,pageIndex:f-1,rect:n.slice(0),rotation:r,annotationElementId:a,id:a,deleted:!1,popupRef:l,richText:h,comment:(null==d?void 0:d.str)||null,creationDate:u,modificationDate:p}}const r=await super.deserialize(e,t,n);return r._initialData=i,e.comment&&r.setCommentData(e),r}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Sb(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Qu.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=e.getDefaultDrawingOptions({stroke:jp.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":r,"stroke-width":a}}=this,s=Object.assign(super.serialize(e),{color:Vf._colorManager.convert(i),opacity:r,thickness:a,paths:{lines:t,points:n}});return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!iu(this,Sh,Fh).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1);return e.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}};Sh=new WeakSet,Fh=function(e){const{color:t,thickness:n,opacity:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((e,n)=>e!==t[n])||e.thickness!==n||e.opacity!==i||e.pageIndex!==r},Qd(My,"_type","ink"),Qd(My,"_editorType",Zu.INK),Qd(My,"_defaultDrawingOptions",null);let Wy=My;class Iy extends Sy{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}class Py{static extractContoursFromText(e,{fontFamily:t,fontStyle:n,fontWeight:i},r,a,s,o){let c=new OffscreenCanvas(1,1),l=c.getContext("2d",{alpha:!1});const h=l.font=`${n} ${i} 200px ${t}`,{actualBoundingBoxLeft:d,actualBoundingBoxRight:u,actualBoundingBoxAscent:p,actualBoundingBoxDescent:f,fontBoundingBoxAscent:g,fontBoundingBoxDescent:m,width:b}=l.measureText(e),y=1.5,v=Math.ceil(Math.max(Math.abs(d)+Math.abs(u)||0,b)*y),x=Math.ceil(Math.max(Math.abs(p)+Math.abs(f)||200,Math.abs(g)+Math.abs(m)||200)*y);c=new OffscreenCanvas(v,x),l=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),l.font=h,l.filter="grayscale(1)",l.fillStyle="white",l.fillRect(0,0,v,x),l.fillStyle="black",l.fillText(e,.5*v/2,1.5*x/2);const w=iu(this,Wh,Hh).call(this,l.getImageData(0,0,v,x).data),_=iu(this,Wh,zh).call(this,w),D=iu(this,Wh,qh).call(this,_),A=iu(this,Wh,Nh).call(this,w,v,x,D);return this.processDrawnLines({lines:{curves:A,width:v,height:x},pageWidth:r,pageHeight:a,rotation:s,innerMargin:o,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,r){const[a,s,o]=iu(this,Wh,Vh).call(this,e),[c,l]=iu(this,Wh,jh).call(this,a,s,o,Math.hypot(s,o)*eu(this,Mh).sigmaSFactor,eu(this,Mh).sigmaR,eu(this,Mh).kernelSize),h=iu(this,Wh,qh).call(this,l),d=iu(this,Wh,Nh).call(this,c,s,o,h);return this.processDrawnLines({lines:{curves:d,width:s,height:o},pageWidth:t,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:r,mustSmooth:a,areContours:s}){i%180!=0&&([t,n]=[n,t]);const{curves:o,width:c,height:l}=e,h=e.thickness??0,d=[],u=Math.min(t/c,n/l),p=u/t,f=u/n,g=[];for(const{points:b}of o){const e=a?iu(this,Wh,Lh).call(this,b):b;if(!e)continue;g.push(e);const t=e.length,n=new Float32Array(t),i=new Float32Array(3*(2===t?2:t-2));if(d.push({line:i,points:n}),2===t){n[0]=e[0]*p,n[1]=e[1]*f,i.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[r,s,o,c]=e;r*=p,s*=f,o*=p,c*=f,n.set([r,s,o,c],0),i.set([NaN,NaN,NaN,NaN,r,s],0);for(let a=4;a<t;a+=2){const t=n[a]=e[a]*p,l=n[a+1]=e[a+1]*f;i.set(my.createBezierPoints(r,s,o,c,t,l),3*(a-2)),[r,s,o,c]=[o,c,t,l]}}if(0===d.length)return null;const m=s?new Iy:new Sy;return m.build(d,t,n,1,i,s?0:h,r),{outline:m,newCurves:g,areContours:s,thickness:h,width:c,height:l}}static async compressSignature({outlines:e,areContours:t,thickness:n,width:i,height:r}){let a,s=1/0,o=-1/0,c=0;for(const b of e){c+=b.length;for(let e=2,t=b.length;e<t;e++){const t=b[e]-b[e-2];s=Math.min(s,t),o=Math.max(o,t)}}a=s>=-128&&o<=127?Int8Array:s>=-32768&&o<=32767?Int16Array:Int32Array;const l=e.length,h=8+3*l,d=new Uint32Array(h);let u=0;d[u++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*l)*a.BYTES_PER_ELEMENT,d[u++]=0,d[u++]=i,d[u++]=r,d[u++]=t?0:1,d[u++]=Math.max(0,Math.floor(n??0)),d[u++]=l,d[u++]=a.BYTES_PER_ELEMENT;for(const b of e)d[u++]=b.length-2,d[u++]=b[0],d[u++]=b[1];const p=new CompressionStream("deflate-raw"),f=p.writable.getWriter();await f.ready,f.write(d);const g=a.prototype.constructor;for(const b of e){const e=new g(b.length-2);for(let t=2,n=b.length;t<n;t++)e[t-2]=b[t]-b[t-2];f.write(e)}f.close();const m=await new Response(p.readable).arrayBuffer();return Gp(new Uint8Array(m))}static async decompressSignature(e){try{const n=(t=e,Uint8Array.fromBase64?Uint8Array.fromBase64(t):Np(atob(t))),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),a=r.getWriter();await a.ready,a.write(n).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let s=null,o=0;for await(const e of i)s||(s=new Uint8Array(new Uint32Array(e.buffer,0,4)[0])),s.set(e,o),o+=e.length;const c=new Uint32Array(s.buffer,0,s.length>>2),l=c[1];if(0!==l)throw new Error(`Invalid version: ${l}`);const h=c[2],d=c[3],u=0===c[4],p=c[5],f=c[6],g=c[7],m=[],b=(8+3*f)*Uint32Array.BYTES_PER_ELEMENT;let y;switch(g){case Int8Array.BYTES_PER_ELEMENT:y=new Int8Array(s.buffer,b);break;case Int16Array.BYTES_PER_ELEMENT:y=new Int16Array(s.buffer,b);break;case Int32Array.BYTES_PER_ELEMENT:y=new Int32Array(s.buffer,b)}o=0;for(let e=0;e<f;e++){const t=c[3*e+8],n=new Float32Array(t+2);m.push(n);for(let i=0;i<2;i++)n[i]=c[3*e+8+i+1];for(let e=0;e<t;e++)n[e+2]=n[e]+y[o++]}return{areContours:u,thickness:p,outlines:m,width:h,height:d}}catch(n){return Ap(`decompressSignature: ${n}`),null}var t}}Mh=new WeakMap,Wh=new WeakSet,Ih=function(e,t,n,i){return i-=t,0===(n-=e)?i>0?0:4:1===n?i+6:2-i},Ph=new WeakMap,Rh=function(e,t,n,i,r,a,s){const o=iu(this,Wh,Ih).call(this,n,i,r,a);for(let c=0;c<8;c++){const r=(-c+o-s+16)%8;if(0!==e[(n+eu(this,Ph)[2*r])*t+(i+eu(this,Ph)[2*r+1])])return r}return-1},Bh=function(e,t,n,i,r,a,s){const o=iu(this,Wh,Ih).call(this,n,i,r,a);for(let c=0;c<8;c++){const r=(c+o+s+16)%8;if(0!==e[(n+eu(this,Ph)[2*r])*t+(i+eu(this,Ph)[2*r+1])])return r}return-1},Nh=function(e,t,n,i){const r=e.length,a=new Int32Array(r);for(let l=0;l<r;l++)a[l]=e[l]<=i?1:0;for(let l=1;l<n-1;l++)a[l*t]=a[l*t+t-1]=0;for(let l=0;l<t;l++)a[l]=a[t*n-1-l]=0;let s,o=1;const c=[];for(let l=1;l<n-1;l++){s=1;for(let e=1;e<t-1;e++){const n=l*t+e,i=a[n];if(0===i)continue;let r=l,h=e;if(1===i&&0===a[n-1])o+=1,h-=1;else{if(!(i>=1&&0===a[n+1])){1!==i&&(s=Math.abs(i));continue}o+=1,h+=1,i>1&&(s=i)}const d=[e,l],u=h===e+1,p={isHole:u,points:d,id:o,parent:0};let f;c.push(p);for(const e of c)if(e.id===s){f=e;break}f?f.isHole?p.parent=u?f.parent:s:p.parent=u?s:f.parent:p.parent=u?s:0;const g=iu(this,Wh,Rh).call(this,a,t,l,e,r,h,0);if(-1===g){a[n]=-o,1!==a[n]&&(s=Math.abs(a[n]));continue}let m=eu(this,Ph)[2*g],b=eu(this,Ph)[2*g+1];const y=l+m,v=e+b;r=y,h=v;let x=l,w=e;for(;;){const i=iu(this,Wh,Bh).call(this,a,t,x,w,r,h,1);m=eu(this,Ph)[2*i],b=eu(this,Ph)[2*i+1];const c=x+m,u=w+b;d.push(u,c);const p=x*t+w;if(0===a[p+1]?a[p]=-o:1===a[p]&&(a[p]=o),c===l&&u===e&&x===y&&w===v){1!==a[n]&&(s=Math.abs(a[n]));break}r=x,h=w,x=c,w=u}}}return c},Oh=function(e,t,n,i){if(n-t<=4){for(let r=t;r<n-2;r+=2)i.push(e[r],e[r+1]);return}const r=e[t],a=e[t+1],s=e[n-4]-r,o=e[n-3]-a,c=Math.hypot(s,o),l=s/c,h=o/c,d=l*a-h*r,u=o/s,p=1/c,f=Math.atan(u),g=Math.cos(f),m=Math.sin(f),b=p*(Math.abs(g)+Math.abs(m)),y=p*(1-b+b**2),v=Math.max(Math.atan(Math.abs(m+g)*y),Math.atan(Math.abs(m-g)*y));let x=0,w=t;for(let _=t+2;_<n-2;_+=2){const t=Math.abs(d-l*e[_+1]+h*e[_]);t>x&&(w=_,x=t)}x>(c*v)**2?(iu(this,Wh,Oh).call(this,e,t,w+2,i),iu(this,Wh,Oh).call(this,e,w,n,i)):i.push(r,a)},Lh=function(e){const t=[],n=e.length;return iu(this,Wh,Oh).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t},jh=function(e,t,n,i,r,a){const s=new Float32Array(a**2),o=-2*i**2,c=a>>1;for(let f=0;f<a;f++){const e=(f-c)**2;for(let t=0;t<a;t++)s[f*a+t]=Math.exp((e+(t-c)**2)/o)}const l=new Float32Array(256),h=-2*r**2;for(let f=0;f<256;f++)l[f]=Math.exp(f**2/h);const d=e.length,u=new Uint8Array(d),p=new Uint32Array(256);for(let f=0;f<n;f++)for(let i=0;i<t;i++){const r=f*t+i,o=e[r];let h=0,d=0;for(let u=0;u<a;u++){const r=f+u-c;if(!(r<0||r>=n))for(let n=0;n<a;n++){const p=i+n-c;if(p<0||p>=t)continue;const f=e[r*t+p],g=s[u*a+n]*l[Math.abs(f-o)];h+=f*g,d+=g}}p[u[r]=Math.round(h/d)]++}return[u,p]},zh=function(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t},Hh=function(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,r=1/0;for(let s=0,o=n.length;s<o;s++){const t=n[s]=e[s<<2];i=Math.max(i,t),r=Math.min(r,t)}const a=255/(i-r);for(let s=0,o=n.length;s<o;s++)n[s]=(n[s]-r)*a;return n},qh=function(e){let t,n=-1/0,i=-1/0;const r=e.findIndex(e=>0!==e);let a=r,s=r;for(t=r;t<256;t++){const r=e[t];r>n&&(t-a>i&&(i=t-a,s=t-1),n=r,a=t)}for(t=s-1;t>=0&&!(e[t]>e[t+1]);t--);return t},Vh=function(e){const t=e,{width:n,height:i}=e,{maxDim:r}=eu(this,Mh);let a=n,s=i;if(n>r||i>r){let o=n,c=i,l=Math.log2(Math.max(n,i)/r);const h=Math.floor(l);l=l===h?h-1:h;for(let n=0;n<l;n++){a=Math.ceil(o/2),s=Math.ceil(c/2);const n=new OffscreenCanvas(a,s);n.getContext("2d").drawImage(e,0,0,o,c,0,0,a,s),o=a,c=s,e!==t&&e.close(),e=n.transferToImageBitmap()}const d=Math.min(r/a,r/s);a=Math.round(a*d),s=Math.round(s*d)}const o=new OffscreenCanvas(a,s).getContext("2d",{willReadFrequently:!0});o.fillStyle="white",o.fillRect(0,0,a,s),o.filter="grayscale(1)",o.drawImage(e,0,0,e.width,e.height,0,0,a,s);const c=o.getImageData(0,0,a,s).data;return[iu(this,Wh,Hh).call(this,c),a,s]},tu(Py,Wh),tu(Py,Mh,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),tu(Py,Ph,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class Ry extends Uy{constructor(){super(),super.updateProperties({fill:Vf._defaultLineColor,"stroke-width":0})}clone(){const e=new Ry;return e.updateAll(this),e}}class By extends Fy{constructor(e){super(e),super.updateProperties({stroke:Vf._defaultLineColor,"stroke-width":1})}clone(){const e=new By(this._viewParameters);return e.updateAll(this),e}}const Ny=class e extends ky{constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),tu(this,$h,!1),tu(this,Gh,null),tu(this,Xh,null),tu(this,Yh,null),this._willKeepAspectRatio=!0,nu(this,Xh,e.signatureData||null),nu(this,Gh,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){Vf.initialize(e,t),this._defaultDrawingOptions=new Ry,this._defaultDrawnSignatureOptions=new By(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Cp(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!eu(this,Gh)}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,n;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,t=this.x,n=this.y),super.render(),null===this._drawId)if(eu(this,Xh)){const{lines:t,mustSmooth:n,areContours:i,description:r,uuid:a,heightInPage:s}=eu(this,Xh),{rawDims:{pageWidth:o,pageHeight:c},rotation:l}=this.parent.viewport,h=Py.processDrawnLines({lines:t,pageWidth:o,pageHeight:c,rotation:l,innerMargin:e._INNER_MARGIN,mustSmooth:n,areContours:i});this.addSignature(h,s,r,a)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:eu(this,Gh)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(t,n)),this.div}setUuid(e){nu(this,Yh,e),this.addEditToolbar()}getUuid(){return eu(this,Yh)}get description(){return eu(this,Gh)}set description(e){nu(this,Gh,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{null==t||t.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:i,height:r}=eu(this,Xh),a=Math.max(i,r);return{areContours:t,outline:Py.processDrawnLines({lines:{curves:e.map(e=>({points:e})),thickness:n,width:i,height:r},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,n,i,r){const{x:a,y:s}=this,{outline:o}=nu(this,Xh,t);let c;nu(this,$h,o instanceof Iy),this.description=i,eu(this,$h)?c=e.getDefaultDrawingOptions():(c=e._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:c});const[,l]=this.pageDimensions;let h=n/l;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=a,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:r}=this.parent.viewport;return Py.process(t,n,i,r,e._INNER_MARGIN)}getFromText(t,n){const{rawDims:{pageWidth:i,pageHeight:r},rotation:a}=this.parent.viewport;return Py.extractContoursFromText(t,n,i,r,a,e._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:r}=this.parent.viewport;return Py.processDrawnLines({lines:t,pageWidth:n,pageHeight:i,rotation:r,innerMargin:e._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:n}){t?this._drawingOptions=e.getDefaultDrawingOptions():(this._drawingOptions=e._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:n}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,r=Object.assign(super.serialize(e),{isSignature:!0,areContours:eu(this,$h),color:[0,0,0],thickness:eu(this,$h)?0:i});return this.addComment(r),e?(r.paths={lines:t,points:n},r.uuid=eu(this,Yh),r.isCopy=!0):r.lines=t,eu(this,Gh)&&(r.accessibilityData={type:"Figure",alt:eu(this,Gh)}),r}static deserializeDraw(e,t,n,i,r,a){return a.areContours?Iy.deserialize(e,t,n,i,r,a):Sy.deserialize(e,t,n,i,r,a)}static async deserialize(e,t,n){var i;const r=await super.deserialize(e,t,n);return nu(r,$h,e.areContours),r.description=(null==(i=e.accessibilityData)?void 0:i.alt)||"",nu(r,Yh,e.uuid),r}};$h=new WeakMap,Gh=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,Qd(Ny,"_type","signature"),Qd(Ny,"_editorType",Zu.SIGNATURE),Qd(Ny,"_defaultDrawingOptions",null);let Oy=Ny;class Ly extends Vf{constructor(e){super({...e,name:"stampEditor"}),tu(this,od),tu(this,Kh,null),tu(this,Zh,null),tu(this,Qh,null),tu(this,Jh,null),tu(this,ed,null),tu(this,td,""),tu(this,nd,null),tu(this,id,!1),tu(this,rd,null),tu(this,ad,!1),tu(this,sd,!1),nu(this,Jh,e.bitmapUrl),nu(this,ed,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){Vf.initialize(e,t)}static isHandlingMimeForPasting(e){return gf.includes(e)}static paste(e,t){t.pasteEditor({mode:Zu.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!!(null==(e=this.altTextData)?void 0:e.altText)}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!(await n.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");const{data:i,width:r,height:a}=e||this.copyCanvas(null,null,!0).imageData,s=await n.guess({name:"altText",request:{data:i,width:r,height:a,channels:i.length/(r*a)}});if(!s)throw new Error("No response from the AI service.");if(s.error)throw new Error("Error from the AI service.");if(s.cancel)return null;if(!s.output)throw new Error("No valid response from the AI service.");const o=s.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var e;eu(this,Zh)&&(nu(this,Kh,null),this._uiManager.imageManager.deleteId(eu(this,Zh)),null==(e=eu(this,nd))||e.remove(),nu(this,nd,null),eu(this,rd)&&(clearTimeout(eu(this,rd)),nu(this,rd,null))),super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(eu(this,Zh)&&null===eu(this,nd)&&iu(this,od,hd).call(this),this.isAttachedToDOM||this.parent.add(this))):eu(this,Zh)&&iu(this,od,hd).call(this)}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(eu(this,Qh)||eu(this,Kh)||eu(this,Jh)||eu(this,ed)||eu(this,Zh)||eu(this,id))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),eu(this,id)||(eu(this,Kh)?iu(this,od,dd).call(this):iu(this,od,hd).call(this)),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(nu(this,Zh,n),i&&nu(this,Kh,i),nu(this,id,!1),iu(this,od,dd).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==eu(this,rd)&&clearTimeout(eu(this,rd));nu(this,rd,setTimeout(()=>{nu(this,rd,null),iu(this,od,pd).call(this)},200))}copyCanvas(e,t,n=!1){e||(e=224);const{width:i,height:r}=eu(this,Kh),a=new ff;let s=eu(this,Kh),o=i,c=r,l=null;if(t){if(i>t||r>t){const e=Math.min(t/i,t/r);o=Math.floor(i*e),c=Math.floor(r*e)}l=document.createElement("canvas");const e=l.width=Math.ceil(o*a.sx),n=l.height=Math.ceil(c*a.sy);eu(this,ad)||(s=iu(this,od,ud).call(this,e,n));const h=l.getContext("2d");h.filter=this._uiManager.hcmFilter;let d="white",u="#cfcfd8";"none"!==this._uiManager.hcmFilter?u="black":mf.isDarkMode&&(d="#8f8f9d",u="#42414d");const p=15,f=p*a.sx,g=p*a.sy,m=new OffscreenCanvas(2*f,2*g),b=m.getContext("2d");b.fillStyle=d,b.fillRect(0,0,2*f,2*g),b.fillStyle=u,b.fillRect(0,0,f,g),b.fillRect(f,g,f,g),h.fillStyle=h.createPattern(m,"repeat"),h.fillRect(0,0,e,n),h.drawImage(s,0,0,s.width,s.height,0,0,e,n)}let h=null;if(n){let t,n;if(a.symmetric&&s.width<e&&s.height<e)t=s.width,n=s.height;else if(s=eu(this,Kh),i>e||r>e){const a=Math.min(e/i,e/r);t=Math.floor(i*a),n=Math.floor(r*a),eu(this,ad)||(s=iu(this,od,ud).call(this,t,n))}const o=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});o.drawImage(s,0,0,s.width,s.height,0,0,t,n),h={width:t,height:n,data:o.getImageData(0,0,t,n).data}}return{canvas:l,width:o,height:c,imageData:h}}static async deserialize(e,t,n){var i;let r=null,a=!1;if(e instanceof hy){const{data:{rect:s,rotation:o,id:c,structParent:l,popupRef:h,richText:d,contentsObj:u,creationDate:p,modificationDate:f},container:g,parent:{page:{pageNumber:m}},canvas:b}=e;let y,v;b?(delete e.canvas,({id:y,bitmap:v}=n.imageManager.getFromCanvas(g.id,b)),b.remove()):(a=!0,e._hasNoCanvas=!0);const x=(null==(i=await t._structTree.getAriaAttributes(`${Vp}${c}`))?void 0:i.get("aria-label"))||"";r=e={annotationType:Zu.STAMP,bitmapId:y,bitmap:v,pageIndex:m-1,rect:s.slice(0),rotation:o,annotationElementId:c,id:c,deleted:!1,accessibilityData:{decorative:!1,altText:x},isSvg:!1,structParent:l,popupRef:h,richText:d,comment:(null==u?void 0:u.str)||null,creationDate:p,modificationDate:f}}const s=await super.deserialize(e,t,n),{rect:o,bitmap:c,bitmapUrl:l,bitmapId:h,isSvg:d,accessibilityData:u}=e;a?(n.addMissingCanvas(e.id,s),nu(s,id,!0)):h&&n.imageManager.isValidId(h)?(nu(s,Zh,h),c&&nu(s,Kh,c)):nu(s,Jh,l),nu(s,ad,d);const[p,f]=s.pageDimensions;return s.width=(o[2]-o[0])/p,s.height=(o[3]-o[1])/f,u&&(s.altTextData=u),s._initialData=r,e.comment&&s.setCommentData(e),nu(s,sd,!!r),s}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(e),{bitmapId:eu(this,Zh),isSvg:eu(this,ad)});if(this.addComment(n),e)return n.bitmapUrl=iu(this,od,fd).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:r}=this.serializeAltText(!1);if(!i&&r&&(n.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const e=iu(this,od,gd).call(this,n);return e.isSame?null:(e.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(null===t)return n;t.stamps||(t.stamps=new Map);const a=eu(this,ad)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(eu(this,Zh))){if(eu(this,ad)){const e=t.stamps.get(eu(this,Zh));a>e.area&&(e.area=a,e.serialized.bitmap.close(),e.serialized.bitmap=iu(this,od,fd).call(this,!1))}}else t.stamps.set(eu(this,Zh),{area:a,serialized:n}),n.bitmap=iu(this,od,fd).call(this,!1);return n}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Kh=new WeakMap,Zh=new WeakMap,Qh=new WeakMap,Jh=new WeakMap,ed=new WeakMap,td=new WeakMap,nd=new WeakMap,id=new WeakMap,rd=new WeakMap,ad=new WeakMap,sd=new WeakMap,od=new WeakSet,cd=function(e,t=!1){e?(nu(this,Kh,e.bitmap),t||(nu(this,Zh,e.id),nu(this,ad,e.isSvg)),e.file&&nu(this,td,e.file.name),iu(this,od,dd).call(this)):this.remove()},ld=function(){if(nu(this,Qh,null),this._uiManager.enableWaiting(!1),eu(this,nd))if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&eu(this,Kh))this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&eu(this,Kh)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},hd=function(){if(eu(this,Zh))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(eu(this,Zh)).then(e=>iu(this,od,cd).call(this,e,!0)).finally(()=>iu(this,od,ld).call(this));if(eu(this,Jh)){const e=eu(this,Jh);return nu(this,Jh,null),this._uiManager.enableWaiting(!0),void nu(this,Qh,this._uiManager.imageManager.getFromUrl(e).then(e=>iu(this,od,cd).call(this,e)).finally(()=>iu(this,od,ld).call(this)))}if(eu(this,ed)){const e=eu(this,ed);return nu(this,ed,null),this._uiManager.enableWaiting(!0),void nu(this,Qh,this._uiManager.imageManager.getFromFile(e).then(e=>iu(this,od,cd).call(this,e)).finally(()=>iu(this,od,ld).call(this)))}const e=document.createElement("input");e.type="file",e.accept=gf.join(",");const t=this._uiManager._signal;nu(this,Qh,new Promise(n=>{e.addEventListener("change",async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),iu(this,od,cd).call(this,t)}else this.remove();n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>iu(this,od,ld).call(this))),e.click()},dd=function(){var e;const{div:t}=this;let{width:n,height:i}=eu(this,Kh);const[r,a]=this.pageDimensions,s=.75;if(this.width)n=this.width*r,i=this.height*a;else if(n>s*r||i>s*a){const e=Math.min(s*r/n,s*a/i);n*=e,i*=e}this._uiManager.enableWaiting(!1);const o=nu(this,nd,document.createElement("canvas"));o.setAttribute("role","img"),this.addContainer(o),this.width=n/r,this.height=i/a,this.setDims(),(null==(e=this._initialOptions)?void 0:e.isCentered)?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(t.hidden=!1),iu(this,od,pd).call(this),eu(this,sd)||(this.parent.addUndoableEditor(this),nu(this,sd,!0)),this._reportTelemetry({action:"inserted_image"}),eu(this,td)&&this.div.setAttribute("aria-description",eu(this,td)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},ud=function(e,t){const{width:n,height:i}=eu(this,Kh);let r=n,a=i,s=eu(this,Kh);for(;r>2*e||a>2*t;){const n=r,i=a;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const o=new OffscreenCanvas(r,a);o.getContext("2d").drawImage(s,0,0,n,i,0,0,r,a),s=o.transferToImageBitmap()}return s},pd=function(){const[e,t]=this.parentDimensions,{width:n,height:i}=this,r=new ff,a=Math.ceil(n*e*r.sx),s=Math.ceil(i*t*r.sy),o=eu(this,nd);if(!o||o.width===a&&o.height===s)return;o.width=a,o.height=s;const c=eu(this,ad)?eu(this,Kh):iu(this,od,ud).call(this,a,s),l=o.getContext("2d");l.filter=this._uiManager.hcmFilter,l.drawImage(c,0,0,c.width,c.height,0,0,a,s)},fd=function(e){if(e){if(eu(this,ad)){const e=this._uiManager.imageManager.getSvgUrl(eu(this,Zh));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=eu(this,Kh));return e.getContext("2d").drawImage(eu(this,Kh),0,0),e.toDataURL()}if(eu(this,ad)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*Qp.PDF_TO_CSS_UNITS),i=Math.round(this.height*t*Qp.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(n,i);return r.getContext("2d").drawImage(eu(this,Kh),0,0,eu(this,Kh).width,eu(this,Kh).height,0,0,n,i),r.transferToImageBitmap()}return structuredClone(eu(this,Kh))},gd=function(e){var t;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,r=e.pageIndex===n,a=((null==(t=e.accessibilityData)?void 0:t.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&a,isSameAltText:a}},Qd(Ly,"_type","stamp"),Qd(Ly,"_editorType",Zu.STAMP);const jy=class e{constructor({uiManager:t,pageIndex:n,div:i,structTreeLayer:r,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:c,viewport:l,l10n:h}){tu(this,Wd),tu(this,md),tu(this,bd,!1),tu(this,yd,null),tu(this,vd,null),tu(this,xd,null),tu(this,wd,new Map),tu(this,_d,!1),tu(this,Dd,!1),tu(this,Ad,!1),tu(this,Td,null),tu(this,Ud,null),tu(this,Ed,null),tu(this,kd,null),tu(this,Cd,null),tu(this,Sd,-1),tu(this,Fd);const d=[...eu(e,Md).values()];if(!e._initialized){e._initialized=!0;for(const e of d)e.initialize(h,t)}t.registerEditorTypes(d),nu(this,Fd,t),this.pageIndex=n,this.div=i,nu(this,md,a),nu(this,yd,s),this.viewport=l,nu(this,Ed,c),this.drawLayer=o,this._structTree=r,eu(this,Fd).addLayer(this)}get isEmpty(){return 0===eu(this,wd).size}get isInvisible(){return this.isEmpty&&eu(this,Fd).getMode()===Zu.NONE}updateToolbar(e){eu(this,Fd).updateToolbar(e)}updateMode(t=eu(this,Fd).getMode()){switch(iu(this,Wd,Od).call(this),t){case Zu.NONE:return this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Zu.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Zu.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),t===Zu.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const i of eu(e,Md).values())n.toggle(`${i._type}Editing`,t===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===(null==(t=eu(this,Ed))?void 0:t.div)}setEditingState(e){eu(this,Fd).setEditingState(e)}addCommands(e){eu(this,Fd).addCommands(e)}cleanUndoStack(e){eu(this,Fd).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;null==(t=eu(this,yd))||t.togglePointerEvents(e)}async enable(){var e;nu(this,Ad,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),null==(e=eu(this,Cd))||e.abort(),nu(this,Cd,null);const t=new Set;for(const i of eu(this,Wd,Id))i.enableEditing(),i.show(!0),i.annotationElementId&&(eu(this,Fd).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));const n=eu(this,yd);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),eu(this,Fd).isDeletedAnnotationElement(i.data.id))continue;if(t.has(i.data.id))continue;const e=await this.deserialize(i);e&&(this.addOrRebuild(e),e.enableEditing())}nu(this,Ad,!1),eu(this,Fd)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var t;if(nu(this,Dd,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),eu(this,Ed)&&!eu(this,Cd)){nu(this,Cd,new AbortController);const e=eu(this,Fd).combinedSignal(eu(this,Cd));eu(this,Ed).div.addEventListener("pointerdown",e=>{const{clientX:t,clientY:n,timeStamp:i}=e;if(i-eu(this,Sd)>500)return void nu(this,Sd,i);nu(this,Sd,-1);const{classList:r}=this.div;r.toggle("getElements",!0);const a=document.elementsFromPoint(t,n);if(r.toggle("getElements",!1),!this.div.contains(a[0]))return;let s;const o=new RegExp(`^${Ku}[0-9]+$`);for(const l of a)if(o.test(l.id)){s=l.id;break}if(!s)return;const c=eu(this,wd).get(s);null===(null==c?void 0:c.annotationElementId)&&(e.stopPropagation(),e.preventDefault(),c.dblclick(e))},{signal:e,capture:!0})}const n=eu(this,yd),i=[];if(n){const e=new Map,r=new Map;for(const n of eu(this,Wd,Id))n.disableEditing(),n.annotationElementId?null===n.serialize()?(r.set(n.annotationElementId,n),null==(t=this.getEditableAnnotation(n.annotationElementId))||t.show(),n.remove()):e.set(n.annotationElementId,n):i.push(n);const a=n.getEditableAnnotations();for(const t of a){const{id:n}=t.data;if(eu(this,Fd).isDeletedAnnotationElement(n)){t.updateEdited({deleted:!0});continue}let i=r.get(n);i?(i.resetAnnotationElement(t),i.show(!1),t.show()):(i=e.get(n),i&&(eu(this,Fd).addChangedExistingAnnotation(i),i.renderAnnotationElement(t)&&i.show(!1)),t.show())}}iu(this,Wd,Od).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const a of eu(e,Md).values())r.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),null==n||n.updateFakeAnnotations(i),nu(this,Dd,!1)}getEditableAnnotation(e){var t;return(null==(t=eu(this,yd))?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){eu(this,Fd).getActive()!==e&&eu(this,Fd).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(null==(e=eu(this,Ed))?void 0:e.div)&&!eu(this,kd)){nu(this,kd,new AbortController);const e=eu(this,Fd).combinedSignal(eu(this,kd));eu(this,Ed).div.addEventListener("pointerdown",iu(this,Wd,Pd).bind(this),{signal:e}),eu(this,Ed).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(null==(e=eu(this,Ed))?void 0:e.div)&&eu(this,kd)&&(eu(this,kd).abort(),nu(this,kd,null),eu(this,Ed).div.classList.remove("highlighting"))}enableClick(){if(eu(this,vd))return;nu(this,vd,new AbortController);const e=eu(this,Fd).combinedSignal(eu(this,vd));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;null==(e=eu(this,vd))||e.abort(),nu(this,vd,null)}attach(e){eu(this,wd).set(e.id,e);const{annotationElementId:t}=e;t&&eu(this,Fd).isDeletedAnnotationElement(t)&&eu(this,Fd).removeDeletedAnnotationElement(e)}detach(e){var t;eu(this,wd).delete(e.id),null==(t=eu(this,md))||t.removePointerInTextLayer(e.contentDiv),!eu(this,Dd)&&e.annotationElementId&&eu(this,Fd).addDeletedAnnotationElement(e)}remove(e){this.detach(e),eu(this,Fd).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(eu(this,Fd).addDeletedAnnotationElement(e),Vf.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null==(t=e.parent)||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),eu(this,Fd).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!eu(this,Ad)),eu(this,Fd).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!eu(this,xd)&&(e._focusEventsAllowed=!1,nu(this,xd,setTimeout(()=>{nu(this,xd,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:eu(this,Fd)._signal}),n.focus())},0))),e._structTreeParentId=null==(t=eu(this,md))?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getEditorByUID(e){for(const t of eu(this,wd).values())if(t.uid===e)return t;return null}getNextId(){return eu(this,Fd).getId()}combinedSignal(e){return eu(this,Fd).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return null==(e=eu(this,Wd,Rd))?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await eu(this,Fd).updateMode(e.mode);const{offsetX:n,offsetY:i}=iu(this,Wd,Nd).call(this),r=this.getNextId(),a=iu(this,Wd,Bd).call(this,{parent:this,id:r,x:n,y:i,uiManager:eu(this,Fd),isCentered:!0,...t});a&&this.add(a)}async deserialize(t){var n;return await(null==(n=eu(e,Md).get(t.annotationType??t.annotationEditorType))?void 0:n.deserialize(t,this,eu(this,Fd)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),r=iu(this,Wd,Bd).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:eu(this,Fd),isCentered:t,...n});return r&&this.add(r),r}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(iu(this,Wd,Nd).call(this),!0,e)}setSelected(e){eu(this,Fd).setSelected(e)}toggleSelected(e){eu(this,Fd).toggleSelected(e)}unselect(e){eu(this,Fd).unselect(e)}pointerup(e){var t;const{isMac:n}=Op.platform;if(0!==e.button||e.ctrlKey&&n)return;if(e.target!==this.div)return;if(!eu(this,_d))return;if(nu(this,_d,!1),(null==(t=eu(this,Wd,Rd))?void 0:t.isDrawer)&&eu(this,Wd,Rd).supportMultipleDrawings)return;if(!eu(this,bd))return void nu(this,bd,!0);const i=eu(this,Fd).getMode();i!==Zu.STAMP&&i!==Zu.SIGNATURE?this.createAndAddNewEditor(e,!1):eu(this,Fd).unselectAll()}pointerdown(e){var t;if(eu(this,Fd).getMode()===Zu.HIGHLIGHT&&this.enableTextSelection(),eu(this,_d))return void nu(this,_d,!1);const{isMac:n}=Op.platform;if(0!==e.button||e.ctrlKey&&n)return;if(e.target!==this.div)return;if(nu(this,_d,!0),null==(t=eu(this,Wd,Rd))?void 0:t.isDrawer)return void this.startDrawingSession(e);const i=eu(this,Fd).getActive();nu(this,bd,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),eu(this,Td))return void eu(this,Wd,Rd).startDrawing(this,eu(this,Fd),!1,e);eu(this,Fd).setCurrentDrawingSession(this),nu(this,Td,new AbortController);const t=eu(this,Fd).combinedSignal(eu(this,Td));this.div.addEventListener("blur",({relatedTarget:e})=>{e&&!this.div.contains(e)&&(nu(this,Ud,null),this.commitOrRemove())},{signal:t}),eu(this,Wd,Rd).startDrawing(this,eu(this,Fd),!1,e)}pause(e){if(e){const{activeElement:e}=document;return void(this.div.contains(e)&&nu(this,Ud,e))}eu(this,Ud)&&setTimeout(()=>{var e;null==(e=eu(this,Ud))||e.focus(),nu(this,Ud,null)},0)}endDrawingSession(e=!1){return eu(this,Td)?(eu(this,Fd).setCurrentDrawingSession(null),eu(this,Td).abort(),nu(this,Td,null),nu(this,Ud,null),eu(this,Wd,Rd).endDrawing(e)):null}findNewParent(e,t,n){const i=eu(this,Fd).findParent(t,n);return null!==i&&i!==this&&(i.changeParent(e),!0)}commitOrRemove(){return!!eu(this,Td)&&(this.endDrawingSession(),!0)}onScaleChanging(){eu(this,Td)&&eu(this,Wd,Rd).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),(null==(e=eu(this,Fd).getActive())?void 0:e.parent)===this&&(eu(this,Fd).commitOrRemove(),eu(this,Fd).setActiveEditor(null)),eu(this,xd)&&(clearTimeout(eu(this,xd)),nu(this,xd,null));for(const n of eu(this,wd).values())null==(t=eu(this,md))||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,eu(this,wd).clear(),eu(this,Fd).removeLayer(this)}render({viewport:e}){this.viewport=e,pf(this.div,e);for(const t of eu(this,Fd).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){eu(this,Fd).commitOrRemove(),iu(this,Wd,Od).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,pf(this.div,{rotation:n}),t!==n)for(const i of eu(this,wd).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return eu(this,Fd).viewParameters.realScale}};md=new WeakMap,bd=new WeakMap,yd=new WeakMap,vd=new WeakMap,xd=new WeakMap,wd=new WeakMap,_d=new WeakMap,Dd=new WeakMap,Ad=new WeakMap,Td=new WeakMap,Ud=new WeakMap,Ed=new WeakMap,kd=new WeakMap,Cd=new WeakMap,Sd=new WeakMap,Fd=new WeakMap,Md=new WeakMap,Wd=new WeakSet,Id=function(){return 0!==eu(this,wd).size?eu(this,wd).values():eu(this,Fd).getEditors(this.pageIndex)},Pd=function(e){eu(this,Fd).unselectAll();const{target:t}=e;if(t===eu(this,Ed).div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&eu(this,Ed).div.contains(t)){const{isMac:t}=Op.platform;if(0!==e.button||e.ctrlKey&&t)return;eu(this,Fd).showAllEditors("highlight",!0,!0),eu(this,Ed).div.classList.add("free"),this.toggleDrawing(),Ty.startHighlighting(this,"ltr"===eu(this,Fd).direction,{target:eu(this,Ed).div,x:e.x,y:e.y}),eu(this,Ed).div.addEventListener("pointerup",()=>{eu(this,Ed).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:eu(this,Fd)._signal}),e.preventDefault()}},Rd=function(){return eu(jy,Md).get(eu(this,Fd).getMode())},Bd=function(e){const t=eu(this,Wd,Rd);return t?new t.prototype.constructor(e):null},Nd=function(){const{x:e,y:t,width:n,height:i}=this.boundingClientRect,r=Math.max(0,e),a=Math.max(0,t),s=(r+Math.min(window.innerWidth,e+n))/2-e,o=(a+Math.min(window.innerHeight,t+i))/2-t,[c,l]=this.viewport.rotation%180==0?[s,o]:[o,s];return{offsetX:c,offsetY:l}},Od=function(){for(const e of eu(this,wd).values())e.isEmpty()&&e.remove()},Qd(jy,"_initialized",!1),tu(jy,Md,new Map([gy,Wy,Ly,Ty,Oy].map(e=>[e._editorType,e])));let zy=jy;const Hy=class e{constructor({pageIndex:e}){tu(this,$d),tu(this,Ld,null),tu(this,jd,new Map),tu(this,zd,new Map),this.pageIndex=e}setParent(e){if(eu(this,Ld)){if(eu(this,Ld)!==e){if(eu(this,jd).size>0)for(const t of eu(this,jd).values())t.remove(),e.append(t);nu(this,Ld,e)}}else nu(this,Ld,e)}static get _svgFactory(){return Cp(this,"_svgFactory",new Pb)}draw(t,n=!1,i=!1){const r=ru(e,Hd)._++,a=iu(this,$d,Gd).call(this),s=e._svgFactory.createElement("defs");a.append(s);const o=e._svgFactory.createElement("path");s.append(o);const c=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke"),n&&eu(this,zd).set(r,o);const l=i?iu(this,$d,Xd).call(this,s,c):null,h=e._svgFactory.createElement("use");return a.append(h),h.setAttribute("href",`#${c}`),this.updateProperties(a,t),eu(this,jd).set(r,a),{id:r,clipPathId:`url(#${l})`}}drawOutline(t,n){const i=ru(e,Hd)._++,r=iu(this,$d,Gd).call(this),a=e._svgFactory.createElement("defs");r.append(a);const s=e._svgFactory.createElement("path");a.append(s);const o=`path_p${this.pageIndex}_${i}`;let c;if(s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke"),n){const t=e._svgFactory.createElement("mask");a.append(t),c=`mask_p${this.pageIndex}_${i}`,t.setAttribute("id",c),t.setAttribute("maskUnits","objectBoundingBox");const n=e._svgFactory.createElement("rect");t.append(n),n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("fill","white");const r=e._svgFactory.createElement("use");t.append(r),r.setAttribute("href",`#${o}`),r.setAttribute("stroke","none"),r.setAttribute("fill","black"),r.setAttribute("fill-rule","nonzero"),r.classList.add("mask")}const l=e._svgFactory.createElement("use");r.append(l),l.setAttribute("href",`#${o}`),c&&l.setAttribute("mask",`url(#${c})`);const h=l.cloneNode();return r.append(h),l.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(r,t),eu(this,jd).set(i,r),i}finalizeDraw(e,t){eu(this,zd).delete(e),this.updateProperties(e,t)}updateProperties(t,n){var i;if(!n)return;const{root:r,bbox:a,rootClass:s,path:o}=n,c="number"==typeof t?eu(this,jd).get(t):t;if(c){if(r&&iu(this,$d,Yd).call(this,c,r),a&&iu(i=e,qd,Vd).call(i,c,a),s){const{classList:e}=c;for(const[t,n]of Object.entries(s))e.toggle(t,n)}if(o){const e=c.firstElementChild.firstElementChild;iu(this,$d,Yd).call(this,e,o)}}}updateParent(e,t){if(t===this)return;const n=eu(this,jd).get(e);n&&(eu(t,Ld).append(n),eu(this,jd).delete(e),eu(t,jd).set(e,n))}remove(e){eu(this,zd).delete(e),null!==eu(this,Ld)&&(eu(this,jd).get(e).remove(),eu(this,jd).delete(e))}destroy(){nu(this,Ld,null);for(const e of eu(this,jd).values())e.remove();eu(this,jd).clear(),eu(this,zd).clear()}};Ld=new WeakMap,jd=new WeakMap,zd=new WeakMap,Hd=new WeakMap,qd=new WeakSet,Vd=function(e,[t,n,i,r]){const{style:a}=e;a.top=100*n+"%",a.left=100*t+"%",a.width=100*i+"%",a.height=100*r+"%"},$d=new WeakSet,Gd=function(){const e=Hy._svgFactory.create(1,1,!0);return eu(this,Ld).append(e),e.setAttribute("aria-hidden",!0),e},Xd=function(e,t){const n=Hy._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const r=Hy._svgFactory.createElement("use");return n.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i},Yd=function(e,t){for(const[n,i]of Object.entries(t))null===i?e.removeAttribute(n):e.setAttribute(n,i)},tu(Hy,qd),tu(Hy,Hd,0);let qy=Hy;function Vy(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}globalThis._pdfjsTestingUtils={HighlightOutliner:xy},globalThis.pdfjsLib={AbortException:Rp,AnnotationEditorLayer:zy,AnnotationEditorParamsType:Qu,AnnotationEditorType:Zu,AnnotationEditorUIManager:Nf,AnnotationLayer:uy,AnnotationMode:Yu,AnnotationType:cp,applyOpacity:function(e,t,n,i){const r=255*(1-(i=Math.min(Math.max(i??1,0),1)));return[e=Math.round(e*i+r),t=Math.round(t*i+r),n=Math.round(n*i+r)]},build:"50cc4adac",ColorPicker:kb,createValidAbsoluteUrl:Ep,CSSConstants:class{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:n}=window.getComputedStyle(e);return e.remove(),Cp(this,"commentForegroundColor",hf(n))}},DOMSVGFactory:Pb,DrawLayer:qy,FeatureTest:Op,fetchData:Jp,findContrastColor:function(e,t){const n=e[0]+256*e[1]+65536*e[2]+16777216*t[0]+4294967296*t[1]+1099511627776*t[2];let i=wf.get(n);if(i)return i;const r=new Float32Array(9),a=r.subarray(0,3),s=r.subarray(3,6);bf(e,s);const o=r.subarray(6,9);bf(t,o);const c=o[2]<.5,l=c?12:4.5;if(s[2]=c?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),xf(s,o,a)<l){let e,t;c?(e=s[2],t=1):(e=0,t=s[2]);const n=.005;for(;t-e>n;){const n=s[2]=(e+t)/2;c===xf(s,o,a)<l?e=n:t=n}s[2]=c?t:e}return yf(s,a),i=jp.makeHexColor(Math.round(255*a[0]),Math.round(255*a[1]),Math.round(255*a[2])),wf.set(n,i),i},getDocument:gb,getFilenameFromUrl:function(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(e,t="document.pdf"){if("string"!=typeof e)return t;if(nf(e))return Ap('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(e=>{try{return new URL(e)}catch{try{return new URL(decodeURIComponent(e))}catch{try{return new URL(e,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(e),"https://foo.bar")}catch{return null}}}}})(e);if(!n)return t;const i=e=>{try{let t=decodeURIComponent(e);return t.includes("/")?(t=t.split("/").at(-1),t.test(/^\.pdf$/i)?t:e):t}catch{return e}},r=/\.pdf$/i,a=n.pathname.split("/").at(-1);if(r.test(a))return i(a);if(n.searchParams.size>0){const e=Array.from(n.searchParams.values()).reverse();for(const n of e)if(r.test(n))return i(n);const t=Array.from(n.searchParams.keys()).reverse();for(const n of t)if(r.test(n))return i(n)}if(n.hash){const e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(e)return i(e[0])}return t},getRGB:hf,getUuid:qp,getXfaPageViewport:function(e,{scale:t=1,rotation:n=0}){const{width:i,height:r}=e.attributes.style,a=[0,0,parseInt(i),parseInt(r)];return new ef({viewBox:a,userUnit:1,scale:t,rotation:n})},GlobalWorkerOptions:Nm,ImageKind:op,InvalidPDFException:Wp,isDataScheme:nf,isPdfFile:rf,isValidExplicitDest:pg,MathClamp:$p,noContextMenu:of,normalizeUnicode:function(e){return zp||(zp=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Hp=new Map([["","t"]])),e.replaceAll(zp,(e,t,n)=>t?t.normalize("NFKC"):Hp.get(n))},OPS:gp,OutputScale:ff,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:yb,PDFDateString:lf,PDFWorker:_b,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:Qp,RenderingCancelledException:tf,renderRichText:_f,ResponseException:Ip,setLayerDimensions:pf,shadow:Cp,SignatureExtractor:Py,stopEvent:cf,SupportedImageMimeTypes:gf,TextLayer:fb,TouchManager:Hf,updateUrlHash:kp,Util:jp,VerbosityLevel:fp,version:"5.4.530",XfaLayer:Yp};var $y={exports:{}};
/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/$y.exports=function e(t,n,i){function r(s,o){if(!n[s]){if(!t[s]){if(!o&&Vy)return Vy(s);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return r(t[s][1][e]||e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var a=Vy,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(e,t,n){var i=e("./utils"),r=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,s,o,c,l,h=[],d=0,u=e.length,p=u,f="string"!==i.getTypeOf(e);d<e.length;)p=u-d,r=f?(t=e[d++],n=d<u?e[d++]:0,d<u?e[d++]:0):(t=e.charCodeAt(d++),n=d<u?e.charCodeAt(d++):0,d<u?e.charCodeAt(d++):0),s=t>>2,o=(3&t)<<4|n>>4,c=1<p?(15&n)<<2|r>>6:64,l=2<p?63&r:64,h.push(a.charAt(s)+a.charAt(o)+a.charAt(c)+a.charAt(l));return h.join("")},n.decode=function(e){var t,n,i,s,o,c,l=0,h=0,d="data:";if(e.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var u,p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&p--,e.charAt(e.length-2)===a.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=r.uint8array?new Uint8Array(0|p):new Array(0|p);l<e.length;)t=a.indexOf(e.charAt(l++))<<2|(s=a.indexOf(e.charAt(l++)))>>4,n=(15&s)<<4|(o=a.indexOf(e.charAt(l++)))>>2,i=(3&o)<<6|(c=a.indexOf(e.charAt(l++))),u[h++]=t,64!==o&&(u[h++]=n),64!==c&&(u[h++]=i);return u}},{"./support":30,"./utils":32}],2:[function(e,t,n){var i=e("./external"),r=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function o(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}o.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new s("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},t.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var i=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var a=r,s=i+n;e^=-1;for(var o=i;o<s;o++)e=e>>>8^a[255&(e^t[o])];return-1^e}(0|t,e,e.length,0):function(e,t,n,i){var a=r,s=i+n;e^=-1;for(var o=i;o<s;o++)e=e>>>8^a[255&(e^t.charCodeAt(o))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var i=null;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),a=e("./utils"),s=e("./stream/GenericWorker"),o=i?"uint8array":"array";function c(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",a.inherits(c,s),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(o,e.data),!1)},c.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c("Deflate",e)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){function i(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}function r(e,t,n,r,s,h){var d,u,p=e.file,f=e.compression,g=h!==o.utf8encode,m=a.transformTo("string",h(p.name)),b=a.transformTo("string",o.utf8encode(p.name)),y=p.comment,v=a.transformTo("string",h(y)),x=a.transformTo("string",o.utf8encode(y)),w=b.length!==p.name.length,_=x.length!==y.length,D="",A="",T="",U=p.dir,E=p.date,k={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(k.crc32=e.crc32,k.compressedSize=e.compressedSize,k.uncompressedSize=e.uncompressedSize);var C=0;t&&(C|=8),g||!w&&!_||(C|=2048);var S,F,M,W=0,I=0;U&&(W|=16),"UNIX"===s?(I=798,W|=(S=p.unixPermissions,F=U,M=S,S||(M=F?16893:33204),(65535&M)<<16)):(I=20,W|=function(e){return 63&(e||0)}(p.dosPermissions)),d=E.getUTCHours(),d<<=6,d|=E.getUTCMinutes(),d<<=5,d|=E.getUTCSeconds()/2,u=E.getUTCFullYear()-1980,u<<=4,u|=E.getUTCMonth()+1,u<<=5,u|=E.getUTCDate(),w&&(A=i(1,1)+i(c(m),4)+b,D+="up"+i(A.length,2)+A),_&&(T=i(1,1)+i(c(v),4)+x,D+="uc"+i(T.length,2)+T);var P="";return P+="\n\0",P+=i(C,2),P+=f.magic,P+=i(d,2),P+=i(u,2),P+=i(k.crc32,4),P+=i(k.compressedSize,4),P+=i(k.uncompressedSize,4),P+=i(m.length,2),P+=i(D.length,2),{fileRecord:l.LOCAL_FILE_HEADER+P+m+D,dirRecord:l.CENTRAL_FILE_HEADER+i(I,2)+P+i(v.length,2)+"\0\0\0\0"+i(W,4)+i(r,4)+m+D+v}}var a=e("../utils"),s=e("../stream/GenericWorker"),o=e("../utf8"),c=e("../crc32"),l=e("../signature");function h(e,t,n,i){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,s),h.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},h.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=r(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(e){this.accumulate=!1;var t,n=this.streamFiles&&!e.file.dir,a=r(e,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),n)this.push({data:(t=e,l.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n,r,s,o,c,h,d=this.bytesWritten-e,u=(n=this.dirRecords.length,r=d,s=e,o=this.zipComment,c=this.encodeFileName,h=a.transformTo("string",c(o)),l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(n,2)+i(n,2)+i(r,4)+i(s,4)+i(h.length,2)+h);this.push({data:u,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},h.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(e){var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(i){}return!0},h.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var a=new r(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach(function(e,n){s++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),o=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,l=n.date;n._compressWorker(r,o).withStreamInfo("file",{name:e,dir:c,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)}),a.entriesCount=s}catch(o){a.error(o)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.10.1",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var i=e("./utils"),r=e("./external"),a=e("./utf8"),s=e("./zipEntries"),o=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function l(e){return new r.Promise(function(t,n){var i=e.decompressed.getContentWorker().pipe(new o);i.on("error",function(e){n(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new s(t);return n.load(e),n}).then(function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var a=0;a<i.length;a++)n.push(l(i[a]));return r.Promise.all(n)}).then(function(e){for(var r=e.shift(),a=r.files,s=0;s<a.length;s++){var o=a[s],c=o.fileNameStr,l=i.resolve(o.fileNameStr);n.file(l,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders}),o.dir||(n.file(l).unsafeOriginalName=c)}return r.zipComment.length&&(n.comment=r.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var i=e("../utils"),r=e("../stream/GenericWorker");function a(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(a,r),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",function(e,t){r.push(e)||r._helper.pause(),n&&n(t)}).on("error",function(e){r.emit("error",e)}).on("end",function(){r.push(null)})}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){function i(e,t,n){var i,r=a.getTypeOf(t),o=a.extend(n||{},c);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(e=g(e)),o.createFolders&&(i=f(e))&&m.call(this,i,!0);var d="string"===r&&!1===o.binary&&!1===o.base64;n&&void 0!==n.binary||(o.binary=!d),(t instanceof l&&0===t.uncompressedSize||o.dir||!t||0===t.length)&&(o.base64=!1,o.binary=!0,t="",o.compression="STORE",r="string");var b=null;b=t instanceof l||t instanceof s?t:u.isNode&&u.isStream(t)?new p(e,t):a.prepareContent(e,t,o.binary,o.optimizedBinaryString,o.base64);var y=new h(e,b,o);this.files[e]=y}var r=e("./utf8"),a=e("./utils"),s=e("./stream/GenericWorker"),o=e("./stream/StreamHelper"),c=e("./defaults"),l=e("./compressedObject"),h=e("./zipObject"),d=e("./generate"),u=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:c.createFolders,e=g(e),this.files[e]||i.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function b(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i)},filter:function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(i)}),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,i.call(this,e,t,n),this;if(b(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(b(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=this.root+e,n=m.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";t=d.generateWorker(this,n,i)}catch(c){(t=new s("error")).error(c)}return new o(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===i&&this.data[a+3]===r)return a-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&i===a[2]&&r===a[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var i=e("../utils"),r=e("../support"),a=e("./ArrayReader"),s=e("./StringReader"),o=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new o(e):r.uint8array?new c(i.transformTo("uint8array",e)):new a(i.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){var i=e("./GenericWorker"),r=e("../utils");function a(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(a,i),a.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var i=e("./GenericWorker"),r=e("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,i),a.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var i=e("../utils"),r=e("./GenericWorker");function a(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(a,r),a.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var i=e("../utils"),r=e("./GenericWorker");function a(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}i.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){var i=e("../utils"),r=e("./ConvertWorker"),a=e("./GenericWorker"),s=e("../base64"),o=e("../support"),c=e("../external"),l=null;if(o.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(u){}function h(e,t){return new c.Promise(function(n,r){var a=[],o=e._internalType,c=e._outputType,l=e._mimeType;e.on("data",function(e,n){a.push(e),t&&t(n)}).on("error",function(e){a=[],r(e)}).on("end",function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(c,function(e,t){var n,i=0,r=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(a),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(o,a),l);n(e)}catch(t){r(t)}a=[]}).resume()})}function d(e,t,n){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=n,i.checkSupport(s),this._worker=e.pipe(new r(s)),e.lock()}catch(o){this._worker=new a("error"),this._worker.error(o)}}d.prototype={accumulate:function(e){return h(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,function(e){t.call(n,e.data,e.meta)}):this._worker.on(e,function(){i.delay(t,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(a){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(s){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(a){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var i=e("./utils"),r=e("./support"),a=e("./nodejsUtils"),s=e("./stream/GenericWorker"),o=new Array(256),c=0;c<256;c++)o[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(){s.call(this,"utf-8 decode"),this.leftOver=null}function h(){s.call(this,"utf-8 encode")}o[254]=o[254]=1,n.utf8encode=function(e){return r.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,i,a,s,o=e.length,c=0;for(a=0;a<o;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(c):new Array(c),a=s=0;s<c;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t}(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,a,s=e.length,c=new Array(2*s);for(t=n=0;t<s;)if((r=e[t++])<128)c[n++]=r;else if(4<(a=o[r]))c[n++]=65533,t+=a-1;else{for(r&=2===a?31:3===a?15:7;1<a&&t<s;)r=r<<6|63&e[t++],a--;1<a?c[n++]=65533:r<65536?c[n++]=r:(r-=65536,c[n++]=55296|r>>10&1023,c[n++]=56320|1023&r)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),i.applyFromCharCode(c)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(l,s),l.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}(t),c=t;s!==t.length&&(r.uint8array?(c=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(c=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,i.inherits(h,s),h.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var i=e("./support"),r=e("./base64"),a=e("./nodejsUtils"),s=e("./external");function o(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(t)}catch(a){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,n){var i=[],r=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;r<a;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,a)))):i.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,a)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=l.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=l.applyCanBeUsed.nodebuffer),r)for(;1<t;)try{return l.stringifyByChunk(e,i,t)}catch(a){t=Math.floor(t/2)}return l.stringifyByChar(e)}function d(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=h;var u={};u.string={string:o,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return u.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,a.allocBuffer(e.length))}},u.array={string:h,array:o,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},u.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return d(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:o,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},u.uint8array={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:o,nodebuffer:function(e){return a.newBufferFrom(e)}},u.nodebuffer={string:h,array:function(e){return d(e,new Array(e.length))},arraybuffer:function(e){return u.nodebuffer.uint8array(e).buffer},uint8array:function(e){return d(e,new Uint8Array(e.length))},nodebuffer:o},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return u[i][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],i=0;i<t.length;i++){var r=t[i];"."===r||""===r&&0!==i&&i!==t.length-1||(".."===r?n.pop():n.push(r))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&a.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){setImmediate(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,a,o,l){return s.Promise.resolve(t).then(function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)}):e}).then(function(t){var h,d=n.getTypeOf(t);return d?("arraybuffer"===d?t=n.transformTo("uint8array",t):"string"===d&&(l?t=r.decode(t):a&&!0!==o&&(t=c(h=t,i.uint8array?new Uint8Array(h.length):new Array(h.length)))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){var i=e("./reader/readerFor"),r=e("./utils"),a=e("./signature"),s=e("./zipEntry"),o=e("./support");function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?"uint8array":"array",n=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(0<i)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var i=e("./reader/readerFor"),r=e("./utils"),a=e("./compressedObject"),s=e("./crc32"),o=e("./utf8"),c=e("./compressions"),l=e("./support");function h(e,t){this.options=e,this.loadOptions=t}h.prototype={isEncrypted:function(){return!(1&~this.bitFlag)},useUTF8:function(){return!(2048&~this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(Object.prototype.hasOwnProperty.call(c,t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(r)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var a=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||s(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||s(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function i(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),s=e("./utf8"),o=e("./compressedObject"),c=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(t=t.pipe(new s.Utf8EncodeWorker)),!a&&i&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(o){(t=new c("error")).error(o)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new s.Utf8EncodeWorker)),o.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<l.length;d++)i.prototype[l[d]]=h;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var a=0,s=new r(h),o=e.document.createTextNode("");s.observe(o,{characterData:!0}),n=function(){o.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){h(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(h,0)};else{var c=new e.MessageChannel;c.port1.onmessage=h,n=function(){c.port2.postMessage(0)}}var l=[];function h(){var e,t;i=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}i=!1}t.exports=function(e){1!==l.push(e)||i||n()}}).call(this,void 0!==hu?hu:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){var i=e("immediate");function r(){}var a={},s=["REJECTED"],o=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==r&&p(this,e)}function h(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){i(function(){var i;try{i=t(n)}catch(r){return a.reject(e,r)}i===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,i)})}function u(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function i(t){n||(n=!0,a.reject(e,t))}function r(t){n||(n=!0,a.resolve(e,t))}var s=f(function(){t(r,i)});"error"===s.status&&i(s.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(r);return this.state!==c?d(n,this.state===o?e:t,this.outcome):this.queue.push(new h(n,e,t)),n},h.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){a.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=f(u,t);if("error"===n.status)return a.reject(e,n.value);var i=n.value;if(i)p(e,i);else{e.state=o,e.outcome=t;for(var r=-1,s=e.queue.length;++r<s;)e.queue[r].callFulfilled(t)}return e},a.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:a.resolve(new this(r),e)},l.reject=function(e){var t=new this(r);return a.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var s=new Array(n),o=0,c=-1,l=new this(r);++c<n;)h(e[c],c);return l;function h(e,r){t.resolve(e).then(function(e){s[r]=e,++o!==n||i||(i=!0,a.resolve(l,s))},function(e){i||(i=!0,a.reject(l,e))})}},l.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var s,o=-1,c=new this(r);++o<n;)s=e[o],t.resolve(s).then(function(e){i||(i=!0,a.resolve(c,e))},function(e){i||(i=!0,a.reject(c,e))});return c}},{immediate:36}],38:[function(e,t,n){var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var i=e("./zlib/deflate"),r=e("./utils/common"),a=e("./utils/strings"),s=e("./zlib/messages"),o=e("./zlib/zstream"),c=Object.prototype.toString,l=0,h=-1,d=0,u=8;function p(e){if(!(this instanceof p))return new p(e);this.options=r.assign({level:h,method:u,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==l)throw new Error(s[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var f;if(f="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,f))!==l)throw new Error(s[n]);this._dict_set=!0}}function f(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}p.prototype.push=function(e,t){var n,s,o=this.strm,h=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=a.string2buf(e):"[object ArrayBuffer]"===c.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new r.Buf8(h),o.next_out=0,o.avail_out=h),1!==(n=i.deflate(o,s))&&n!==l)return this.onEnd(n),!(this.ended=!0);0!==o.avail_out&&(0!==o.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(a.buf2binstring(r.shrinkBuf(o.output,o.next_out))):this.onData(r.shrinkBuf(o.output,o.next_out)))}while((0<o.avail_in||0===o.avail_out)&&1!==n);return 4===s?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==s||(this.onEnd(l),!(o.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=p,n.deflate=f,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,f(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var i=e("./zlib/inflate"),r=e("./utils/common"),a=e("./utils/strings"),s=e("./zlib/constants"),o=e("./zlib/messages"),c=e("./zlib/zstream"),l=e("./zlib/gzheader"),h=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&!(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(o[n]);this.header=new l,i.inflateGetHeader(this.strm,this.header)}function u(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}d.prototype.push=function(e,t){var n,o,c,l,d,u,p=this.strm,f=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?p.input=a.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(f),p.next_out=0,p.avail_out=f),(n=i.inflate(p,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&g&&(u="string"==typeof g?a.string2buf(g):"[object ArrayBuffer]"===h.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,u)),n===s.Z_BUF_ERROR&&!0===m&&(n=s.Z_OK,m=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&n!==s.Z_STREAM_END&&(0!==p.avail_in||o!==s.Z_FINISH&&o!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(c=a.utf8border(p.output,p.next_out),l=p.next_out-c,d=a.buf2string(p.output,c),p.next_out=l,p.avail_out=f-l,l&&r.arraySet(p.output,p.output,c,l,0),this.onData(d)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((0<p.avail_in||0===p.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(o=s.Z_FINISH),o===s.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):o!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(p.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=u,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},n.ungzip=u},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){var t,n,i,r,a,s;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(s=new Uint8Array(i),t=r=0,n=e.length;t<n;t++)a=e[t],s.set(a,r),r+=a.length;return s}},a={arraySet:function(e,t,n,i,r){for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(i)},{}],42:[function(e,t,n){var i=e("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(l){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){a=!1}for(var s=new i.Buf8(256),o=0;o<256;o++)s[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function c(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,r,a,s,o=e.length,c=0;for(a=0;a<o;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(c),a=s=0;s<c;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<o&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,a,o=t||e.length,l=new Array(2*o);for(n=i=0;n<o;)if((r=e[n++])<128)l[i++]=r;else if(4<(a=s[r]))l[i++]=65533,n+=a-1;else{for(r&=2===a?31:3===a?15:7;1<a&&n<o;)r=r<<6|63&e[n++],a--;1<a?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return c(l,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){t.exports=function(e,t,n,i){for(var r=65535&e,a=e>>>16&65535,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;a=a+(r=r+t[i++]|0)|0,--s;);r%=65521,a%=65521}return r|a<<16}},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var a=i,s=r+n;e^=-1;for(var o=r;o<s;o++)e=e>>>8^a[255&(e^t[o])];return-1^e}},{}],46:[function(e,t,n){var i,r=e("../utils/common"),a=e("./trees"),s=e("./adler32"),o=e("./crc32"),c=e("./messages"),l=0,h=4,d=0,u=-2,p=-1,f=4,g=2,m=8,b=9,y=286,v=30,x=19,w=2*y+1,_=15,D=3,A=258,T=A+D+1,U=42,E=113,k=1,C=2,S=3,F=4;function M(e,t){return e.msg=c[t],t}function W(e){return(e<<1)-(4<e?9:0)}function I(e){for(var t=e.length;0<=--t;)e[t]=0}function P(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function R(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,P(e.strm)}function B(e,t){e.pending_buf[e.pending++]=t}function N(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function O(e,t){var n,i,r=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match,c=e.strstart>e.w_size-T?e.strstart-(e.w_size-T):0,l=e.window,h=e.w_mask,d=e.prev,u=e.strstart+A,p=l[a+s-1],f=l[a+s];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do{if(l[(n=t)+s]===f&&l[n+s-1]===p&&l[n]===l[a]&&l[++n]===l[a+1]){a+=2,n++;do{}while(l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&a<u);if(i=A-(u-a),a=u-A,s<i){if(e.match_start=t,o<=(s=i))break;p=l[a+s-1],f=l[a+s]}}}while((t=d[t&h])>c&&0!=--r);return s<=e.lookahead?s:e.lookahead}function L(e){var t,n,i,a,c,l,h,d,u,p,f=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-T)){for(r.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=n=e.hash_size;i=e.head[--t],e.head[t]=f<=i?i-f:0,--n;);for(t=n=f;i=e.prev[--t],e.prev[t]=f<=i?i-f:0,--n;);a+=f}if(0===e.strm.avail_in)break;if(l=e.strm,h=e.window,d=e.strstart+e.lookahead,p=void 0,(u=a)<(p=l.avail_in)&&(p=u),n=0===p?0:(l.avail_in-=p,r.arraySet(h,l.input,l.next_in,p,d),1===l.state.wrap?l.adler=s(l.adler,h,p,d):2===l.state.wrap&&(l.adler=o(l.adler,h,p,d)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=D)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+D-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<D)););}while(e.lookahead<T&&0!==e.strm.avail_in)}function j(e,t){for(var n,i;;){if(e.lookahead<T){if(L(e),e.lookahead<T&&t===l)return k;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-T&&(e.match_length=O(e,n)),e.match_length>=D)if(i=a._tr_tally(e,e.strstart-e.match_start,e.match_length-D),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=D){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(R(e,!1),0===e.strm.avail_out))return k}return e.insert=e.strstart<D-1?e.strstart:D-1,t===h?(R(e,!0),0===e.strm.avail_out?S:F):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?k:C}function z(e,t){for(var n,i,r;;){if(e.lookahead<T){if(L(e),e.lookahead<T&&t===l)return k;if(0===e.lookahead)break}if(n=0,e.lookahead>=D&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=D-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-T&&(e.match_length=O(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===D&&4096<e.strstart-e.match_start)&&(e.match_length=D-1)),e.prev_length>=D&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-D,i=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-D),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+D-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=D-1,e.strstart++,i&&(R(e,!1),0===e.strm.avail_out))return k}else if(e.match_available){if((i=a._tr_tally(e,0,e.window[e.strstart-1]))&&R(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return k}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<D-1?e.strstart:D-1,t===h?(R(e,!0),0===e.strm.avail_out?S:F):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?k:C}function H(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=m,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*w),this.dyn_dtree=new r.Buf16(2*(2*v+1)),this.bl_tree=new r.Buf16(2*(2*x+1)),I(this.dyn_ltree),I(this.dyn_dtree),I(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(_+1),this.heap=new r.Buf16(2*y+1),I(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*y+1),I(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function V(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=g,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?U:E,e.adler=2===t.wrap?0:1,t.last_flush=l,a._tr_init(t),d):M(e,u)}function $(e){var t,n=V(e);return n===d&&((t=e.state).window_size=2*t.w_size,I(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=D-1,t.match_available=0,t.ins_h=0),n}function G(e,t,n,i,a,s){if(!e)return u;var o=1;if(t===p&&(t=6),i<0?(o=0,i=-i):15<i&&(o=2,i-=16),a<1||b<a||n!==m||i<8||15<i||t<0||9<t||s<0||f<s)return M(e,u);8===i&&(i=9);var c=new q;return(e.state=c).strm=e,c.wrap=o,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+D-1)/D),c.window=new r.Buf8(2*c.w_size),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=s,c.method=n,$(e)}i=[new H(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(L(e),0===e.lookahead&&t===l)return k;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,R(e,!1),0===e.strm.avail_out))return k;if(e.strstart-e.block_start>=e.w_size-T&&(R(e,!1),0===e.strm.avail_out))return k}return e.insert=0,t===h?(R(e,!0),0===e.strm.avail_out?S:F):(e.strstart>e.block_start&&(R(e,!1),e.strm.avail_out),k)}),new H(4,4,8,4,j),new H(4,5,16,8,j),new H(4,6,32,32,j),new H(4,4,16,16,z),new H(8,16,32,32,z),new H(8,16,128,128,z),new H(8,32,128,256,z),new H(32,128,258,1024,z),new H(32,258,258,4096,z)],n.deflateInit=function(e,t){return G(e,t,m,15,8,0)},n.deflateInit2=G,n.deflateReset=$,n.deflateResetKeep=V,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,d):u},n.deflate=function(e,t){var n,r,s,c;if(!e||!e.state||5<t||t<0)return e?M(e,u):u;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&t!==h)return M(e,0===e.avail_out?-5:u);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===U)if(2===r.wrap)e.adler=0,B(r,31),B(r,139),B(r,8),r.gzhead?(B(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),B(r,255&r.gzhead.time),B(r,r.gzhead.time>>8&255),B(r,r.gzhead.time>>16&255),B(r,r.gzhead.time>>24&255),B(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),B(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(B(r,255&r.gzhead.extra.length),B(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=o(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(B(r,0),B(r,0),B(r,0),B(r,0),B(r,0),B(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),B(r,3),r.status=E);else{var p=m+(r.w_bits-8<<4)<<8;p|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(p|=32),p+=31-p%31,r.status=E,N(r,p),0!==r.strstart&&(N(r,e.adler>>>16),N(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),P(e),s=r.pending,r.pending!==r.pending_buf_size));)B(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),P(e),s=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,B(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),0===c&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),P(e),s=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,B(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>s&&(e.adler=o(e.adler,r.pending_buf,r.pending-s,s)),0===c&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&P(e),r.pending+2<=r.pending_buf_size&&(B(r,255&e.adler),B(r,e.adler>>8&255),e.adler=0,r.status=E)):r.status=E),0!==r.pending){if(P(e),0===e.avail_out)return r.last_flush=-1,d}else if(0===e.avail_in&&W(t)<=W(n)&&t!==h)return M(e,-5);if(666===r.status&&0!==e.avail_in)return M(e,-5);if(0!==e.avail_in||0!==r.lookahead||t!==l&&666!==r.status){var f=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(L(e),0===e.lookahead)){if(t===l)return k;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(R(e,!1),0===e.strm.avail_out))return k}return e.insert=0,t===h?(R(e,!0),0===e.strm.avail_out?S:F):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?k:C}(r,t):3===r.strategy?function(e,t){for(var n,i,r,s,o=e.window;;){if(e.lookahead<=A){if(L(e),e.lookahead<=A&&t===l)return k;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=D&&0<e.strstart&&(i=o[r=e.strstart-1])===o[++r]&&i===o[++r]&&i===o[++r]){s=e.strstart+A;do{}while(i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&i===o[++r]&&r<s);e.match_length=A-(s-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=D?(n=a._tr_tally(e,1,e.match_length-D),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(R(e,!1),0===e.strm.avail_out))return k}return e.insert=0,t===h?(R(e,!0),0===e.strm.avail_out?S:F):e.last_lit&&(R(e,!1),0===e.strm.avail_out)?k:C}(r,t):i[r.level].func(r,t);if(f!==S&&f!==F||(r.status=666),f===k||f===S)return 0===e.avail_out&&(r.last_flush=-1),d;if(f===C&&(1===t?a._tr_align(r):5!==t&&(a._tr_stored_block(r,0,0,!1),3===t&&(I(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),P(e),0===e.avail_out))return r.last_flush=-1,d}return t!==h?d:r.wrap<=0?1:(2===r.wrap?(B(r,255&e.adler),B(r,e.adler>>8&255),B(r,e.adler>>16&255),B(r,e.adler>>24&255),B(r,255&e.total_in),B(r,e.total_in>>8&255),B(r,e.total_in>>16&255),B(r,e.total_in>>24&255)):(N(r,e.adler>>>16),N(r,65535&e.adler)),P(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?d:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==U&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?M(e,u):(e.state=null,t===E?M(e,-3):d):u},n.deflateSetDictionary=function(e,t){var n,i,a,o,c,l,h,p,f=t.length;if(!e||!e.state)return u;if(2===(o=(n=e.state).wrap)||1===o&&n.status!==U||n.lookahead)return u;for(1===o&&(e.adler=s(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===o&&(I(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new r.Buf8(n.w_size),r.arraySet(p,t,f-n.w_size,n.w_size,0),t=p,f=n.w_size),c=e.avail_in,l=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,L(n);n.lookahead>=D;){for(i=n.strstart,a=n.lookahead-(D-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+D-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--a;);n.strstart=i,n.lookahead=D-1,L(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=D-1,n.match_available=0,e.next_in=l,e.input=h,e.avail_in=c,n.wrap=o,d},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){t.exports=function(e,t){var n,i,r,a,s,o,c,l,h,d,u,p,f,g,m,b,y,v,x,w,_,D,A,T,U;n=e.state,i=e.next_in,T=e.input,r=i+(e.avail_in-5),a=e.next_out,U=e.output,s=a-(t-e.avail_out),o=a+(e.avail_out-257),c=n.dmax,l=n.wsize,h=n.whave,d=n.wnext,u=n.window,p=n.hold,f=n.bits,g=n.lencode,m=n.distcode,b=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{f<15&&(p+=T[i++]<<f,f+=8,p+=T[i++]<<f,f+=8),v=g[p&b];t:for(;;){if(p>>>=x=v>>>24,f-=x,0==(x=v>>>16&255))U[a++]=65535&v;else{if(!(16&x)){if(!(64&x)){v=g[(65535&v)+(p&(1<<x)-1)];continue t}if(32&x){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&v,(x&=15)&&(f<x&&(p+=T[i++]<<f,f+=8),w+=p&(1<<x)-1,p>>>=x,f-=x),f<15&&(p+=T[i++]<<f,f+=8,p+=T[i++]<<f,f+=8),v=m[p&y];n:for(;;){if(p>>>=x=v>>>24,f-=x,!(16&(x=v>>>16&255))){if(!(64&x)){v=m[(65535&v)+(p&(1<<x)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(_=65535&v,f<(x&=15)&&(p+=T[i++]<<f,(f+=8)<x&&(p+=T[i++]<<f,f+=8)),c<(_+=p&(1<<x)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=x,f-=x,(x=a-s)<_){if(h<(x=_-x)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(A=u,(D=0)===d){if(D+=l-x,x<w){for(w-=x;U[a++]=u[D++],--x;);D=a-_,A=U}}else if(d<x){if(D+=l+d-x,(x-=d)<w){for(w-=x;U[a++]=u[D++],--x;);if(D=0,d<w){for(w-=x=d;U[a++]=u[D++],--x;);D=a-_,A=U}}}else if(D+=d-x,x<w){for(w-=x;U[a++]=u[D++],--x;);D=a-_,A=U}for(;2<w;)U[a++]=A[D++],U[a++]=A[D++],U[a++]=A[D++],w-=3;w&&(U[a++]=A[D++],1<w&&(U[a++]=A[D++]))}else{for(D=a-_;U[a++]=U[D++],U[a++]=U[D++],U[a++]=U[D++],2<(w-=3););w&&(U[a++]=U[D++],1<w&&(U[a++]=U[D++]))}break}}break}}while(i<r&&a<o);i-=w=f>>3,p&=(1<<(f-=w<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=a<o?o-a+257:257-(a-o),n.hold=p,n.bits=f}},{}],49:[function(e,t,n){var i=e("../utils/common"),r=e("./adler32"),a=e("./crc32"),s=e("./inffast"),o=e("./inftrees"),c=1,l=2,h=0,d=-2,u=1,p=852,f=592;function g(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function m(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=u,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(p),t.distcode=t.distdyn=new i.Buf32(f),t.sane=1,t.back=-1,h):d}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,b(e)):d}function v(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,y(e))):d}function x(e,t){var n,i;return e?(i=new m,(e.state=i).window=null,(n=v(e,t))!==h&&(e.state=null),n):d}var w,_,D=!0;function A(e){if(D){var t;for(w=new i.Buf32(512),_=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(c,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(l,e.lens,0,32,_,0,e.work,{bits:5}),D=!1}e.lencode=w,e.lenbits=9,e.distcode=_,e.distbits=5}function T(e,t,n,r){var a,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),r>=s.wsize?(i.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(r<(a=s.wsize-s.wnext)&&(a=r),i.arraySet(s.window,t,n-r,a,s.wnext),(r-=a)?(i.arraySet(s.window,t,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0}n.inflateReset=y,n.inflateReset2=v,n.inflateResetKeep=b,n.inflateInit=function(e){return x(e,15)},n.inflateInit2=x,n.inflate=function(e,t){var n,p,f,m,b,y,v,x,w,_,D,U,E,k,C,S,F,M,W,I,P,R,B,N,O=0,L=new i.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(n=e.state).mode&&(n.mode=13),b=e.next_out,f=e.output,v=e.avail_out,m=e.next_in,p=e.input,y=e.avail_in,x=n.hold,w=n.bits,_=y,D=v,R=h;e:for(;;)switch(n.mode){case u:if(0===n.wrap){n.mode=13;break}for(;w<16;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}if(2&n.wrap&&35615===x){L[n.check=0]=255&x,L[1]=x>>>8&255,n.check=a(n.check,L,2,0),w=x=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&x)<<8)+(x>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&x)){e.msg="unknown compression method",n.mode=30;break}if(w-=4,P=8+(15&(x>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=512&x?10:12,w=x=0;break;case 2:for(;w<16;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}if(n.flags=x,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=x>>8&1),512&n.flags&&(L[0]=255&x,L[1]=x>>>8&255,n.check=a(n.check,L,2,0)),w=x=0,n.mode=3;case 3:for(;w<32;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}n.head&&(n.head.time=x),512&n.flags&&(L[0]=255&x,L[1]=x>>>8&255,L[2]=x>>>16&255,L[3]=x>>>24&255,n.check=a(n.check,L,4,0)),w=x=0,n.mode=4;case 4:for(;w<16;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}n.head&&(n.head.xflags=255&x,n.head.os=x>>8),512&n.flags&&(L[0]=255&x,L[1]=x>>>8&255,n.check=a(n.check,L,2,0)),w=x=0,n.mode=5;case 5:if(1024&n.flags){for(;w<16;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}n.length=x,n.head&&(n.head.extra_len=x),512&n.flags&&(L[0]=255&x,L[1]=x>>>8&255,n.check=a(n.check,L,2,0)),w=x=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(U=n.length)&&(U=y),U&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,p,m,U,P)),512&n.flags&&(n.check=a(n.check,p,U,m)),y-=U,m+=U,n.length-=U),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(U=0;P=p[m+U++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P)),P&&U<y;);if(512&n.flags&&(n.check=a(n.check,p,U,m)),y-=U,m+=U,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(U=0;P=p[m+U++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P)),P&&U<y;);if(512&n.flags&&(n.check=a(n.check,p,U,m)),y-=U,m+=U,P)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;w<16;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}if(x!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}w=x=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;w<32;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}e.adler=n.check=g(x),w=x=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=b,e.avail_out=v,e.next_in=m,e.avail_in=y,n.hold=x,n.bits=w,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){x>>>=7&w,w-=7&w,n.mode=27;break}for(;w<3;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}switch(n.last=1&x,w-=1,3&(x>>>=1)){case 0:n.mode=14;break;case 1:if(A(n),n.mode=20,6!==t)break;x>>>=2,w-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}x>>>=2,w-=2;break;case 14:for(x>>>=7&w,w-=7&w;w<32;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}if((65535&x)!=(x>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&x,w=x=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(U=n.length){if(y<U&&(U=y),v<U&&(U=v),0===U)break e;i.arraySet(f,p,m,U,b),y-=U,m+=U,v-=U,b+=U,n.length-=U;break}n.mode=12;break;case 17:for(;w<14;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}if(n.nlen=257+(31&x),x>>>=5,w-=5,n.ndist=1+(31&x),x>>>=5,w-=5,n.ncode=4+(15&x),x>>>=4,w-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;w<3;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}n.lens[j[n.have++]]=7&x,x>>>=3,w-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,B={bits:n.lenbits},R=o(0,n.lens,0,19,n.lencode,0,n.work,B),n.lenbits=B.bits,R){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;S=(O=n.lencode[x&(1<<n.lenbits)-1])>>>16&255,F=65535&O,!((C=O>>>24)<=w);){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}if(F<16)x>>>=C,w-=C,n.lens[n.have++]=F;else{if(16===F){for(N=C+2;w<N;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}if(x>>>=C,w-=C,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],U=3+(3&x),x>>>=2,w-=2}else if(17===F){for(N=C+3;w<N;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}w-=C,P=0,U=3+(7&(x>>>=C)),x>>>=3,w-=3}else{for(N=C+7;w<N;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}w-=C,P=0,U=11+(127&(x>>>=C)),x>>>=7,w-=7}if(n.have+U>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;U--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,B={bits:n.lenbits},R=o(c,n.lens,0,n.nlen,n.lencode,0,n.work,B),n.lenbits=B.bits,R){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,B={bits:n.distbits},R=o(l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,B),n.distbits=B.bits,R){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=v){e.next_out=b,e.avail_out=v,e.next_in=m,e.avail_in=y,n.hold=x,n.bits=w,s(e,D),b=e.next_out,f=e.output,v=e.avail_out,m=e.next_in,p=e.input,y=e.avail_in,x=n.hold,w=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;S=(O=n.lencode[x&(1<<n.lenbits)-1])>>>16&255,F=65535&O,!((C=O>>>24)<=w);){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}if(S&&!(240&S)){for(M=C,W=S,I=F;S=(O=n.lencode[I+((x&(1<<M+W)-1)>>M)])>>>16&255,F=65535&O,!(M+(C=O>>>24)<=w);){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}x>>>=M,w-=M,n.back+=M}if(x>>>=C,w-=C,n.back+=C,n.length=F,0===S){n.mode=26;break}if(32&S){n.back=-1,n.mode=12;break}if(64&S){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&S,n.mode=22;case 22:if(n.extra){for(N=n.extra;w<N;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}n.length+=x&(1<<n.extra)-1,x>>>=n.extra,w-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;S=(O=n.distcode[x&(1<<n.distbits)-1])>>>16&255,F=65535&O,!((C=O>>>24)<=w);){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}if(!(240&S)){for(M=C,W=S,I=F;S=(O=n.distcode[I+((x&(1<<M+W)-1)>>M)])>>>16&255,F=65535&O,!(M+(C=O>>>24)<=w);){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}x>>>=M,w-=M,n.back+=M}if(x>>>=C,w-=C,n.back+=C,64&S){e.msg="invalid distance code",n.mode=30;break}n.offset=F,n.extra=15&S,n.mode=24;case 24:if(n.extra){for(N=n.extra;w<N;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}n.offset+=x&(1<<n.extra)-1,x>>>=n.extra,w-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===v)break e;if(U=D-v,n.offset>U){if((U=n.offset-U)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}E=U>n.wnext?(U-=n.wnext,n.wsize-U):n.wnext-U,U>n.length&&(U=n.length),k=n.window}else k=f,E=b-n.offset,U=n.length;for(v<U&&(U=v),v-=U,n.length-=U;f[b++]=k[E++],--U;);0===n.length&&(n.mode=21);break;case 26:if(0===v)break e;f[b++]=n.length,v--,n.mode=21;break;case 27:if(n.wrap){for(;w<32;){if(0===y)break e;y--,x|=p[m++]<<w,w+=8}if(D-=v,e.total_out+=D,n.total+=D,D&&(e.adler=n.check=n.flags?a(n.check,f,D,b-D):r(n.check,f,D,b-D)),D=v,(n.flags?x:g(x))!==n.check){e.msg="incorrect data check",n.mode=30;break}w=x=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;w<32;){if(0===y)break e;y--,x+=p[m++]<<w,w+=8}if(x!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}w=x=0}n.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;default:return d}return e.next_out=b,e.avail_out=v,e.next_in=m,e.avail_in=y,n.hold=x,n.bits=w,(n.wsize||D!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&T(e,e.output,e.next_out,D-e.avail_out)?(n.mode=31,-4):(_-=e.avail_in,D-=e.avail_out,e.total_in+=_,e.total_out+=D,n.total+=D,n.wrap&&D&&(e.adler=n.check=n.flags?a(n.check,f,D,e.next_out-D):r(n.check,f,D,e.next_out-D)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==_&&0===D||4===t)&&R===h&&(R=-5),R)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,h},n.inflateGetHeader=function(e,t){var n;return e&&e.state&&2&(n=e.state).wrap?((n.head=t).done=!1,h):d},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&r(1,t,i,0)!==n.check?-3:T(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,h):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,l,h,d,u){var p,f,g,m,b,y,v,x,w,_=u.bits,D=0,A=0,T=0,U=0,E=0,k=0,C=0,S=0,F=0,M=0,W=null,I=0,P=new i.Buf16(16),R=new i.Buf16(16),B=null,N=0;for(D=0;D<=15;D++)P[D]=0;for(A=0;A<c;A++)P[t[n+A]]++;for(E=_,U=15;1<=U&&0===P[U];U--);if(U<E&&(E=U),0===U)return l[h++]=20971520,l[h++]=20971520,u.bits=1,0;for(T=1;T<U&&0===P[T];T++);for(E<T&&(E=T),D=S=1;D<=15;D++)if(S<<=1,(S-=P[D])<0)return-1;if(0<S&&(0===e||1!==U))return-1;for(R[1]=0,D=1;D<15;D++)R[D+1]=R[D]+P[D];for(A=0;A<c;A++)0!==t[n+A]&&(d[R[t[n+A]]++]=A);if(y=0===e?(W=B=d,19):1===e?(W=r,I-=257,B=a,N-=257,256):(W=s,B=o,-1),D=T,b=h,C=A=M=0,g=-1,m=(F=1<<(k=E))-1,1===e&&852<F||2===e&&592<F)return 1;for(;;){for(v=D-C,w=d[A]<y?(x=0,d[A]):d[A]>y?(x=B[N+d[A]],W[I+d[A]]):(x=96,0),p=1<<D-C,T=f=1<<k;l[b+(M>>C)+(f-=p)]=v<<24|x<<16|w,0!==f;);for(p=1<<D-1;M&p;)p>>=1;if(0!==p?(M&=p-1,M+=p):M=0,A++,0==--P[D]){if(D===U)break;D=t[n+d[A]]}if(E<D&&(M&m)!==g){for(0===C&&(C=E),b+=T,S=1<<(k=D-C);k+C<U&&!((S-=P[k+C])<=0);)k++,S<<=1;if(F+=1<<k,1===e&&852<F||2===e&&592<F)return 1;l[g=M&m]=E<<24|k<<16|b-h}}return 0!==M&&(l[b+M]=D-C<<24|64<<16),u.bits=E,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){var i=e("../utils/common"),r=0,a=1;function s(e){for(var t=e.length;0<=--t;)e[t]=0}var o=0,c=29,l=256,h=l+1+c,d=30,u=19,p=2*h+1,f=15,g=16,m=7,b=256,y=16,v=17,x=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=new Array(2*(h+2));s(T);var U=new Array(2*d);s(U);var E=new Array(512);s(E);var k=new Array(256);s(k);var C=new Array(c);s(C);var S,F,M,W=new Array(d);function I(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function P(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function R(e){return e<256?E[e]:E[256+(e>>>7)]}function B(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function N(e,t,n){e.bi_valid>g-n?(e.bi_buf|=t<<e.bi_valid&65535,B(e,e.bi_buf),e.bi_buf=t>>g-e.bi_valid,e.bi_valid+=n-g):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function O(e,t,n){N(e,n[2*t],n[2*t+1])}function L(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function j(e,t,n){var i,r,a=new Array(f+1),s=0;for(i=1;i<=f;i++)a[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var o=e[2*r+1];0!==o&&(e[2*r]=L(a[o]++,o))}}function z(e){var t;for(t=0;t<h;t++)e.dyn_ltree[2*t]=0;for(t=0;t<d;t++)e.dyn_dtree[2*t]=0;for(t=0;t<u;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*b]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function H(e){8<e.bi_valid?B(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function q(e,t,n,i){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]}function V(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&q(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!q(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function $(e,t,n){var i,r,a,s,o=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],r=e.pending_buf[e.l_buf+o],o++,0===i?O(e,r,t):(O(e,(a=k[r])+l+1,t),0!==(s=w[a])&&N(e,r-=C[a],s),O(e,a=R(--i),n),0!==(s=_[a])&&N(e,i-=W[a],s)),o<e.last_lit;);O(e,b,t)}function G(e,t){var n,i,r,a=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=p,n=0;n<c;n++)0!==a[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[r]=0,e.opt_len--,o&&(e.static_len-=s[2*r+1]);for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)V(e,a,n);for(r=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],V(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*r]=a[2*n]+a[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=r,e.heap[1]=r++,V(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,a,s,o,c=t.dyn_tree,l=t.max_code,h=t.stat_desc.static_tree,d=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,g=t.stat_desc.extra_base,m=t.stat_desc.max_length,b=0;for(a=0;a<=f;a++)e.bl_count[a]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<p;n++)m<(a=c[2*c[2*(i=e.heap[n])+1]+1]+1)&&(a=m,b++),c[2*i+1]=a,l<i||(e.bl_count[a]++,s=0,g<=i&&(s=u[i-g]),o=c[2*i],e.opt_len+=o*(a+s),d&&(e.static_len+=o*(h[2*i+1]+s)));if(0!==b){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,b-=2}while(0<b);for(a=m;0!==a;a--)for(i=e.bl_count[a];0!==i;)l<(r=e.heap[--n])||(c[2*r+1]!==a&&(e.opt_len+=(a-c[2*r+1])*c[2*r],c[2*r+1]=a),i--)}}(e,t),j(a,l,e.bl_count)}function X(e,t,n){var i,r,a=-1,s=t[1],o=0,c=7,l=4;for(0===s&&(c=138,l=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=t[2*(i+1)+1],++o<c&&r===s||(o<l?e.bl_tree[2*r]+=o:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[2*y]++):o<=10?e.bl_tree[2*v]++:e.bl_tree[2*x]++,a=r,l=(o=0)===s?(c=138,3):r===s?(c=6,3):(c=7,4))}function Y(e,t,n){var i,r,a=-1,s=t[1],o=0,c=7,l=4;for(0===s&&(c=138,l=3),i=0;i<=n;i++)if(r=s,s=t[2*(i+1)+1],!(++o<c&&r===s)){if(o<l)for(;O(e,r,e.bl_tree),0!=--o;);else 0!==r?(r!==a&&(O(e,r,e.bl_tree),o--),O(e,y,e.bl_tree),N(e,o-3,2)):o<=10?(O(e,v,e.bl_tree),N(e,o-3,3)):(O(e,x,e.bl_tree),N(e,o-11,7));a=r,l=(o=0)===s?(c=138,3):r===s?(c=6,3):(c=7,4)}}s(W);var K=!1;function Z(e,t,n,r){var a,s,c;N(e,(o<<1)+(r?1:0),3),s=t,c=n,H(a=e),B(a,c),B(a,~c),i.arraySet(a.pending_buf,a.window,s,c,a.pending),a.pending+=c}n._tr_init=function(e){K||(function(){var e,t,n,i,r,a=new Array(f+1);for(i=n=0;i<c-1;i++)for(C[i]=n,e=0;e<1<<w[i];e++)k[n++]=i;for(k[n-1]=i,i=r=0;i<16;i++)for(W[i]=r,e=0;e<1<<_[i];e++)E[r++]=i;for(r>>=7;i<d;i++)for(W[i]=r<<7,e=0;e<1<<_[i]-7;e++)E[256+r++]=i;for(t=0;t<=f;t++)a[t]=0;for(e=0;e<=143;)T[2*e+1]=8,e++,a[8]++;for(;e<=255;)T[2*e+1]=9,e++,a[9]++;for(;e<=279;)T[2*e+1]=7,e++,a[7]++;for(;e<=287;)T[2*e+1]=8,e++,a[8]++;for(j(T,h+1,a),e=0;e<d;e++)U[2*e+1]=5,U[2*e]=L(e,5);S=new I(T,w,l+1,h,f),F=new I(U,_,0,d,f),M=new I(new Array(0),D,0,u,m)}(),K=!0),e.l_desc=new P(e.dyn_ltree,S),e.d_desc=new P(e.dyn_dtree,F),e.bl_desc=new P(e.bl_tree,M),e.bi_buf=0,e.bi_valid=0,z(e)},n._tr_stored_block=Z,n._tr_flush_block=function(e,t,n,i){var s,o,c=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return r;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<l;t++)if(0!==e.dyn_ltree[2*t])return a;return r}(e)),G(e,e.l_desc),G(e,e.d_desc),c=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),G(e,e.bl_desc),t=u-1;3<=t&&0===e.bl_tree[2*A[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=s&&(s=o)):s=o=n+5,n+4<=s&&-1!==t?Z(e,t,n,i):4===e.strategy||o===s?(N(e,2+(i?1:0),3),$(e,T,U)):(N(e,4+(i?1:0),3),function(e,t,n,i){var r;for(N(e,t-257,5),N(e,n-1,5),N(e,i-4,4),r=0;r<i;r++)N(e,e.bl_tree[2*A[r]+1],3);Y(e,e.dyn_ltree,t-1),Y(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,c+1),$(e,e.dyn_ltree,e.dyn_dtree)),z(e),i&&H(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(k[n]+l+1)]++,e.dyn_dtree[2*R(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;N(e,2,3),O(e,b,T),16===(t=e).bi_valid?(B(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){!function(e,t){if(!e.setImmediate){var n,i,r,a,s=1,o={},c=!1,l=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick(function(){u(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",p,!1):e.attachEvent("onmessage",p),function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){u(e.data)},function(e){r.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,function(e){var t=l.createElement("script");t.onreadystatechange=function(){u(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):function(e){setTimeout(u,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var r={callback:e,args:t};return o[s]=r,n(s),s++},h.clearImmediate=d}function d(e){delete o[e]}function u(e){if(c)setTimeout(u,0,e);else{var n=o[e];if(n){c=!0;try{!function(e){var n=e.callback,i=e.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(t,i)}}(n)}finally{d(e),c=!1}}}}function p(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&u(+t.data.slice(a.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==hu?hu:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10);var Gy=$y.exports;const Xy=lu(Gy);var Yy={},Ky="1.13.7",Zy="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},Qy=Array.prototype,Jy=Object.prototype,ev="undefined"!=typeof Symbol?Symbol.prototype:null,tv=Qy.push,nv=Qy.slice,iv=Jy.toString,rv=Jy.hasOwnProperty,av="undefined"!=typeof ArrayBuffer,sv="undefined"!=typeof DataView,ov=Array.isArray,cv=Object.keys,lv=Object.create,hv=av&&ArrayBuffer.isView,dv=isNaN,uv=isFinite,pv=!{toString:null}.propertyIsEnumerable("toString"),fv=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],gv=Math.pow(2,53)-1;function mv(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var a=Array(t+1);for(r=0;r<t;r++)a[r]=arguments[r];return a[t]=i,e.apply(this,a)}}function bv(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function yv(e){return null===e}function vv(e){return void 0===e}function xv(e){return!0===e||!1===e||"[object Boolean]"===iv.call(e)}function wv(e){return!(!e||1!==e.nodeType)}function _v(e){var t="[object "+e+"]";return function(e){return iv.call(e)===t}}const Dv=_v("String"),Av=_v("Number"),Tv=_v("Date"),Uv=_v("RegExp"),Ev=_v("Error"),kv=_v("Symbol"),Cv=_v("ArrayBuffer");var Sv=_v("Function"),Fv=Zy.document&&Zy.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Fv&&(Sv=function(e){return"function"==typeof e||!1});const Mv=Sv,Wv=_v("Object");var Iv=sv&&(!/\[native code\]/.test(String(DataView))||Wv(new DataView(new ArrayBuffer(8)))),Pv="undefined"!=typeof Map&&Wv(new Map),Rv=_v("DataView");const Bv=Iv?function(e){return null!=e&&Mv(e.getInt8)&&Cv(e.buffer)}:Rv,Nv=ov||_v("Array");function Ov(e,t){return null!=e&&rv.call(e,t)}var Lv=_v("Arguments");!function(){Lv(arguments)||(Lv=function(e){return Ov(e,"callee")})}();const jv=Lv;function zv(e){return!kv(e)&&uv(e)&&!isNaN(parseFloat(e))}function Hv(e){return Av(e)&&dv(e)}function qv(e){return function(){return e}}function Vv(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=gv}}function $v(e){return function(t){return null==t?void 0:t[e]}}const Gv=$v("byteLength"),Xv=Vv(Gv);var Yv=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const Kv=av?function(e){return hv?hv(e)&&!Bv(e):Xv(e)&&Yv.test(iv.call(e))}:qv(!1),Zv=$v("length");function Qv(e,t){t=function(e){for(var t={},n=e.length,i=0;i<n;++i)t[e[i]]=!0;return{contains:function(e){return!0===t[e]},push:function(n){return t[n]=!0,e.push(n)}}}(t);var n=fv.length,i=e.constructor,r=Mv(i)&&i.prototype||Jy,a="constructor";for(Ov(e,a)&&!t.contains(a)&&t.push(a);n--;)(a=fv[n])in e&&e[a]!==r[a]&&!t.contains(a)&&t.push(a)}function Jv(e){if(!bv(e))return[];if(cv)return cv(e);var t=[];for(var n in e)Ov(e,n)&&t.push(n);return pv&&Qv(e,t),t}function ex(e){if(null==e)return!0;var t=Zv(e);return"number"==typeof t&&(Nv(e)||Dv(e)||jv(e))?0===t:0===Zv(Jv(e))}function tx(e,t){var n=Jv(t),i=n.length;if(null==e)return!i;for(var r=Object(e),a=0;a<i;a++){var s=n[a];if(t[s]!==r[s]||!(s in r))return!1}return!0}function nx(e){return e instanceof nx?e:this instanceof nx?void(this._wrapped=e):new nx(e)}function ix(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,Gv(e))}nx.VERSION=Ky,nx.prototype.value=function(){return this._wrapped},nx.prototype.valueOf=nx.prototype.toJSON=nx.prototype.value,nx.prototype.toString=function(){return String(this._wrapped)};var rx="[object DataView]";function ax(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var r=typeof e;return("function"===r||"object"===r||"object"==typeof t)&&sx(e,t,n,i)}function sx(e,t,n,i){e instanceof nx&&(e=e._wrapped),t instanceof nx&&(t=t._wrapped);var r=iv.call(e);if(r!==iv.call(t))return!1;if(Iv&&"[object Object]"==r&&Bv(e)){if(!Bv(t))return!1;r=rx}switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0===+e?1/+e==1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return ev.valueOf.call(e)===ev.valueOf.call(t);case"[object ArrayBuffer]":case rx:return sx(ix(e),ix(t),n,i)}var a="[object Array]"===r;if(!a&&Kv(e)){if(Gv(e)!==Gv(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;a=!0}if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,o=t.constructor;if(s!==o&&!(Mv(s)&&s instanceof s&&Mv(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return i[c]===t;if(n.push(e),i.push(t),a){if((c=e.length)!==t.length)return!1;for(;c--;)if(!ax(e[c],t[c],n,i))return!1}else{var l,h=Jv(e);if(c=h.length,Jv(t).length!==c)return!1;for(;c--;)if(!Ov(t,l=h[c])||!ax(e[l],t[l],n,i))return!1}return n.pop(),i.pop(),!0}function ox(e,t){return ax(e,t)}function cx(e){if(!bv(e))return[];var t=[];for(var n in e)t.push(n);return pv&&Qv(e,t),t}function lx(e){var t=Zv(e);return function(n){if(null==n)return!1;var i=cx(n);if(Zv(i))return!1;for(var r=0;r<t;r++)if(!Mv(n[e[r]]))return!1;return e!==fx||!Mv(n[hx])}}var hx="forEach",dx=["clear","delete"],ux=["get","has","set"],px=dx.concat(hx,ux),fx=dx.concat(ux),gx=["add"].concat(dx,hx,"has");const mx=Pv?lx(px):_v("Map"),bx=Pv?lx(fx):_v("WeakMap"),yx=Pv?lx(gx):_v("Set"),vx=_v("WeakSet");function xx(e){for(var t=Jv(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i}function wx(e){for(var t=Jv(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i}function _x(e){for(var t={},n=Jv(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t}function Dx(e){var t=[];for(var n in e)Mv(e[n])&&t.push(n);return t.sort()}function Ax(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var a=arguments[r],s=e(a),o=s.length,c=0;c<o;c++){var l=s[c];t&&void 0!==n[l]||(n[l]=a[l])}return n}}const Tx=Ax(cx),Ux=Ax(Jv),Ex=Ax(cx,!0);function kx(e){if(!bv(e))return{};if(lv)return lv(e);var t=function(){};t.prototype=e;var n=new t;return t.prototype=null,n}function Cx(e,t){var n=kx(e);return t&&Ux(n,t),n}function Sx(e){return bv(e)?Nv(e)?e.slice():Tx({},e):e}function Fx(e,t){return t(e),e}function Mx(e){return Nv(e)?e:[e]}function Wx(e){return nx.toPath(e)}function Ix(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0}function Px(e,t,n){var i=Ix(e,Wx(t));return vv(i)?n:i}function Rx(e,t){for(var n=(t=Wx(t)).length,i=0;i<n;i++){var r=t[i];if(!Ov(e,r))return!1;e=e[r]}return!!n}function Bx(e){return e}function Nx(e){return e=Ux({},e),function(t){return tx(t,e)}}function Ox(e){return e=Wx(e),function(t){return Ix(t,e)}}function Lx(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,a){return e.call(t,n,i,r,a)}}return function(){return e.apply(t,arguments)}}function jx(e,t,n){return null==e?Bx:Mv(e)?Lx(e,t,n):bv(e)&&!Nv(e)?Nx(e):Ox(e)}function zx(e,t){return jx(e,t,1/0)}function Hx(e,t,n){return nx.iteratee!==zx?nx.iteratee(e,t):jx(e,t,n)}function qx(e,t,n){t=Hx(t,n);for(var i=Jv(e),r=i.length,a={},s=0;s<r;s++){var o=i[s];a[o]=t(e[o],o,e)}return a}function Vx(){}function $x(e){return null==e?Vx:function(t){return Px(e,t)}}function Gx(e,t,n){var i=Array(Math.max(0,e));t=Lx(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i}function Xx(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}nx.toPath=Mx,nx.iteratee=zx;const Yx=Date.now||function(){return(new Date).getTime()};function Kx(e){var t=function(t){return e[t]},n="(?:"+Jv(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}}const Zx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Qx=Kx(Zx),Jx=Kx(_x(Zx)),ew=nx.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var tw=/(.)^/,nw={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},iw=/\\|'|\r|\n|\u2028|\u2029/g;function rw(e){return"\\"+nw[e]}var aw=/^\s*(\w|\$)+\s*$/;function sw(e,t,n){!t&&n&&(t=n),t=Ex({},t,nx.templateSettings);var i=RegExp([(t.escape||tw).source,(t.interpolate||tw).source,(t.evaluate||tw).source].join("|")+"|$","g"),r=0,a="__p+='";e.replace(i,function(t,n,i,s,o){return a+=e.slice(r,o).replace(iw,rw),r=o+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(a+="';\n"+s+"\n__p+='"),t}),a+="';\n";var s,o=t.variable;if(o){if(!aw.test(o))throw new Error("variable is not a bare identifier: "+o)}else a="with(obj||{}){\n"+a+"}\n",o="obj";a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{s=new Function(o,"_",a)}catch(l){throw l.source=a,l}var c=function(e){return s.call(this,e,nx)};return c.source="function("+o+"){\n"+a+"}",c}function ow(e,t,n){var i=(t=Wx(t)).length;if(!i)return Mv(n)?n.call(e):n;for(var r=0;r<i;r++){var a=null==e?void 0:e[t[r]];void 0===a&&(a=n,r=i),e=Mv(a)?a.call(e):a}return e}var cw=0;function lw(e){var t=++cw+"";return e?e+t:t}function hw(e){var t=nx(e);return t._chain=!0,t}function dw(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var a=kx(e.prototype),s=e.apply(a,r);return bv(s)?s:a}var uw=mv(function(e,t){var n=uw.placeholder,i=function(){for(var r=0,a=t.length,s=Array(a),o=0;o<a;o++)s[o]=t[o]===n?arguments[r++]:t[o];for(;r<arguments.length;)s.push(arguments[r++]);return dw(e,i,this,this,s)};return i});uw.placeholder=nx;const pw=mv(function(e,t,n){if(!Mv(e))throw new TypeError("Bind must be called on a function");var i=mv(function(r){return dw(e,i,t,this,n.concat(r))});return i}),fw=Vv(Zv);function gw(e,t,n,i){if(i=i||[],t||0===t){if(t<=0)return i.concat(e)}else t=1/0;for(var r=i.length,a=0,s=Zv(e);a<s;a++){var o=e[a];if(fw(o)&&(Nv(o)||jv(o)))if(t>1)gw(o,t-1,n,i),r=i.length;else for(var c=0,l=o.length;c<l;)i[r++]=o[c++];else n||(i[r++]=o)}return i}const mw=mv(function(e,t){var n=(t=gw(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=pw(e[i],e)}return e});function bw(e,t){var n=function(i){var r=n.cache,a=""+(t?t.apply(this,arguments):i);return Ov(r,a)||(r[a]=e.apply(this,arguments)),r[a]};return n.cache={},n}const yw=mv(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),vw=uw(yw,nx,1);function xw(e,t,n){var i,r,a,s,o=0;n||(n={});var c=function(){o=!1===n.leading?0:Yx(),i=null,s=e.apply(r,a),i||(r=a=null)},l=function(){var l=Yx();o||!1!==n.leading||(o=l);var h=t-(l-o);return r=this,a=arguments,h<=0||h>t?(i&&(clearTimeout(i),i=null),o=l,s=e.apply(r,a),i||(r=a=null)):i||!1===n.trailing||(i=setTimeout(c,h)),s};return l.cancel=function(){clearTimeout(i),o=0,i=r=a=null},l}function ww(e,t,n){var i,r,a,s,o,c=function(){var l=Yx()-r;t>l?i=setTimeout(c,t-l):(i=null,n||(s=e.apply(o,a)),i||(a=o=null))},l=mv(function(l){return o=this,a=l,r=Yx(),i||(i=setTimeout(c,t),n&&(s=e.apply(o,a))),s});return l.cancel=function(){clearTimeout(i),i=a=o=null},l}function _w(e,t){return uw(t,e)}function Dw(e){return function(){return!e.apply(this,arguments)}}function Aw(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}}function Tw(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function Uw(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}const Ew=uw(Uw,2);function kw(e,t,n){t=Hx(t,n);for(var i,r=Jv(e),a=0,s=r.length;a<s;a++)if(t(e[i=r[a]],i,e))return i}function Cw(e){return function(t,n,i){n=Hx(n,i);for(var r=Zv(t),a=e>0?0:r-1;a>=0&&a<r;a+=e)if(n(t[a],a,t))return a;return-1}}const Sw=Cw(1),Fw=Cw(-1);function Mw(e,t,n,i){for(var r=(n=Hx(n,i,1))(t),a=0,s=Zv(e);a<s;){var o=Math.floor((a+s)/2);n(e[o])<r?a=o+1:s=o}return a}function Ww(e,t,n){return function(i,r,a){var s=0,o=Zv(i);if("number"==typeof a)e>0?s=a>=0?a:Math.max(a+o,s):o=a>=0?Math.min(a+1,o):a+o+1;else if(n&&a&&o)return i[a=n(i,r)]===r?a:-1;if(r!=r)return(a=t(nv.call(i,s,o),Hv))>=0?a+s:-1;for(a=e>0?s:o-1;a>=0&&a<o;a+=e)if(i[a]===r)return a;return-1}}const Iw=Ww(1,Sw,Mw),Pw=Ww(-1,Fw);function Rw(e,t,n){var i=(fw(e)?Sw:kw)(e,t,n);if(void 0!==i&&-1!==i)return e[i]}function Bw(e,t){return Rw(e,Nx(t))}function Nw(e,t,n){var i,r;if(t=Lx(t,n),fw(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var a=Jv(e);for(i=0,r=a.length;i<r;i++)t(e[a[i]],a[i],e)}return e}function Ow(e,t,n){t=Hx(t,n);for(var i=!fw(e)&&Jv(e),r=(i||e).length,a=Array(r),s=0;s<r;s++){var o=i?i[s]:s;a[s]=t(e[o],o,e)}return a}function Lw(e){return function(t,n,i,r){var a=arguments.length>=3;return function(t,n,i,r){var a=!fw(t)&&Jv(t),s=(a||t).length,o=e>0?0:s-1;for(r||(i=t[a?a[o]:o],o+=e);o>=0&&o<s;o+=e){var c=a?a[o]:o;i=n(i,t[c],c,t)}return i}(t,Lx(n,r,4),i,a)}}const jw=Lw(1),zw=Lw(-1);function Hw(e,t,n){var i=[];return t=Hx(t,n),Nw(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i}function qw(e,t,n){return Hw(e,Dw(Hx(t)),n)}function Vw(e,t,n){t=Hx(t,n);for(var i=!fw(e)&&Jv(e),r=(i||e).length,a=0;a<r;a++){var s=i?i[a]:a;if(!t(e[s],s,e))return!1}return!0}function $w(e,t,n){t=Hx(t,n);for(var i=!fw(e)&&Jv(e),r=(i||e).length,a=0;a<r;a++){var s=i?i[a]:a;if(t(e[s],s,e))return!0}return!1}function Gw(e,t,n,i){return fw(e)||(e=xx(e)),("number"!=typeof n||i)&&(n=0),Iw(e,t,n)>=0}const Xw=mv(function(e,t,n){var i,r;return Mv(t)?r=t:(t=Wx(t),i=t.slice(0,-1),t=t[t.length-1]),Ow(e,function(e){var a=r;if(!a){if(i&&i.length&&(e=Ix(e,i)),null==e)return;a=e[t]}return null==a?a:a.apply(e,n)})});function Yw(e,t){return Ow(e,Ox(t))}function Kw(e,t){return Hw(e,Nx(t))}function Zw(e,t,n){var i,r,a=-1/0,s=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,c=(e=fw(e)?e:xx(e)).length;o<c;o++)null!=(i=e[o])&&i>a&&(a=i);else t=Hx(t,n),Nw(e,function(e,n,i){((r=t(e,n,i))>s||r===-1/0&&a===-1/0)&&(a=e,s=r)});return a}function Qw(e,t,n){var i,r,a=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var o=0,c=(e=fw(e)?e:xx(e)).length;o<c;o++)null!=(i=e[o])&&i<a&&(a=i);else t=Hx(t,n),Nw(e,function(e,n,i){((r=t(e,n,i))<s||r===1/0&&a===1/0)&&(a=e,s=r)});return a}var Jw=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function e_(e){return e?Nv(e)?nv.call(e):Dv(e)?e.match(Jw):fw(e)?Ow(e,Bx):xx(e):[]}function t_(e,t,n){if(null==t||n)return fw(e)||(e=xx(e)),e[Xx(e.length-1)];var i=e_(e),r=Zv(i);t=Math.max(Math.min(t,r),0);for(var a=r-1,s=0;s<t;s++){var o=Xx(s,a),c=i[s];i[s]=i[o],i[o]=c}return i.slice(0,t)}function n_(e){return t_(e,1/0)}function i_(e,t,n){var i=0;return t=Hx(t,n),Yw(Ow(e,function(e,n,r){return{value:e,index:i++,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")}function r_(e,t){return function(n,i,r){var a=t?[[],[]]:{};return i=Hx(i,r),Nw(n,function(t,r){var s=i(t,r,n);e(a,t,s)}),a}}const a_=r_(function(e,t,n){Ov(e,n)?e[n].push(t):e[n]=[t]}),s_=r_(function(e,t,n){e[n]=t}),o_=r_(function(e,t,n){Ov(e,n)?e[n]++:e[n]=1}),c_=r_(function(e,t,n){e[n?0:1].push(t)},!0);function l_(e){return null==e?0:fw(e)?e.length:Jv(e).length}function h_(e,t,n){return t in n}const d_=mv(function(e,t){var n={},i=t[0];if(null==e)return n;Mv(i)?(t.length>1&&(i=Lx(i,t[1])),t=cx(e)):(i=h_,t=gw(t,!1,!1),e=Object(e));for(var r=0,a=t.length;r<a;r++){var s=t[r],o=e[s];i(o,s,e)&&(n[s]=o)}return n}),u_=mv(function(e,t){var n,i=t[0];return Mv(i)?(i=Dw(i),t.length>1&&(n=t[1])):(t=Ow(gw(t,!1,!1),String),i=function(e,n){return!Gw(t,n)}),d_(e,i,n)});function p_(e,t,n){return nv.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function f_(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:p_(e,e.length-t)}function g_(e,t,n){return nv.call(e,null==t||n?1:t)}function m_(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:g_(e,Math.max(0,e.length-t))}function b_(e){return Hw(e,Boolean)}function y_(e,t){return gw(e,t,!1)}const v_=mv(function(e,t){return t=gw(t,!0,!0),Hw(e,function(e){return!Gw(t,e)})}),x_=mv(function(e,t){return v_(e,t)});function w_(e,t,n,i){xv(t)||(i=n,n=t,t=!1),null!=n&&(n=Hx(n,i));for(var r=[],a=[],s=0,o=Zv(e);s<o;s++){var c=e[s],l=n?n(c,s,e):c;t&&!n?(s&&a===l||r.push(c),a=l):n?Gw(a,l)||(a.push(l),r.push(c)):Gw(r,c)||r.push(c)}return r}const __=mv(function(e){return w_(gw(e,!0,!0))});function D_(e){for(var t=[],n=arguments.length,i=0,r=Zv(e);i<r;i++){var a=e[i];if(!Gw(t,a)){var s;for(s=1;s<n&&Gw(arguments[s],a);s++);s===n&&t.push(a)}}return t}function A_(e){for(var t=e&&Zw(e,Zv).length||0,n=Array(t),i=0;i<t;i++)n[i]=Yw(e,i);return n}const T_=mv(A_);function U_(e,t){for(var n={},i=0,r=Zv(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n}function E_(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),a=0;a<i;a++,e+=n)r[a]=e;return r}function k_(e,t){if(null==t||t<1)return[];for(var n=[],i=0,r=e.length;i<r;)n.push(nv.call(e,i,i+=t));return n}function C_(e,t){return e._chain?nx(t).chain():t}function S_(e){return Nw(Dx(e),function(t){var n=nx[t]=e[t];nx.prototype[t]=function(){var e=[this._wrapped];return tv.apply(e,arguments),C_(this,n.apply(nx,e))}}),nx}Nw(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=Qy[e];nx.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),C_(this,n)}}),Nw(["concat","join","slice"],function(e){var t=Qy[e];nx.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),C_(this,e)}});var F_=S_(Object.freeze(Object.defineProperty({__proto__:null,VERSION:Ky,after:Tw,all:Vw,allKeys:cx,any:$w,assign:Ux,before:Uw,bind:pw,bindAll:mw,chain:hw,chunk:k_,clone:Sx,collect:Ow,compact:b_,compose:Aw,constant:qv,contains:Gw,countBy:o_,create:Cx,debounce:ww,default:nx,defaults:Ex,defer:vw,delay:yw,detect:Rw,difference:v_,drop:g_,each:Nw,escape:Qx,every:Vw,extend:Tx,extendOwn:Ux,filter:Hw,find:Rw,findIndex:Sw,findKey:kw,findLastIndex:Fw,findWhere:Bw,first:f_,flatten:y_,foldl:jw,foldr:zw,forEach:Nw,functions:Dx,get:Px,groupBy:a_,has:Rx,head:f_,identity:Bx,include:Gw,includes:Gw,indexBy:s_,indexOf:Iw,initial:p_,inject:jw,intersection:D_,invert:_x,invoke:Xw,isArguments:jv,isArray:Nv,isArrayBuffer:Cv,isBoolean:xv,isDataView:Bv,isDate:Tv,isElement:wv,isEmpty:ex,isEqual:ox,isError:Ev,isFinite:zv,isFunction:Mv,isMap:mx,isMatch:tx,isNaN:Hv,isNull:yv,isNumber:Av,isObject:bv,isRegExp:Uv,isSet:yx,isString:Dv,isSymbol:kv,isTypedArray:Kv,isUndefined:vv,isWeakMap:bx,isWeakSet:vx,iteratee:zx,keys:Jv,last:m_,lastIndexOf:Pw,map:Ow,mapObject:qx,matcher:Nx,matches:Nx,max:Zw,memoize:bw,methods:Dx,min:Qw,mixin:S_,negate:Dw,noop:Vx,now:Yx,object:U_,omit:u_,once:Ew,pairs:wx,partial:uw,partition:c_,pick:d_,pluck:Yw,property:Ox,propertyOf:$x,random:Xx,range:E_,reduce:jw,reduceRight:zw,reject:qw,rest:g_,restArguments:mv,result:ow,sample:t_,select:Hw,shuffle:n_,size:l_,some:$w,sortBy:i_,sortedIndex:Mw,tail:g_,take:f_,tap:Fx,template:sw,templateSettings:ew,throttle:xw,times:Gx,toArray:e_,toPath:Mx,transpose:A_,unescape:Jx,union:__,uniq:w_,unique:w_,uniqueId:lw,unzip:A_,values:xx,where:Kw,without:x_,wrap:_w,zip:T_},Symbol.toStringTag,{value:"Module"})));F_._=F_;const M_=du(Object.freeze(Object.defineProperty({__proto__:null,VERSION:Ky,after:Tw,all:Vw,allKeys:cx,any:$w,assign:Ux,before:Uw,bind:pw,bindAll:mw,chain:hw,chunk:k_,clone:Sx,collect:Ow,compact:b_,compose:Aw,constant:qv,contains:Gw,countBy:o_,create:Cx,debounce:ww,default:F_,defaults:Ex,defer:vw,delay:yw,detect:Rw,difference:v_,drop:g_,each:Nw,escape:Qx,every:Vw,extend:Tx,extendOwn:Ux,filter:Hw,find:Rw,findIndex:Sw,findKey:kw,findLastIndex:Fw,findWhere:Bw,first:f_,flatten:y_,foldl:jw,foldr:zw,forEach:Nw,functions:Dx,get:Px,groupBy:a_,has:Rx,head:f_,identity:Bx,include:Gw,includes:Gw,indexBy:s_,indexOf:Iw,initial:p_,inject:jw,intersection:D_,invert:_x,invoke:Xw,isArguments:jv,isArray:Nv,isArrayBuffer:Cv,isBoolean:xv,isDataView:Bv,isDate:Tv,isElement:wv,isEmpty:ex,isEqual:ox,isError:Ev,isFinite:zv,isFunction:Mv,isMap:mx,isMatch:tx,isNaN:Hv,isNull:yv,isNumber:Av,isObject:bv,isRegExp:Uv,isSet:yx,isString:Dv,isSymbol:kv,isTypedArray:Kv,isUndefined:vv,isWeakMap:bx,isWeakSet:vx,iteratee:zx,keys:Jv,last:m_,lastIndexOf:Pw,map:Ow,mapObject:qx,matcher:Nx,matches:Nx,max:Zw,memoize:bw,methods:Dx,min:Qw,mixin:S_,negate:Dw,noop:Vx,now:Yx,object:U_,omit:u_,once:Ew,pairs:wx,partial:uw,partition:c_,pick:d_,pluck:Yw,property:Ox,propertyOf:$x,random:Xx,range:E_,reduce:jw,reduceRight:zw,reject:qw,rest:g_,restArguments:mv,result:ow,sample:t_,select:Hw,shuffle:n_,size:l_,some:$w,sortBy:i_,sortedIndex:Mw,tail:g_,take:f_,tap:Fx,template:sw,templateSettings:ew,throttle:xw,times:Gx,toArray:e_,toPath:Mx,transpose:A_,unescape:Jx,union:__,uniq:w_,unique:w_,uniqueId:lw,unzip:A_,values:xx,where:Kw,without:x_,wrap:_w,zip:T_},Symbol.toStringTag,{value:"Module"})));var W_,I_,P_,R_={},B_={},N_={exports:{}},O_={exports:{}};function L_(){if(W_)return O_.exports;W_=1;var e=function(){return void 0===this}();if(e)O_.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var t={}.hasOwnProperty,n={}.toString,i={}.constructor.prototype,r=function(e){var n=[];for(var i in e)t.call(e,i)&&n.push(i);return n};O_.exports={isArray:function(e){try{return"[object Array]"===n.call(e)}catch(t){return!1}},keys:r,names:r,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(t){return i}},isES5:e,propertyIsWritable:function(){return!0}}}return O_.exports}function j_(){if(P_)return I_;P_=1;var e,t={},n=L_(),i="undefined"==typeof navigator,r={e:{}},a="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==hu||void 0!==hu?hu:null;function s(){try{var t=e;return e=null,t.apply(this,arguments)}catch(n){return r.e=n,r}}function o(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function c(e,t,i){if(o(e))return e;var r={value:i,configurable:!0,enumerable:!1,writable:!0};return n.defineProperty(e,t,r),e}var l=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(n.isES5){var i=Object.getOwnPropertyNames;return function(e){for(var r=[],a=Object.create(null);null!=e&&!t(e);){var s;try{s=i(e)}catch(h){return r}for(var o=0;o<s.length;++o){var c=s[o];if(!a[c]){a[c]=!0;var l=Object.getOwnPropertyDescriptor(e,c);null!=l&&null==l.get&&null==l.set&&r.push(c)}}e=n.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var a in n)if(r.call(n,a))i.push(a);else{for(var s=0;s<e.length;++s)if(r.call(e[s],a))continue e;i.push(a)}return i}}(),h=/this\s*\.\s*\S+\s*=/;var d=/^[a-z$_][a-z$_0-9]*$/i;function u(e){try{return e+""}catch(t){return"[no string representation]"}}function p(e){return null!==e&&"object"==typeof e&&"string"==typeof e.message&&"string"==typeof e.name}function f(e){return p(e)&&n.propertyIsWritable(e,"stack")}var g="stack"in new Error?function(e){return f(e)?e:new Error(u(e))}:function(e){if(f(e))return e;try{throw new Error(u(e))}catch(t){return t}};function m(e){return{}.toString.call(e)}var b=function(e){return n.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var y="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],i=e[Symbol.iterator]();!(t=i.next()).done;)n.push(t.value);return n};b=function(e){return n.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?y(e):null}}var v="undefined"!=typeof process&&"[object process]"===m(process).toLowerCase(),x="undefined"!=typeof process&&!0;var w,_={isClass:function(e){try{if("function"==typeof e){var t=n.names(e.prototype),i=n.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),a=h.test(e+"")&&n.names(e).length>0;if(i||r||a)return!0}return!1}catch(s){return!1}},isIdentifier:function(e){return d.test(e)},inheritedDataKeys:l,getDataPropertyOrDefault:function(e,t,i){if(!n.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:i:void 0},thrower:function(e){throw e},isArray:n.isArray,asArray:b,notEnumerableProp:c,isPrimitive:o,isObject:function(e){return"function"==typeof e||"object"==typeof e&&null!==e},isError:p,canEvaluate:i,errorObj:r,tryCatch:function(t){return e=t,s},inherits:function(e,t){var n={}.hasOwnProperty;function i(){for(var i in this.constructor=e,this.constructor$=t,t.prototype)n.call(t.prototype,i)&&"$"!==i.charAt(i.length-1)&&(this[i+"$"]=t.prototype[i])}return i.prototype=t.prototype,e.prototype=new i,e.prototype},withAppended:function(e,t){var n,i=e.length,r=new Array(i+1);for(n=0;n<i;++n)r[n]=e[n];return r[n]=t,r},maybeWrapAsError:function(e){return o(e)?new Error(u(e)):e},toFastProperties:function(e){return e},filledRange:function(e,t,n){for(var i=new Array(e),r=0;r<e;++r)i[r]=t+r+n;return i},toString:u,canAttachTrace:f,ensureErrorObject:g,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{c(e,"isOperational",!0)}catch(t){}},classString:m,copyDescriptors:function(e,t,i){for(var r=n.names(e),a=0;a<r.length;++a){var s=r[a];if(i(s))try{n.defineProperty(t,s,n.getDescriptor(e,s))}catch(o){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:v,hasEnvVariables:x,env:function(e){return x?t[e]:void 0},global:a,getNativePromise:function(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(t){}},domainBind:function(e,t){return e.bind(t)}};_.isRecentNode=_.isNode&&(0===(w=process.versions.node.split(".").map(Number))[0]&&w[1]>10||w[0]>0),_.isNode&&_.toFastProperties(process);try{throw new Error}catch(D){_.lastLineError=D}return I_=_}var z_,H_,q_,V_,$_,G_,X_,Y_,K_,Z_,Q_,J_,eD,tD,nD,iD,rD,aD,sD,oD,cD,lD,hD,dD,uD,pD,fD,gD,mD,bD,yD,vD,xD,wD,_D,DD,AD,TD,UD,ED,kD,CD,SD,FD,MD,WD,ID,PD,RD,BD,ND,OD,LD,jD,zD,HD,qD,VD,$D,GD,XD,YD,KD,ZD,QD={exports:{}};function JD(){if(H_)return z_;H_=1;var e,t=j_(),n=t.getNativePromise();if(t.isNode&&"undefined"==typeof MutationObserver){var i=hu.setImmediate,r=process.nextTick;e=t.isRecentNode?function(e){i.call(hu,e)}:function(e){r.call(process,e)}}else if("function"==typeof n&&"function"==typeof n.resolve){var a=n.resolve();e=function(e){a.then(e)}}else e="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(e){setImmediate(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(){var e=document.createElement("div"),t={attributes:!0},n=!1,i=document.createElement("div");new MutationObserver(function(){e.classList.toggle("foo"),n=!1}).observe(i,t);return function(r){var a=new MutationObserver(function(){a.disconnect(),r()});a.observe(e,t),n||(n=!0,i.classList.toggle("foo"))}}();return z_=e}function eA(){if($_)return QD.exports;var e;$_=1;try{throw new Error}catch(c){e=c}var t=JD(),n=function(){if(V_)return q_;function e(e){this._capacity=e,this._length=0,this._front=0}return V_=1,e.prototype._willBeOverCapacity=function(e){return this._capacity<e},e.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},e.prototype.push=function(e,t,n){var i=this.length()+3;if(this._willBeOverCapacity(i))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var r=this._front+i-3;this._checkCapacity(i);var a=this._capacity-1;this[r+0&a]=e,this[r+1&a]=t,this[r+2&a]=n,this._length=i},e.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,function(e,t,n,i,r){for(var a=0;a<r;++a)n[a+i]=e[a+t],e[a+t]=void 0}(this,0,this,t,this._front+this._length&t-1)},q_=e}(),i=j_();function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=t}function a(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function s(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function o(e){this._normalQueue._pushOne(e),this._queueTick()}return r.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){i.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(e,t){t?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},r.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout(function(){e(t)},0);else try{this._schedule(function(){e(t)})}catch(c){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},i.hasDevTools?(r.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?a.call(this,e,t,n):this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})},r.prototype.invoke=function(e,t,n){this._trampolineEnabled?s.call(this,e,t,n):this._schedule(function(){e.call(t,n)})},r.prototype.settlePromises=function(e){this._trampolineEnabled?o.call(this,e):this._schedule(function(){e._settlePromises()})}):(r.prototype.invokeLater=a,r.prototype.invoke=s,r.prototype.settlePromises=o),r.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),i=e.shift();t.call(n,i)}else t._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},QD.exports=r,QD.exports.firstLineError=e,QD.exports}function tA(){if(X_)return G_;X_=1;var e,t,n=L_(),i=n.freeze,r=j_(),a=r.inherits,s=r.notEnumerableProp;function o(e,t){function n(i){if(!(this instanceof n))return new n(i);s(this,"message","string"==typeof i?i:t),s(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return a(n,Error),n}var c=o("Warning","warning"),l=o("CancellationError","cancellation error"),h=o("TimeoutError","timeout error"),d=o("AggregateError","aggregate error");try{e=TypeError,t=RangeError}catch(b){e=o("TypeError","type error"),t=o("RangeError","range error")}for(var u="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<u.length;++p)"function"==typeof Array.prototype[u[p]]&&(d.prototype[u[p]]=Array.prototype[u[p]]);n.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var f=0;function g(e){if(!(this instanceof g))return new g(e);s(this,"name","OperationalError"),s(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(s(this,"message",e.message),s(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var e=Array(4*f+1).join(" "),t="\n"+e+"AggregateError of:\n";f++,e=Array(4*f+1).join(" ");for(var n=0;n<this.length;++n){for(var i=this[n]===this?"[Circular AggregateError]":this[n]+"",r=i.split("\n"),a=0;a<r.length;++a)r[a]=e+r[a];t+=(i=r.join("\n"))+"\n"}return f--,t},a(g,Error);var m=Error.__BluebirdErrorTypes__;return m||(m=i({CancellationError:l,TimeoutError:h,OperationalError:g,RejectionError:g,AggregateError:d}),n.defineProperty(Error,"__BluebirdErrorTypes__",{value:m,writable:!1,enumerable:!1,configurable:!1})),G_={Error:Error,TypeError:e,RangeError:t,CancellationError:m.CancellationError,OperationalError:m.OperationalError,TimeoutError:m.TimeoutError,AggregateError:m.AggregateError,Warning:c}}function nA(){return K_?Y_:(K_=1,Y_=function(e,t){var n=j_(),i=n.errorObj,r=n.isObject;var a={}.hasOwnProperty;return function(s,o){if(r(s)){if(s instanceof e)return s;var c=function(e){try{return function(e){return e.then}(e)}catch(t){return i.e=t,i}}(s);if(c===i){o&&o._pushContext();var l=e.reject(c.e);return o&&o._popContext(),l}if("function"==typeof c){if(function(e){try{return a.call(e,"_promise0")}catch(t){return!1}}(s)){l=new e(t);return s._then(l._fulfill,l._reject,void 0,l,null),l}return function(r,a,s){var o=new e(t),c=o;s&&s._pushContext();o._captureStackTrace(),s&&s._popContext();var l=!0,h=n.tryCatch(a).call(r,d,u);l=!1,o&&h===i&&(o._rejectCallback(h.e,!0,!0),o=null);function d(e){o&&(o._resolveCallback(e),o=null)}function u(e){o&&(o._rejectCallback(e,l,!0),o=null)}return c}(s,c,o)}}return s}})}function iA(){return nD||(nD=1,tD=function(e,t){var n,i,r,a=e._getDomain,s=e._async,o=tA().Warning,c=j_(),l=c.canAttachTrace,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,u=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,p=null,f=null,g=!1,m=!(0==c.env("BLUEBIRD_DEBUG")||!c.env("BLUEBIRD_DEBUG")&&"development"!==c.env("NODE_ENV")),b=!(0==c.env("BLUEBIRD_WARNINGS")||!m&&!c.env("BLUEBIRD_WARNINGS")),y=!(0==c.env("BLUEBIRD_LONG_STACK_TRACES")||!m&&!c.env("BLUEBIRD_LONG_STACK_TRACES")),v=0!=c.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(b||!!c.env("BLUEBIRD_W_FORGOTTEN_RETURN"));e.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},e.prototype._ensurePossibleRejectionHandled=function(){524288&this._bitField||(this._setRejectionIsUnhandled(),s.invokeLater(this._notifyUnhandledRejection,this,void 0))},e.prototype._notifyUnhandledRejectionIsHandled=function(){j("rejectionHandled",n,void 0,this)},e.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},e.prototype._returnedNonUndefined=function(){return!!(268435456&this._bitField)},e.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),j("unhandledRejection",i,e,this)}},e.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},e.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},e.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},e.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},e.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},e.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},e.prototype._warn=function(e,t,n){return B(e,t,n||this)},e.onPossiblyUnhandledRejection=function(e){var t=a();i="function"==typeof e?null===t?e:c.domainBind(t,e):void 0},e.onUnhandledRejectionHandled=function(e){var t=a();n="function"==typeof e?null===t?e:c.domainBind(t,e):void 0};var x=function(){};e.longStackTraces=function(){if(s.haveItemsQueued()&&!Y.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!Y.longStackTraces&&H()){var n=e.prototype._captureStackTrace,i=e.prototype._attachExtraTrace;Y.longStackTraces=!0,x=function(){if(s.haveItemsQueued()&&!Y.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");e.prototype._captureStackTrace=n,e.prototype._attachExtraTrace=i,t.deactivateLongStackTraces(),s.enableTrampoline(),Y.longStackTraces=!1},e.prototype._captureStackTrace=P,e.prototype._attachExtraTrace=R,t.activateLongStackTraces(),s.disableTrampolineIfNecessary()}},e.hasLongStackTraces=function(){return Y.longStackTraces&&H()};var w=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return c.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!c.global.dispatchEvent(n)}}if("function"==typeof Event){e=new Event("CustomEvent");return c.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!c.global.dispatchEvent(n)}}return(e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),c.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!c.global.dispatchEvent(n)}}catch(t){}return function(){return!1}}(),_=c.isNode?function(){return process.emit.apply(process,arguments)}:c.global?function(e){var t="on"+e.toLowerCase(),n=c.global[t];return!!n&&(n.apply(c.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function D(e,t){return{promise:t}}var A={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:D},T=function(e){var t=!1;try{t=_.apply(null,arguments)}catch(i){s.throwLater(i),t=!0}var n=!1;try{n=w(e,A[e].apply(null,arguments))}catch(i){s.throwLater(i),n=!0}return n||t};function U(){return!1}function E(e,t,n){var i=this;try{e(t,n,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+c.toString(e));i._attachCancellationCallback(e)})}catch(r){return r}}function k(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?c.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function C(){return this._onCancelField}function S(e){this._onCancelField=e}function F(){this._cancellationParent=void 0,this._onCancelField=void 0}function M(e,t){if(1&t){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}2&t&&e._isBound()&&this._setBoundTo(e._boundTo)}e.config=function(t){if("longStackTraces"in(t=Object(t))&&(t.longStackTraces?e.longStackTraces():!t.longStackTraces&&e.hasLongStackTraces()&&x()),"warnings"in t){var n=t.warnings;Y.warnings=!!n,v=Y.warnings,c.isObject(n)&&"wForgottenReturn"in n&&(v=!!n.wForgottenReturn)}if("cancellation"in t&&t.cancellation&&!Y.cancellation){if(s.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");e.prototype._clearCancellationData=F,e.prototype._propagateFrom=M,e.prototype._onCancel=C,e.prototype._setOnCancel=S,e.prototype._attachCancellationCallback=k,e.prototype._execute=E,W=M,Y.cancellation=!0}return"monitoring"in t&&(t.monitoring&&!Y.monitoring?(Y.monitoring=!0,e.prototype._fireEvent=T):!t.monitoring&&Y.monitoring&&(Y.monitoring=!1,e.prototype._fireEvent=U)),e},e.prototype._fireEvent=U,e.prototype._execute=function(e,t,n){try{e(t,n)}catch(i){return i}},e.prototype._onCancel=function(){},e.prototype._setOnCancel=function(e){},e.prototype._attachCancellationCallback=function(e){},e.prototype._captureStackTrace=function(){},e.prototype._attachExtraTrace=function(){},e.prototype._clearCancellationData=function(){},e.prototype._propagateFrom=function(e,t){};var W=function(e,t){2&t&&e._isBound()&&this._setBoundTo(e._boundTo)};function I(){var t=this._boundTo;return void 0!==t&&t instanceof e?t.isFulfilled()?t.value():void 0:t}function P(){this._trace=new G(this._peekContext())}function R(e,t){if(l(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var i=O(e);c.notEnumerableProp(e,"stack",i.message+"\n"+i.stack.join("\n")),c.notEnumerableProp(e,"__stackCleaned__",!0)}}}function B(t,n,i){if(Y.warnings){var r,a=new o(t);if(n)i._attachExtraTrace(a);else if(Y.longStackTraces&&(r=e._peekContext()))r.attachExtraTrace(a);else{var s=O(a);a.stack=s.message+"\n"+s.stack.join("\n")}T("warning",a)||L(a,"",!0)}}function N(e){for(var t=[],n=0;n<e.length;++n){var i=e[n],r="    (No stack trace)"===i||p.test(i),a=r&&q(i);r&&!a&&(g&&" "!==i.charAt(0)&&(i="    "+i),t.push(i))}return t}function O(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var i=t[n];if("    (No stack trace)"===i||p.test(i))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:N(t)}}function L(e,t,n){if("undefined"!=typeof console){var i;if(c.isObject(e)){var a=e.stack;i=t+f(a,e)}else i=t+String(e);"function"==typeof r?r(i,n):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(i)}}function j(e,t,n,i){var r=!1;try{"function"==typeof t&&(r=!0,"rejectionHandled"===e?t(i):t(n,i))}catch(a){s.throwLater(a)}"unhandledRejection"===e?T(e,n,i)||r||L(n,"Unhandled rejection "):T(e,i)}function z(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{t=e&&"function"==typeof e.toString?e.toString():c.toString(e);if(/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(n){}0===t.length&&(t="(empty array)")}return"(<"+function(e){var t=41;if(e.length<t)return e;return e.substr(0,t-3)+"..."}(t)+">, no stack trace)"}function H(){return"function"==typeof X}var q=function(){return!1},V=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function $(e){var t=e.match(V);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function G(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);X(this,G),t>32&&this.uncycle()}c.inherits(G,Error),t.CapturedTrace=G,G.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},i=0,r=this;void 0!==r;++i)t.push(r),r=r._parent;for(i=(e=this._length=i)-1;i>=0;--i){var a=t[i].stack;void 0===n[a]&&(n[a]=i)}for(i=0;i<e;++i){var s=n[t[i].stack];if(void 0!==s&&s!==i){s>0&&(t[s-1]._parent=void 0,t[s-1]._length=1),t[i]._parent=void 0,t[i]._length=1;var o=i>0?t[i-1]:this;s<e-1?(o._parent=t[s+1],o._parent.uncycle(),o._length=o._parent._length+1):(o._parent=void 0,o._length=1);for(var c=o._length+1,l=i-2;l>=0;--l)t[l]._length=c,c++;return}}}},G.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=O(e),n=t.message,i=[t.stack],r=this;void 0!==r;)i.push(N(r.stack.split("\n"))),r=r._parent;!function(e){for(var t=e[0],n=1;n<e.length;++n){for(var i=e[n],r=t.length-1,a=t[r],s=-1,o=i.length-1;o>=0;--o)if(i[o]===a){s=o;break}for(o=s;o>=0;--o){var c=i[o];if(t[r]!==c)break;t.pop(),r--}t=i}}(i),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(i),c.notEnumerableProp(e,"stack",function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}(n,i)),c.notEnumerableProp(e,"__stackCleaned__",!0)}};var X=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():z(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,p=e,f=t;var n=Error.captureStackTrace;return q=function(e){return h.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var i,r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return p=/@/,f=t,g=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(a){i="stack"in a}return!("stack"in r)&&i&&"number"==typeof Error.stackTraceLimit?(p=e,f=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(a){e.stack=a.stack}Error.stackTraceLimit-=6}):(f=function(e,t){return"string"==typeof e?e:"object"!=typeof t&&"function"!=typeof t||void 0===t.name||void 0===t.message?z(t):t.toString()},null)}();"undefined"!=typeof console&&void 0!==console.warn&&(r=function(e){console.warn(e)},c.isNode&&process.stderr.isTTY?r=function(e,t){var n=t?"[33m":"[31m";console.warn(n+e+"[0m\n")}:c.isNode||"string"!=typeof(new Error).stack||(r=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var Y={warnings:b,longStackTraces:!1,cancellation:!1,monitoring:!1};return y&&e.longStackTraces(),{longStackTraces:function(){return Y.longStackTraces},warnings:function(){return Y.warnings},cancellation:function(){return Y.cancellation},monitoring:function(){return Y.monitoring},propagateFromFunction:function(){return W},boundValueFunction:function(){return I},checkForgottenReturns:function(e,t,n,i,r){if(void 0===e&&null!==t&&v){if(void 0!==r&&r._returnedNonUndefined())return;if(!(65535&i._bitField))return;n&&(n+=" ");var a="",s="";if(t._trace){for(var o=t._trace.stack.split("\n"),c=N(o),l=c.length-1;l>=0;--l){var h=c[l];if(!d.test(h)){var p=h.match(u);p&&(a="at "+p[1]+":"+p[2]+":"+p[3]+" ");break}}if(c.length>0){var f=c[0];for(l=0;l<o.length;++l)if(o[l]===f){l>0&&(s="\n"+o[l-1]);break}}}var g="a promise was created in a "+n+"handler "+a+"but was not returned from it, see http://goo.gl/rRqMUw"+s;i._warn(g,!0,t)}},setBounds:function(e,t){if(H()){for(var n,i,r=e.stack.split("\n"),a=t.stack.split("\n"),s=-1,o=-1,c=0;c<r.length;++c){if(l=$(r[c])){n=l.fileName,s=l.line;break}}for(c=0;c<a.length;++c){var l;if(l=$(a[c])){i=l.fileName,o=l.line;break}}s<0||o<0||!n||!i||n!==i||s>=o||(q=function(e){if(h.test(e))return!0;var t=$(e);return!!(t&&t.fileName===n&&s<=t.line&&t.line<=o)})}},warn:B,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),B(n)},CapturedTrace:G,fireDomEvent:w,fireGlobalEvent:_}}),tD}function rA(){if(cD)return oD;cD=1;var e=j_(),t=e.maybeWrapAsError,n=tA().OperationalError,i=L_();var r=/^(?:name|message|stack|cause)$/;function a(t){var a;if(function(e){return e instanceof Error&&i.getPrototypeOf(e)===Error.prototype}(t)){(a=new n(t)).name=t.name,a.message=t.message,a.stack=t.stack;for(var s=i.keys(t),o=0;o<s.length;++o){var c=s[o];r.test(c)||(a[c]=t[c])}return a}return e.markAsOriginatingFromRejection(t),t}return oD=function(e,n){return function(i,r){if(null!==e){if(i){var s=a(t(i));e._attachExtraTrace(s),e._reject(s)}else if(n){for(var o=arguments.length,c=new Array(Math.max(o-1,0)),l=1;l<o;++l)c[l-1]=arguments[l];e._fulfill(c)}else e._fulfill(r);e=null}}},oD}function aA(){return UD||(UD=1,TD=function(e,t,n,i,r,a){var s=j_(),o=tA().TypeError,c=j_().inherits,l=s.errorObj,h=s.tryCatch,d={};function u(e){setTimeout(function(){throw e},0)}function p(t,i){var a=0,s=t.length,o=new e(r);return function r(){if(a>=s)return o._fulfill();var c=function(e){var t=n(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(t[a++]);if(c instanceof e&&c._isDisposable()){try{c=n(c._getDisposer().tryDispose(i),t.promise)}catch(l){return u(l)}if(c instanceof e)return c._then(r,u,null,null,null)}r()}(),o}function f(e,t,n){this._data=e,this._promise=t,this._context=n}function g(e,t,n){this.constructor$(e,t,n)}function m(e){return f.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function b(e){this.length=e,this.promise=null,this[e-1]=null}f.prototype.data=function(){return this._data},f.prototype.promise=function(){return this._promise},f.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():d},f.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var i=t!==d?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,i},f.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},c(g,f),g.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},b.prototype._resultCancelled=function(){for(var t=this.length,n=0;n<t;++n){var i=this[n];i instanceof e&&i.cancel()}},e.using=function(){var i=arguments.length;if(i<2)return t("you must pass at least 2 arguments to Promise.using");var r,o=arguments[i-1];if("function"!=typeof o)return t("expecting a function but got "+s.classString(o));var c=!0;2===i&&Array.isArray(arguments[0])?(i=(r=arguments[0]).length,c=!1):(r=arguments,i--);for(var d=new b(i),u=0;u<i;++u){var g=r[u];if(f.isDisposer(g)){var y=g;(g=g.promise())._setDisposable(y)}else{var v=n(g);v instanceof e&&(g=v._then(m,null,null,{resources:d,index:u},void 0))}d[u]=g}var x=new Array(d.length);for(u=0;u<x.length;++u)x[u]=e.resolve(d[u]).reflect();var w=e.all(x).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return l.e=n.error(),l;if(!n.isFulfilled())return void w.cancel();e[t]=n.value()}_._pushContext(),o=h(o);var i=c?o.apply(void 0,e):o(e),r=_._popContext();return a.checkForgottenReturns(i,r,"Promise.using",_),i}),_=w.lastly(function(){var t=new e.PromiseInspection(w);return p(d,t)});return d.promise=_,_._setOnCancel(d),_},e.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},e.prototype._isDisposable=function(){return(131072&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},e.prototype.disposer=function(e){if("function"==typeof e)return new g(e,this,i());throw new o}}),TD}function sA(){return kD?ED:(kD=1,ED=function(e,t,n){var i=j_(),r=e.TimeoutError;function a(e){this.handle=e}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(e){return o(+this).thenReturn(e)},o=e.delay=function(i,r){var o,c;return void 0!==r?(o=e.resolve(r)._then(s,null,null,i,void 0),n.cancellation()&&r instanceof e&&o._setOnCancel(r)):(o=new e(t),c=setTimeout(function(){o._fulfill()},+i),n.cancellation()&&o._setOnCancel(new a(c)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};e.prototype.delay=function(e){return o(e,this)};function c(e){return clearTimeout(this.handle),e}function l(e){throw clearTimeout(this.handle),e}e.prototype.timeout=function(e,t){var s,o;e=+e;var h=new a(setTimeout(function(){s.isPending()&&function(e,t,n){var a;a="string"!=typeof t?t instanceof Error?t:new r("operation timed out"):new r(t),i.markAsOriginatingFromRejection(a),e._attachExtraTrace(a),e._reject(a),null!=n&&n.cancel()}(s,t,o)},e));return n.cancellation()?(o=this.then(),(s=o._then(c,l,void 0,h,void 0))._setOnCancel(h)):s=this._then(c,l,void 0,h,void 0),s}})}function oA(){return SD||(SD=1,CD=function(e,t,n,i,r,a){var s=tA().TypeError,o=j_(),c=o.errorObj,l=o.tryCatch,h=[];function d(t,i,r,s){if(a.cancellation()){var o=new e(n),c=this._finallyPromise=new e(n);this._promise=o.lastly(function(){return c}),o._captureStackTrace(),o._setOnCancel(this)}else{(this._promise=new e(n))._captureStackTrace()}this._stack=s,this._generatorFunction=t,this._receiver=i,this._generator=void 0,this._yieldHandlers="function"==typeof r?[r].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}o.inherits(d,r),d.prototype._isResolved=function(){return null===this._promise},d.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},d.prototype._promiseCancelled=function(){if(!this._isResolved()){var t;if(void 0!==this._generator.return)this._promise._pushContext(),t=l(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new e.CancellationError("generator .return() sentinel");e.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),t=l(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(t)}},d.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=l(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},d.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=l(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},d.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof e){var t=this._yieldedPromise;this._yieldedPromise=null,t.cancel()}},d.prototype.promise=function(){return this._promise},d.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},d.prototype._continue=function(t){var n=this._promise;if(t===c)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(t.e,!1);var r=t.value;if(!0===t.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var a=i(r,this._promise);if(a instanceof e||(a=function(t,n,r){for(var a=0;a<n.length;++a){r._pushContext();var s=l(n[a])(t);if(r._popContext(),s===c){r._pushContext();var o=e.reject(c.e);return r._popContext(),o}var h=i(s,r);if(h instanceof e)return h}return null}(a,this._yieldHandlers,this._promise),null!==a)){var o=(a=a._target())._bitField;50397184&o?33554432&o?e._async.invoke(this._promiseFulfilled,this,a._value()):16777216&o?e._async.invoke(this._promiseRejected,this,a._reason()):this._promiseCancelled():(this._yieldedPromise=a,a._proxy(this,null))}else this._promiseRejected(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",r)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},e.coroutine=function(e,t){if("function"!=typeof e)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,i=d,r=(new Error).stack;return function(){var t=e.apply(this,arguments),a=new i(void 0,void 0,n,r),s=a.promise();return a._generator=t,a._promiseFulfilled(void 0),s}},e.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new s("expecting a function but got "+o.classString(e));h.push(e)},e.spawn=function(n){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof n)return t("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var i=new d(n,this),r=i.promise();return i._run(e.spawn),r}}),CD}function cA(){return ID||(ID=1,WD=function(e,t){var n={},i=j_(),r=rA(),a=i.withAppended,s=i.maybeWrapAsError,o=i.canEvaluate,c=tA().TypeError,l={__isPromisified__:!0},h=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),d=function(e){return i.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function u(e){return!h.test(e)}function p(e){try{return!0===e.__isPromisified__}catch(t){return!1}}function f(e,t,n){var r=i.getDataPropertyOrDefault(e,t+n,l);return!!r&&p(r)}function g(e,t,n,r){for(var a=i.inheritedDataKeys(e),s=[],o=0;o<a.length;++o){var l=a[o],h=e[l],u=r===d||d(l);"function"!=typeof h||p(h)||f(e,l,t)||!r(l,h,e,u)||s.push(l,h)}return function(e,t,n){for(var i=0;i<e.length;i+=2){var r=e[i];if(n.test(r))for(var a=r.replace(n,""),s=0;s<e.length;s+=2)if(e[s]===a)throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(s,t,n),s}var m;m=function(o,c,l,h,d,u){var p=Math.max(0,function(e){return"number"==typeof e.length?Math.max(Math.min(e.length,1024),0):0}(h)-1),f=function(e){for(var t=[e],n=Math.max(0,e-1-3),i=e-1;i>=n;--i)t.push(i);for(i=e+1;i<=3;++i)t.push(i);return t}(p),g="string"==typeof o||c===n;function m(e){var t,n=(t=e,i.filledRange(t,"_arg","")).join(", "),r=e>0?", ":"";return(g?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===c?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n").replace("{{args}}",n).replace(", ",r)}var b,y="string"==typeof o?"this != null ? this['"+o+"'] : fn":"fn",v="'use strict';                                                \n\t        var ret = function (Parameters) {                                    \n\t            'use strict';                                                    \n\t            var len = arguments.length;                                      \n\t            var promise = new Promise(INTERNAL);                             \n\t            promise._captureStackTrace();                                    \n\t            var nodeback = nodebackForPromise(promise, "+u+");   \n\t            var ret;                                                         \n\t            var callback = tryCatch([GetFunctionCode]);                      \n\t            switch(len) {                                                    \n\t                [CodeForSwitchCase]                                          \n\t            }                                                                \n\t            if (ret === errorObj) {                                          \n\t                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n\t            }                                                                \n\t            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n\t            return promise;                                                  \n\t        };                                                                   \n\t        notEnumerableProp(ret, '__isPromisified__', true);                   \n\t        return ret;                                                          \n\t    ".replace("[CodeForSwitchCase]",function(){for(var e="",t=0;t<f.length;++t)e+="case "+f[t]+":"+m(f[t]);return e+="                                                             \n\t        default:                                                             \n\t            var args = new Array(len + 1);                                   \n\t            var i = 0;                                                       \n\t            for (var i = 0; i < len; ++i) {                                  \n\t               args[i] = arguments[i];                                       \n\t            }                                                                \n\t            args[i] = nodeback;                                              \n\t            [CodeForCall]                                                    \n\t            break;                                                           \n\t        ".replace("[CodeForCall]",g?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}()).replace("[GetFunctionCode]",y);return v=v.replace("Parameters",(b=p,i.filledRange(Math.max(b,3),"_arg",""))),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",v)(e,h,c,a,s,r,i.tryCatch,i.errorObj,i.notEnumerableProp,t)};var b=o?m:function(o,c,l,h,d,u){var p=function(){return this}(),f=o;function g(){var i=c;c===n&&(i=this);var l=new e(t);l._captureStackTrace();var h="string"==typeof f&&this!==p?this[f]:o,d=r(l,u);try{h.apply(i,a(arguments,d))}catch(g){l._rejectCallback(s(g),!0,!0)}return l._isFateSealed()||l._setAsyncGuaranteed(),l}return"string"==typeof f&&(o=h),i.notEnumerableProp(g,"__isPromisified__",!0),g};function y(e,t,r,a,s){for(var o=new RegExp(t.replace(/([$])/,"\\$")+"$"),c=g(e,t,o,r),l=0,h=c.length;l<h;l+=2){var d=c[l],u=c[l+1],p=d+t;if(a===b)e[p]=b(d,n,d,u,t,s);else{var f=a(u,function(){return b(d,n,d,u,t,s)});i.notEnumerableProp(f,"__isPromisified__",!0),e[p]=f}}return i.toFastProperties(e),e}e.promisify=function(e,t){if("function"!=typeof e)throw new c("expecting a function but got "+i.classString(e));if(p(e))return e;var r=function(e,t,n){return b(e,t,void 0,e,null,n)}(e,void 0===(t=Object(t)).context?n:t.context,!!t.multiArgs);return i.copyDescriptors(e,r,u),r},e.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!=typeof e)throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,r=t.suffix;"string"!=typeof r&&(r="Async");var a=t.filter;"function"!=typeof a&&(a=d);var s=t.promisifier;if("function"!=typeof s&&(s=b),!i.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var o=i.inheritedDataKeys(e),l=0;l<o.length;++l){var h=e[o[l]];"constructor"!==o[l]&&i.isClass(h)&&(y(h.prototype,r,a,s,n),y(h,r,a,s,n))}return y(e,r,a,s,n)}}),WD}function lA(){return RD||(RD=1,PD=function(e,t,n,i){var r,a=j_(),s=a.isObject,o=L_();"function"==typeof Map&&(r=Map);var c=function(){var e=0,t=0;function n(n,i){this[e]=n,this[e+t]=i,e++}return function(i){t=i.size,e=0;var r=new Array(2*i.size);return i.forEach(n,r),r}}();function l(e){var t,n=!1;if(void 0!==r&&e instanceof r)t=c(e),n=!0;else{var i=o.keys(e),a=i.length;t=new Array(2*a);for(var s=0;s<a;++s){var l=i[s];t[s]=e[l],t[s+a]=l}}this.constructor$(t),this._isMap=n,this._init$(void 0,-3)}function h(t){var r,a=n(t);return s(a)?(r=a instanceof e?a._then(e.props,void 0,void 0,void 0,void 0):new l(a).promise(),a instanceof e&&r._propagateFrom(a,2),r):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(l,t),l.prototype._init=function(){},l.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(e){for(var t=new r,n=e.length/2|0,i=0;i<n;++i){var a=e[n+i],s=e[i];t.set(a,s)}return t}(this._values);else{n={};for(var i=this.length(),a=0,s=this.length();a<s;++a)n[this._values[a+i]]=this._values[a]}return this._resolve(n),!0}return!1},l.prototype.shouldCopyValues=function(){return!1},l.prototype.getActualLength=function(e){return e>>1},e.prototype.props=function(){return h(this)},e.props=function(e){return h(e)}}),PD}function hA(){return ND||(ND=1,BD=function(e,t,n,i){var r=j_();function a(s,o){var c,l=n(s);if(l instanceof e)return(c=l).then(function(e){return a(e,c)});if(null===(s=r.asArray(s)))return i("expecting an array or an iterable object but got "+r.classString(s));var h=new e(t);void 0!==o&&h._propagateFrom(o,3);for(var d=h._fulfill,u=h._reject,p=0,f=s.length;p<f;++p){var g=s[p];(void 0!==g||p in s)&&e.cast(g)._then(d,u,void 0,h,null)}return h}e.race=function(e){return a(e,void 0)},e.prototype.race=function(){return a(this,void 0)}}),BD}(ZD=N_).exports=function(){var e=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},t=function(){return new U.PromiseInspection(this._target())},n=function(e){return U.reject(new d(e))};function i(){}var r,a={},s=j_();r=s.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},s.notEnumerableProp(U,"_getDomain",r);var o=L_(),c=eA(),l=new c;o.defineProperty(U,"_async",{value:l});var h=tA(),d=U.TypeError=h.TypeError;U.RangeError=h.RangeError;var u=U.CancellationError=h.CancellationError;U.TimeoutError=h.TimeoutError,U.OperationalError=h.OperationalError,U.RejectionError=h.OperationalError,U.AggregateError=h.AggregateError;var p=function(){},f={},g={},m=nA()(U,p),b=(Q_||(Q_=1,Z_=function(e,t,n,i,r){var a=j_();function s(n){var i=this._promise=new e(t);n instanceof e&&i._propagateFrom(n,3),i._setOnCancel(this),this._values=n,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.isArray,a.inherits(s,r),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function t(r,s){var o=n(this._values,this._promise);if(o instanceof e){var c=(o=o._target())._bitField;if(this._values=o,!(50397184&c))return this._promise._setAsyncGuaranteed(),o._then(t,this._reject,void 0,this,s);if(!(33554432&c))return 16777216&c?this._reject(o._reason()):this._cancel();o=o._value()}if(null!==(o=a.asArray(o)))0!==o.length?this._iterate(o):-5===s?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{}}}(s));else{var l=i("expecting an array or an iterable object but got "+a.classString(o)).reason();this._promise._rejectCallback(l,!1)}},s.prototype._iterate=function(t){var i=this.getActualLength(t.length);this._length=i,this._values=this.shouldCopyValues()?new Array(i):this._values;for(var r=this._promise,a=!1,s=null,o=0;o<i;++o){var c=n(t[o],r);s=c instanceof e?(c=c._target())._bitField:null,a?null!==s&&c.suppressUnhandledRejections():null!==s?50397184&s?a=33554432&s?this._promiseFulfilled(c._value(),o):16777216&s?this._promiseRejected(c._reason(),o):this._promiseCancelled(o):(c._proxy(this,o),this._values[o]=c):a=this._promiseFulfilled(c,o)}a||r._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var t=this._values;if(this._cancel(),t instanceof e)t.cancel();else for(var n=0;n<t.length;++n)t[n]instanceof e&&t[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}),Z_)(U,p,m,n,i),y=(eD?J_:(eD=1,J_=function(e){var t=!1,n=[];function i(){this._trace=new i.CapturedTrace(r())}function r(){var e=n.length-1;if(e>=0)return n[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},i.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},i.prototype._popContext=function(){if(void 0!==this._trace){var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},i.CapturedTrace=null,i.create=function(){if(t)return new i},i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var n=e.prototype._pushContext,a=e.prototype._popContext,s=e._peekContext,o=e.prototype._peekContext,c=e.prototype._promiseCreated;i.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=a,e._peekContext=s,e.prototype._peekContext=o,e.prototype._promiseCreated=c,t=!1},t=!0,e.prototype._pushContext=i.prototype._pushContext,e.prototype._popContext=i.prototype._popContext,e._peekContext=e.prototype._peekContext=r,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},i}))(U),v=y.create,x=iA()(U,y);x.CapturedTrace;var w=(rD||(rD=1,iD=function(e,t){var n=j_(),i=e.CancellationError,r=n.errorObj;function a(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function s(e){this.finallyHandler=e}function o(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function c(){return h.call(this,this.promise._target()._settledValue())}function l(e){if(!o(this,e))return r.e=e,r}function h(n){var a=this.promise,h=this.handler;if(!this.called){this.called=!0;var d=this.isFinallyHandler()?h.call(a._boundValue()):h.call(a._boundValue(),n);if(void 0!==d){a._setReturnedNonUndefined();var u=t(d,a);if(u instanceof e){if(null!=this.cancelPromise){if(u._isCancelled()){var p=new i("late cancellation observer");return a._attachExtraTrace(p),r.e=p,r}u.isPending()&&u._attachCancellationCallback(new s(this))}return u._then(c,l,void 0,this,void 0)}}}return a.isRejected()?(o(this),r.e=n,r):(o(this),n)}return a.prototype.isFinallyHandler=function(){return 0===this.type},s.prototype._resultCancelled=function(){o(this.finallyHandler)},e.prototype._passThrough=function(e,t,n,i){return"function"!=typeof e?this.then():this._then(n,i,void 0,new a(this,t,e),void 0)},e.prototype.lastly=e.prototype.finally=function(e){return this._passThrough(e,0,h,h)},e.prototype.tap=function(e){return this._passThrough(e,1,h)},a}),iD)(U,m),_=(sD||(sD=1,aD=function(e){var t=j_(),n=L_().keys,i=t.tryCatch,r=t.errorObj;return function(a,s,o){return function(c){var l=o._boundValue();e:for(var h=0;h<a.length;++h){var d=a[h];if(d===Error||null!=d&&d.prototype instanceof Error){if(c instanceof d)return i(s).call(l,c)}else if("function"==typeof d){var u=i(d).call(l,c);if(u===r)return u;if(u)return i(s).call(l,c)}else if(t.isObject(c)){for(var p=n(d),f=0;f<p.length;++f){var g=p[f];if(d[g]!=c[g])continue e}return i(s).call(l,c)}}return e}}}),aD)(g),D=rA(),A=s.errorObj,T=s.tryCatch;function U(e){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,e!==p&&(function(e,t){if("function"!=typeof t)throw new d("expecting a function but got "+s.classString(t));if(e.constructor!==U)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}(this,e),this._resolveFromExecutor(e)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function E(e){this.promise._resolveCallback(e)}function k(e){this.promise._rejectCallback(e,!1)}function C(e){var t=new U(p);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return U.prototype.toString=function(){return"[object Promise]"},U.prototype.caught=U.prototype.catch=function(e){var t=arguments.length;if(t>1){var i,r=new Array(t-1),a=0;for(i=0;i<t-1;++i){var o=arguments[i];if(!s.isObject(o))return n("expecting an object but got A catch statement predicate "+s.classString(o));r[a++]=o}return r.length=a,e=arguments[i],this.then(void 0,_(r,e,this))}return this.then(void 0,e)},U.prototype.reflect=function(){return this._then(t,t,void 0,this,void 0)},U.prototype.then=function(e,t){if(x.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+s.classString(e);arguments.length>1&&(n+=", "+s.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},U.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},U.prototype.spread=function(e){return"function"!=typeof e?n("expecting a function but got "+s.classString(e)):this.all()._then(e,void 0,void 0,f,void 0)},U.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},U.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new b(this).promise()},U.prototype.error=function(e){return this.caught(s.originatesFromRejection,e)},U.getNewLibraryCopy=ZD.exports,U.is=function(e){return e instanceof U},U.fromNode=U.fromCallback=function(e){var t=new U(p);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,i=T(e)(D(t,n));return i===A&&t._rejectCallback(i.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},U.all=function(e){return new b(e).promise()},U.cast=function(e){var t=m(e);return t instanceof U||((t=new U(p))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},U.resolve=U.fulfilled=U.cast,U.reject=U.rejected=function(e){var t=new U(p);return t._captureStackTrace(),t._rejectCallback(e,!0),t},U.setScheduler=function(e){if("function"!=typeof e)throw new d("expecting a function but got "+s.classString(e));return l.setScheduler(e)},U.prototype._then=function(e,t,n,i,a){var o=void 0!==a,c=o?a:new U(p),h=this._target(),d=h._bitField;o||(c._propagateFrom(this,3),c._captureStackTrace(),void 0===i&&2097152&this._bitField&&(i=50397184&d?this._boundValue():h===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,c));var f=r();if(50397184&d){var g,m,b=h._settlePromiseCtx;33554432&d?(m=h._rejectionHandler0,g=e):16777216&d?(m=h._fulfillmentHandler0,g=t,h._unsetRejectionIsUnhandled()):(b=h._settlePromiseLateCancellationObserver,m=new u("late cancellation observer"),h._attachExtraTrace(m),g=t),l.invoke(b,h,{handler:null===f?g:"function"==typeof g&&s.domainBind(f,g),promise:c,receiver:i,value:m})}else h._addCallbacks(e,t,c,i,f);return c},U.prototype._length=function(){return 65535&this._bitField},U.prototype._isFateSealed=function(){return!!(117506048&this._bitField)},U.prototype._isFollowing=function(){return!(67108864&~this._bitField)},U.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},U.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},U.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},U.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},U.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},U.prototype._isFinal=function(){return(4194304&this._bitField)>0},U.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},U.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},U.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},U.prototype._setAsyncGuaranteed=function(){l.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},U.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==a)return void 0===t&&this._isBound()?this._boundValue():t},U.prototype._promiseAt=function(e){return this[4*e-4+2]},U.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},U.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},U.prototype._boundValue=function(){},U.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,n=e._rejectionHandler0,i=e._promise0,r=e._receiverAt(0);void 0===r&&(r=a),this._addCallbacks(t,n,i,r,null)},U.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),i=e._rejectionHandlerAt(t),r=e._promiseAt(t),s=e._receiverAt(t);void 0===s&&(s=a),this._addCallbacks(n,i,r,s,null)},U.prototype._addCallbacks=function(e,t,n,i,r){var a=this._length();if(a>=65531&&(a=0,this._setLength(0)),0===a)this._promise0=n,this._receiver0=i,"function"==typeof e&&(this._fulfillmentHandler0=null===r?e:s.domainBind(r,e)),"function"==typeof t&&(this._rejectionHandler0=null===r?t:s.domainBind(r,t));else{var o=4*a-4;this[o+2]=n,this[o+3]=i,"function"==typeof e&&(this[o+0]=null===r?e:s.domainBind(r,e)),"function"==typeof t&&(this[o+1]=null===r?t:s.domainBind(r,t))}return this._setLength(a+1),a},U.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},U.prototype._resolveCallback=function(t,n){if(!(117506048&this._bitField)){if(t===this)return this._rejectCallback(e(),!1);var i=m(t,this);if(!(i instanceof U))return this._fulfill(t);n&&this._propagateFrom(i,2);var r=i._target();if(r!==this){var a=r._bitField;if(50397184&a)if(33554432&a)this._fulfill(r._value());else if(16777216&a)this._reject(r._reason());else{var s=new u("late cancellation observer");r._attachExtraTrace(s),this._reject(s)}else{var o=this._length();o>0&&r._migrateCallback0(this);for(var c=1;c<o;++c)r._migrateCallbackAt(this,c);this._setFollowing(),this._setLength(0),this._setFollowee(r)}}else this._reject(e())}},U.prototype._rejectCallback=function(e,t,n){var i=s.ensureErrorObject(e),r=i===e;if(!r&&!n&&x.warnings()){var a="a promise was rejected with a non-error: "+s.classString(e);this._warn(a,!0)}this._attachExtraTrace(i,!!t&&r),this._reject(e)},U.prototype._resolveFromExecutor=function(e){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,i=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=!1,this._popContext(),void 0!==i&&t._rejectCallback(i,!0)},U.prototype._settlePromiseFromHandler=function(e,t,n,i){var r=i._bitField;if(!(65536&r)){var a;i._pushContext(),t===f?n&&"number"==typeof n.length?a=T(e).apply(this._boundValue(),n):(a=A).e=new d("cannot .spread() a non-array: "+s.classString(n)):a=T(e).call(t,n);var o=i._popContext();65536&(r=i._bitField)||(a===g?i._reject(n):a===A?i._rejectCallback(a.e,!1):(x.checkForgottenReturns(a,o,"",i,this),i._resolveCallback(a)))}},U.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},U.prototype._followee=function(){return this._rejectionHandler0},U.prototype._setFollowee=function(e){this._rejectionHandler0=e},U.prototype._settlePromise=function(e,n,r,a){var s=e instanceof U,o=this._bitField,c=!!(134217728&o);65536&o?(s&&e._invokeInternalOnCancel(),r instanceof w&&r.isFinallyHandler()?(r.cancelPromise=e,T(n).call(r,a)===A&&e._reject(A.e)):n===t?e._fulfill(t.call(r)):r instanceof i?r._promiseCancelled(e):s||e instanceof b?e._cancel():r.cancel()):"function"==typeof n?s?(c&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(n,r,a,e)):n.call(r,a,e):r instanceof i?r._isResolved()||(33554432&o?r._promiseFulfilled(a,e):r._promiseRejected(a,e)):s&&(c&&e._setAsyncGuaranteed(),33554432&o?e._fulfill(a):e._reject(a))},U.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,i=e.receiver,r=e.value;"function"==typeof t?n instanceof U?this._settlePromiseFromHandler(t,i,r,n):t.call(i,r,n):n instanceof U&&n._reject(r)},U.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},U.prototype._settlePromise0=function(e,t,n){var i=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(i,e,r,t)},U.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},U.prototype._fulfill=function(t){var n=this._bitField;if(!((117506048&n)>>>16)){if(t===this){var i=e();return this._attachExtraTrace(i),this._reject(i)}this._setFulfilled(),this._rejectionHandler0=t,(65535&n)>0&&(134217728&n?this._settlePromises():l.settlePromises(this))}},U.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return l.fatalError(e,s.isNode);(65535&t)>0?l.settlePromises(this):this._ensurePossibleRejectionHandled()}},U.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var i=this._fulfillmentHandlerAt(n),r=this._promiseAt(n),a=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,a,t)}},U.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var i=this._rejectionHandlerAt(n),r=this._promiseAt(n),a=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(r,i,a,t)}},U.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(16842752&e){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var i=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,i,e),this._fulfillPromises(t,i)}this._setLength(0)}this._clearCancellationData()},U.prototype._settledValue=function(){var e=this._bitField;return 33554432&e?this._rejectionHandler0:16777216&e?this._fulfillmentHandler0:void 0},U.defer=U.pending=function(){return x.deprecated("Promise.defer","new Promise"),{promise:new U(p),resolve:E,reject:k}},s.notEnumerableProp(U,"_makeSelfResolutionError",e),(hD||(hD=1,lD=function(e,t,n,i,r){var a=j_(),s=a.tryCatch;e.method=function(n){if("function"!=typeof n)throw new e.TypeError("expecting a function but got "+a.classString(n));return function(){var i=new e(t);i._captureStackTrace(),i._pushContext();var a=s(n).apply(this,arguments),o=i._popContext();return r.checkForgottenReturns(a,o,"Promise.method",i),i._resolveFromSyncValue(a),i}},e.attempt=e.try=function(n){if("function"!=typeof n)return i("expecting a function but got "+a.classString(n));var o,c=new e(t);if(c._captureStackTrace(),c._pushContext(),arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var l=arguments[1],h=arguments[2];o=a.isArray(l)?s(n).apply(h,l):s(n).call(h,l)}else o=s(n)();var d=c._popContext();return r.checkForgottenReturns(o,d,"Promise.try",c),c._resolveFromSyncValue(o),c},e.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}),lD)(U,p,m,n,x),(uD?dD:(uD=1,dD=function(e,t,n,i){var r=!1,a=function(e,t){this._reject(t)},s=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(a,a,null,this,e)},o=function(e,t){50397184&this._bitField||this._resolveCallback(t.target)},c=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(a){r||(r=!0,e.prototype._propagateFrom=i.propagateFromFunction(),e.prototype._boundValue=i.boundValueFunction());var l=n(a),h=new e(t);h._propagateFrom(this,1);var d=this._target();if(h._setBoundTo(l),l instanceof e){var u={promiseRejectionQueued:!1,promise:h,target:d,bindingPromise:l};d._then(t,s,void 0,h,u),l._then(o,c,void 0,h,u),h._setOnCancel(l)}else h._resolveCallback(d);return h},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return!(2097152&~this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}))(U,p,m,x),(fD||(fD=1,pD=function(e,t,n,i){var r=j_(),a=r.tryCatch,s=r.errorObj,o=e._async;e.prototype.break=e.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},e.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},e.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},e.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},e.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},e.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},e.prototype._unsetOnCancel=function(){this._onCancelField=void 0},e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},e.prototype._doInvokeOnCancel=function(e,t){if(r.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var i=a(e).call(this._boundValue());i===s&&(this._attachExtraTrace(i.e),o.throwLater(i.e))}}else e._resultCancelled(this)},e.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,e)},e.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},e.prototype._resultCancelled=function(){this.cancel()}}),pD)(U,b,n,x),(mD||(mD=1,gD=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1];return this.caught(e,function(){throw t})},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var i=arguments[1];return i instanceof e&&i.suppressUnhandledRejections(),this.caught(n,function(){return i})}}),gD)(U),(yD?bD:(yD=1,bD=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.isFulfilled=function(){return!!(33554432&this._bitField)},a=t.prototype.isRejected=function(){return!!(16777216&this._bitField)},s=t.prototype.isPending=function(){return!(50397184&this._bitField)},o=t.prototype.isResolved=function(){return!!(50331648&this._bitField)};t.prototype.isCancelled=function(){return!!(8454144&this._bitField)},e.prototype.__isCancelled=function(){return!(65536&~this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return!!(8454144&this._target()._bitField)},e.prototype.isPending=function(){return s.call(this._target())},e.prototype.isRejected=function(){return a.call(this._target())},e.prototype.isFulfilled=function(){return r.call(this._target())},e.prototype.isResolved=function(){return o.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),i.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}))(U),(xD||(xD=1,vD=function(e,t,n,i,r,a){var s,o=j_(),c=o.canEvaluate,l=o.tryCatch,h=o.errorObj;if(c){for(var d=function(e){return new Function("value","holder","                             \n\t            'use strict';                                                    \n\t            holder.pIndex = value;                                           \n\t            holder.checkFulfillment(this);                                   \n\t            ".replace(/Index/g,e))},u=function(e){return new Function("promise","holder","                           \n\t            'use strict';                                                    \n\t            holder.pIndex = promise;                                         \n\t            ".replace(/Index/g,e))},p=function(t){for(var n=new Array(t),i=0;i<n.length;++i)n[i]="this.p"+(i+1);var a=n.join(" = ")+" = null;",s="var promise;\n"+n.map(function(e){return"                                                         \n\t                promise = "+e+";                                      \n\t                if (promise instanceof Promise) {                            \n\t                    promise.cancel();                                        \n\t                }                                                            \n\t            "}).join("\n"),o=n.join(", "),c="Holder$"+t,d="return function(tryCatch, errorObj, Promise, async) {    \n\t            'use strict';                                                    \n\t            function [TheName](fn) {                                         \n\t                [TheProperties]                                              \n\t                this.fn = fn;                                                \n\t                this.asyncNeeded = true;                                     \n\t                this.now = 0;                                                \n\t            }                                                                \n\t                                                                             \n\t            [TheName].prototype._callFunction = function(promise) {          \n\t                promise._pushContext();                                      \n\t                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n\t                promise._popContext();                                       \n\t                if (ret === errorObj) {                                      \n\t                    promise._rejectCallback(ret.e, false);                   \n\t                } else {                                                     \n\t                    promise._resolveCallback(ret);                           \n\t                }                                                            \n\t            };                                                               \n\t                                                                             \n\t            [TheName].prototype.checkFulfillment = function(promise) {       \n\t                var now = ++this.now;                                        \n\t                if (now === [TheTotal]) {                                    \n\t                    if (this.asyncNeeded) {                                  \n\t                        async.invoke(this._callFunction, this, promise);     \n\t                    } else {                                                 \n\t                        this._callFunction(promise);                         \n\t                    }                                                        \n\t                                                                             \n\t                }                                                            \n\t            };                                                               \n\t                                                                             \n\t            [TheName].prototype._resultCancelled = function() {              \n\t                [CancellationCode]                                           \n\t            };                                                               \n\t                                                                             \n\t            return [TheName];                                                \n\t        }(tryCatch, errorObj, Promise, async);                               \n\t        ";return d=d.replace(/\[TheName\]/g,c).replace(/\[TheTotal\]/g,t).replace(/\[ThePassedArguments\]/g,o).replace(/\[TheProperties\]/g,a).replace(/\[CancellationCode\]/g,s),new Function("tryCatch","errorObj","Promise","async",d)(l,h,e,r)},f=[],g=[],m=[],b=0;b<8;++b)f.push(p(b+1)),g.push(d(b+1)),m.push(u(b+1));s=function(e){this._reject(e)}}e.join=function(){var r,l=arguments.length-1;if(l>0&&"function"==typeof arguments[l]&&(r=arguments[l],l<=8&&c)){(_=new e(i))._captureStackTrace();for(var h=new(0,f[l-1])(r),d=g,u=0;u<l;++u){var p=n(arguments[u],_);if(p instanceof e){var b=(p=p._target())._bitField;50397184&b?33554432&b?d[u].call(_,p._value(),h):16777216&b?_._reject(p._reason()):_._cancel():(p._then(d[u],s,void 0,_,h),m[u](p,h),h.asyncNeeded=!1)}else d[u].call(_,p,h)}if(!_._isFateSealed()){if(h.asyncNeeded){var y=a();null!==y&&(h.fn=o.domainBind(y,h.fn))}_._setAsyncGuaranteed(),_._setOnCancel(h)}return _}for(var v=arguments.length,x=new Array(v),w=0;w<v;++w)x[w]=arguments[w];r&&x.pop();var _=new t(x).promise();return void 0!==r?_.spread(r):_}}),vD)(U,b,m,p,l,r),U.Promise=U,U.version="3.4.7",(_D||(_D=1,wD=function(e,t,n,i,r,a){var s=e._getDomain,o=j_(),c=o.tryCatch,l=o.errorObj,h=e._async;function d(e,t,n,i){this.constructor$(e),this._promise._captureStackTrace();var a=s();this._callback=null===a?t:o.domainBind(a,t),this._preservedValues=i===r?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],h.invoke(this._asyncInit,this,void 0)}function u(t,i,r,a){if("function"!=typeof i)return n("expecting a function but got "+o.classString(i));var s=0;if(void 0!==r){if("object"!=typeof r||null===r)return e.reject(new TypeError("options argument must be an object but it is "+o.classString(r)));if("number"!=typeof r.concurrency)return e.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(r.concurrency)));s=r.concurrency}return new d(t,i,s="number"==typeof s&&isFinite(s)&&s>=1?s:0,a).promise()}o.inherits(d,t),d.prototype._asyncInit=function(){this._init$(void 0,-2)},d.prototype._init=function(){},d.prototype._promiseFulfilled=function(t,n){var r=this._values,s=this.length(),o=this._preservedValues,h=this._limit;if(n<0){if(r[n=-1*n-1]=t,h>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(h>=1&&this._inFlight>=h)return r[n]=t,this._queue.push(n),!1;null!==o&&(o[n]=t);var d=this._promise,u=this._callback,p=d._boundValue();d._pushContext();var f=c(u).call(p,t,n,s),g=d._popContext();if(a.checkForgottenReturns(f,g,null!==o?"Promise.filter":"Promise.map",d),f===l)return this._reject(f.e),!0;var m=i(f,this._promise);if(m instanceof e){var b=(m=m._target())._bitField;if(!(50397184&b))return h>=1&&this._inFlight++,r[n]=m,m._proxy(this,-1*(n+1)),!1;if(!(33554432&b))return 16777216&b?(this._reject(m._reason()),!0):(this._cancel(),!0);f=m._value()}r[n]=f}return++this._totalResolved>=s&&(null!==o?this._filter(r,o):this._resolve(r),!0)},d.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var i=e.pop();this._promiseFulfilled(n[i],i)}},d.prototype._filter=function(e,t){for(var n=t.length,i=new Array(n),r=0,a=0;a<n;++a)e[a]&&(i[r++]=t[a]);i.length=r,this._resolve(i)},d.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(e,t){return u(this,e,t,null)},e.map=function(e,t,n,i){return u(e,t,n,i)}}),wD)(U,b,n,m,p,x),function(){if(AD)return DD;AD=1;var e=Object.create;if(e){var t=e(null),n=e(null);t[" size"]=n[" size"]=0}return DD=function(e){var i,r,a=j_(),s=a.canEvaluate,o=a.isIdentifier,c=function(e){return new Function("ensureMethod","                                    \n\t        return function(obj) {                                               \n\t            'use strict'                                                     \n\t            var len = this.length;                                           \n\t            ensureMethod(obj, 'methodName');                                 \n\t            switch(len) {                                                    \n\t                case 1: return obj.methodName(this[0]);                      \n\t                case 2: return obj.methodName(this[0], this[1]);             \n\t                case 3: return obj.methodName(this[0], this[1], this[2]);    \n\t                case 0: return obj.methodName();                             \n\t                default:                                                     \n\t                    return obj.methodName.apply(obj, this);                  \n\t            }                                                                \n\t        };                                                                   \n\t        ".replace(/methodName/g,e))(d)},l=function(e){return new Function("obj","                                             \n\t        'use strict';                                                        \n\t        return obj.propertyName;                                             \n\t        ".replace("propertyName",e))},h=function(e,t,n){var i=n[e];if("function"!=typeof i){if(!o(e))return null;if(i=t(e),n[e]=i,n[" size"]++,n[" size"]>512){for(var r=Object.keys(n),a=0;a<256;++a)delete n[r[a]];n[" size"]=r.length-256}}return i};function d(t,n){var i;if(null!=t&&(i=t[n]),"function"!=typeof i){var r="Object "+a.classString(t)+" has no method '"+a.toString(n)+"'";throw new e.TypeError(r)}return i}function u(e){return d(e,this.pop()).apply(e,this)}function p(e){return e[this]}function f(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}i=function(e){return h(e,c,t)},r=function(e){return h(e,l,n)},e.prototype.call=function(e){for(var t=arguments.length,n=new Array(Math.max(t-1,0)),r=1;r<t;++r)n[r-1]=arguments[r];if(s){var a=i(e);if(null!==a)return this._then(a,void 0,void 0,n,void 0)}return n.push(e),this._then(u,void 0,void 0,n,void 0)},e.prototype.get=function(e){var t;if("number"==typeof e)t=f;else if(s){var n=r(e);t=null!==n?n:p}else t=p;return this._then(t,void 0,void 0,e,void 0)}},DD}()(U),aA()(U,n,m,v,p,x),sA()(U,p,x),oA()(U,n,p,m,i,x),(MD?FD:(MD=1,FD=function(e){var t=j_(),n=e._async,i=t.tryCatch,r=t.errorObj;function a(e,a){if(!t.isArray(e))return s.call(this,e,a);var o=i(a).apply(this._boundValue(),[null].concat(e));o===r&&n.throwLater(o.e)}function s(e,t){var a=this._boundValue(),s=void 0===e?i(t).call(a,null):i(t).call(a,null,e);s===r&&n.throwLater(s.e)}function o(e,t){if(!e){var a=new Error(e+"");a.cause=e,e=a}var s=i(t).call(this._boundValue(),e);s===r&&n.throwLater(s.e)}e.prototype.asCallback=e.prototype.nodeify=function(e,t){if("function"==typeof e){var n=s;void 0!==t&&Object(t).spread&&(n=a),this._then(n,o,void 0,this,e)}return this}}))(U),cA()(U,p),lA()(U,b,m,n),hA()(U,p,m,n),(LD||(LD=1,OD=function(e,t,n,i,r,a){var s=e._getDomain,o=j_(),c=o.tryCatch;function l(t,n,i,a){this.constructor$(t);var c=s();this._fn=null===c?n:o.domainBind(c,n),void 0!==i&&(i=e.resolve(i))._attachCancellationCallback(this),this._initialValue=i,this._currentCancellable=null,this._eachValues=a===r?Array(this._length):0===a?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function h(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function d(e,t,i,r){return"function"!=typeof t?n("expecting a function but got "+o.classString(t)):new l(e,t,i,r).promise()}function u(t){this.accum=t,this.array._gotAccum(t);var n=i(this.value,this.array._promise);return n instanceof e?(this.array._currentCancellable=n,n._then(p,void 0,void 0,this,void 0)):p.call(this,n)}function p(t){var n,i=this.array,r=i._promise,s=c(i._fn);r._pushContext(),(n=void 0!==i._eachValues?s.call(r._boundValue(),t,this.index,this.length):s.call(r._boundValue(),this.accum,t,this.index,this.length))instanceof e&&(i._currentCancellable=n);var o=r._popContext();return a.checkForgottenReturns(n,o,void 0!==i._eachValues?"Promise.each":"Promise.reduce",r),n}o.inherits(l,t),l.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==r&&this._eachValues.push(e)},l.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},l.prototype._init=function(){},l.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},l.prototype.shouldCopyValues=function(){return!1},l.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},l.prototype._resultCancelled=function(t){if(t===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof e&&this._currentCancellable.cancel(),this._initialValue instanceof e&&this._initialValue.cancel())},l.prototype._iterate=function(t){var n,i;this._values=t;var r=t.length;if(void 0!==this._initialValue?(n=this._initialValue,i=0):(n=e.resolve(t[0]),i=1),this._currentCancellable=n,!n.isRejected())for(;i<r;++i){var a={accum:null,value:t[i],index:i,length:r,array:this};n=n._then(u,void 0,void 0,a,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(h,h,void 0,n,this)},e.prototype.reduce=function(e,t){return d(this,e,t,null)},e.reduce=function(e,t,n,i){return d(e,t,n,i)}}),OD)(U,b,n,m,p,x),(zD?jD:(zD=1,jD=function(e,t,n){var i=e.PromiseInspection;function r(e){this.constructor$(e)}j_().inherits(r,t),r.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(e,t){var n=new i;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},r.prototype._promiseRejected=function(e,t){var n=new i;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},e.settle=function(e){return n.deprecated(".settle()",".reflect()"),new r(e).promise()},e.prototype.settle=function(){return e.settle(this)}}))(U,b,x),(qD||(qD=1,HD=function(e,t,n){var i=j_(),r=tA().RangeError,a=tA().AggregateError,s=i.isArray,o={};function c(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function l(e,t){if((0|t)!==t||t<0)return n("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var i=new c(e),r=i.promise();return i.setHowMany(t),i.init(),r}i.inherits(c,t),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(e){this._howMany=e},c.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof e||null==this._values?this._cancel():(this._addRejected(o),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new a,t=this.length();t<this._values.length;++t)this._values[t]!==o&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(e){this._values.push(e)},c.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new r(t)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(e,t){return l(e,t)},e.prototype.some=function(e){return l(this,e)},e._SomePromiseArray=c}),HD)(U,b,n),($D?VD:($D=1,VD=function(e,t){var n=e.map;e.prototype.filter=function(e,i){return n(this,e,i,t)},e.filter=function(e,i,r){return n(e,i,r,t)}}))(U,p),(XD?GD:(XD=1,GD=function(e,t){var n=e.reduce,i=e.all;function r(){return i(this)}e.prototype.each=function(e){return n(this,e,t,0)._then(r,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return n(this,e,t,t)},e.each=function(e,i){return n(e,i,t,0)._then(r,void 0,void 0,e,void 0)},e.mapSeries=function(e,i){return n(e,i,t,t)}}))(U,p),(KD?YD:(KD=1,YD=function(e){var t=e._SomePromiseArray;function n(e){var n=new t(e),i=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),i}e.any=function(e){return n(e)},e.prototype.any=function(){return n(this)}}))(U),s.toFastProperties(U),s.toFastProperties(U.prototype),C({a:1}),C({b:2}),C({c:3}),C(1),C(function(){}),C(void 0),C(!1),C(new U(p)),x.setBounds(c.firstLineError,s.lastLineError),U};var dA=M_,uA=(0,N_.exports)();B_.defer=function(){var e,t,n=new uA.Promise(function(n,i){e=n,t=i});return{resolve:e,reject:t,promise:n}},B_.when=uA.resolve,B_.resolve=uA.resolve,B_.all=uA.all,B_.props=uA.props,B_.reject=uA.reject,B_.promisify=uA.promisify,B_.mapSeries=uA.mapSeries,B_.attempt=uA.attempt,B_.nfcall=function(e){var t=Array.prototype.slice.call(arguments,1);return uA.promisify(e).apply(null,t)},uA.prototype.fail=uA.prototype.caught,uA.prototype.also=function(e){return this.then(function(t){var n=dA.extend({},t,e(t));return uA.props(n)})};var pA={},fA=M_,gA=pA.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};var mA={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function bA(e){this._notes=fA.indexBy(e,function(e){return yA(e.noteType,e.noteId)})}function yA(e,t){return e+"-"+t}function vA(e){return{type:gA.break,breakType:e}}bA.prototype.resolve=function(e){return this.findNoteByKey(yA(e.noteType,e.noteId))},bA.prototype.findNoteByKey=function(e){return this._notes[e]||null},pA.document=pA.Document=function(e,t){return{type:gA.document,children:e,notes:(t=t||{}).notes||new bA({}),comments:t.comments||[]}},pA.paragraph=pA.Paragraph=function(e,t){var n=(t=t||{}).indent||{};return{type:gA.paragraph,children:e,styleId:t.styleId||null,styleName:t.styleName||null,numbering:t.numbering||null,alignment:t.alignment||null,indent:{start:n.start||null,end:n.end||null,firstLine:n.firstLine||null,hanging:n.hanging||null}}},pA.run=pA.Run=function(e,t){return{type:gA.run,children:e,styleId:(t=t||{}).styleId||null,styleName:t.styleName||null,isBold:!!t.isBold,isUnderline:!!t.isUnderline,isItalic:!!t.isItalic,isStrikethrough:!!t.isStrikethrough,isAllCaps:!!t.isAllCaps,isSmallCaps:!!t.isSmallCaps,verticalAlignment:t.verticalAlignment||mA.baseline,font:t.font||null,fontSize:t.fontSize||null,highlight:t.highlight||null}},pA.text=pA.Text=function(e){return{type:gA.text,value:e}},pA.tab=pA.Tab=function(){return{type:gA.tab}},pA.checkbox=pA.Checkbox=function(e){return{type:gA.checkbox,checked:e.checked}},pA.Hyperlink=function(e,t){return{type:gA.hyperlink,children:e,href:t.href,anchor:t.anchor,targetFrame:t.targetFrame}},pA.noteReference=pA.NoteReference=function(e){return{type:gA.noteReference,noteType:e.noteType,noteId:e.noteId}},pA.Notes=bA,pA.Note=function(e){return{type:gA.note,noteType:e.noteType,noteId:e.noteId,body:e.body}},pA.commentReference=function(e){return{type:gA.commentReference,commentId:e.commentId}},pA.comment=function(e){return{type:gA.comment,commentId:e.commentId,body:e.body,authorName:e.authorName,authorInitials:e.authorInitials}},pA.Image=function(e){return{type:gA.image,read:function(t){return t?e.readImage(t):e.readImage().then(function(e){return Buffer.from(e)})},readAsArrayBuffer:function(){return e.readImage()},readAsBase64String:function(){return e.readImage("base64")},readAsBuffer:function(){return e.readImage().then(function(e){return Buffer.from(e)})},altText:e.altText,contentType:e.contentType}},pA.Table=function(e,t){return{type:gA.table,children:e,styleId:(t=t||{}).styleId||null,styleName:t.styleName||null}},pA.TableRow=function(e,t){return{type:gA.tableRow,children:e,isHeader:(t=t||{}).isHeader||!1}},pA.TableCell=function(e,t){return{type:gA.tableCell,children:e,colSpan:null==(t=t||{}).colSpan?1:t.colSpan,rowSpan:null==t.rowSpan?1:t.rowSpan}},pA.lineBreak=vA("line"),pA.pageBreak=vA("page"),pA.columnBreak=vA("column"),pA.BookmarkStart=function(e){return{type:gA.bookmarkStart,name:e.name}},pA.verticalAlignment=mA;var xA={},wA=M_;function _A(e,t){this.value=e,this.messages=t||[]}function DA(e){var t=[];return wA.flatten(wA.pluck(e,"messages"),!0).forEach(function(e){(function(e,t){return void 0!==wA.find(e,AA.bind(null,t))})(t,e)||t.push(e)}),t}function AA(e,t){return e.type===t.type&&e.message===t.message}xA.Result=_A,xA.success=function(e){return new _A(e,[])},xA.warning=function(e){return{type:"warning",message:e}},xA.error=function(e){return{type:"error",message:e.message,error:e}},_A.prototype.map=function(e){return new _A(e(this.value),this.messages)},_A.prototype.flatMap=function(e){var t=e(this.value);return new _A(t.value,DA([this,t]))},_A.prototype.flatMapThen=function(e){var t=this;return e(this.value).then(function(e){return new _A(e.value,DA([t,e]))})},_A.combine=function(e){return new _A(wA.flatten(wA.pluck(e,"value")),DA(e))};for(var TA={},UA={byteLength:function(e){var t=MA(e),n=t[0],i=t[1];return 3*(n+i)/4-i},toByteArray:function(e){var t,n,i=MA(e),r=i[0],a=i[1],s=new CA(function(e,t,n){return 3*(t+n)/4-n}(0,r,a)),o=0,c=a>0?r-4:r;for(n=0;n<c;n+=4)t=kA[e.charCodeAt(n)]<<18|kA[e.charCodeAt(n+1)]<<12|kA[e.charCodeAt(n+2)]<<6|kA[e.charCodeAt(n+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=255&t;2===a&&(t=kA[e.charCodeAt(n)]<<2|kA[e.charCodeAt(n+1)]>>4,s[o++]=255&t);1===a&&(t=kA[e.charCodeAt(n)]<<10|kA[e.charCodeAt(n+1)]<<4|kA[e.charCodeAt(n+2)]>>2,s[o++]=t>>8&255,s[o++]=255&t);return s},fromByteArray:function(e){for(var t,n=e.length,i=n%3,r=[],a=16383,s=0,o=n-i;s<o;s+=a)r.push(IA(e,s,s+a>o?o:s+a));1===i?(t=e[n-1],r.push(EA[t>>2]+EA[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],r.push(EA[t>>10]+EA[t>>4&63]+EA[t<<2&63]+"="));return r.join("")}},EA=[],kA=[],CA="undefined"!=typeof Uint8Array?Uint8Array:Array,SA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",FA=0;FA<64;++FA)EA[FA]=SA[FA],kA[SA.charCodeAt(FA)]=FA;function MA(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function WA(e){return EA[e>>18&63]+EA[e>>12&63]+EA[e>>6&63]+EA[63&e]}function IA(e,t,n){for(var i,r=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),r.push(WA(i));return r.join("")}kA["-".charCodeAt(0)]=62,kA["_".charCodeAt(0)]=63;var PA=UA,RA=Gy;TA.openArrayBuffer=function(e){return RA.loadAsync(e).then(function(e){return{exists:function(t){return null!==e.file(t)},read:function(t,n){return e.file(t).async("uint8array").then(function(e){return"base64"===n?PA.fromByteArray(e):n?new TextDecoder(n).decode(e):e})},write:function(t,n){e.file(t,n)},toArrayBuffer:function(){return e.generateAsync({type:"arraybuffer"})}}})},TA.splitPath=function(e){var t=e.lastIndexOf("/");return-1===t?{dirname:"",basename:e}:{dirname:e.substring(0,t),basename:e.substring(t+1)}},TA.joinPath=function(){var e=Array.prototype.filter.call(arguments,function(e){return e}),t=[];return e.forEach(function(e){/^\//.test(e)?t=[e]:t.push(e)}),t.join("/")};var BA={},NA={},OA={},LA=M_;OA.Element=zA,OA.element=function(e,t,n){return new zA(e,t,n)},OA.text=function(e){return{type:"text",value:e}};var jA=OA.emptyElement={first:function(){return null},firstOrEmpty:function(){return jA},attributes:{},children:[]};function zA(e,t,n){this.type="element",this.name=e,this.attributes=t||{},this.children=n||[]}zA.prototype.first=function(e){return LA.find(this.children,function(t){return t.name===e})},zA.prototype.firstOrEmpty=function(e){return this.first(e)||jA},zA.prototype.getElementsByTagName=function(e){return qA(LA.filter(this.children,function(t){return t.name===e}))},zA.prototype.text=function(){if(0===this.children.length)return"";if(1!==this.children.length||"text"!==this.children[0].type)throw new Error("Not implemented");return this.children[0].value};var HA={getElementsByTagName:function(e){return qA(LA.flatten(this.map(function(t){return t.getElementsByTagName(e)},!0)))}};function qA(e){return LA.extend(e,HA)}var VA={},$A={},GA={},XA={},YA={};function KA(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var ZA=KA({HTML:"text/html",isHTML:function(e){return e===ZA.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),QA=KA({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===QA.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});YA.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},YA.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var i=0;i<e.length;i++)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];if(t.call(void 0,r,i,e))return r}},YA.freeze=KA,YA.MIME_TYPE=ZA,YA.NAMESPACE=QA;var JA=YA,eT=JA.find,tT=JA.NAMESPACE;function nT(e){return""!==e}function iT(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function rT(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(nT):[]}(e);return Object.keys(t.reduce(iT,{}))}function aT(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function sT(e,t){var n=e.prototype;if(!(n instanceof t)){let i=function(){};i.prototype=t.prototype,i=new i,aT(n,i),e.prototype=n=i}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var oT={},cT=oT.ELEMENT_NODE=1,lT=oT.ATTRIBUTE_NODE=2,hT=oT.TEXT_NODE=3,dT=oT.CDATA_SECTION_NODE=4,uT=oT.ENTITY_REFERENCE_NODE=5,pT=oT.ENTITY_NODE=6,fT=oT.PROCESSING_INSTRUCTION_NODE=7,gT=oT.COMMENT_NODE=8,mT=oT.DOCUMENT_NODE=9,bT=oT.DOCUMENT_TYPE_NODE=10,yT=oT.DOCUMENT_FRAGMENT_NODE=11,vT=oT.NOTATION_NODE=12,xT={},wT={};xT.INDEX_SIZE_ERR=(wT[1]="Index size error",1),xT.DOMSTRING_SIZE_ERR=(wT[2]="DOMString size error",2);var _T=xT.HIERARCHY_REQUEST_ERR=(wT[3]="Hierarchy request error",3);xT.WRONG_DOCUMENT_ERR=(wT[4]="Wrong document",4),xT.INVALID_CHARACTER_ERR=(wT[5]="Invalid character",5),xT.NO_DATA_ALLOWED_ERR=(wT[6]="No data allowed",6),xT.NO_MODIFICATION_ALLOWED_ERR=(wT[7]="No modification allowed",7);var DT=xT.NOT_FOUND_ERR=(wT[8]="Not found",8);xT.NOT_SUPPORTED_ERR=(wT[9]="Not supported",9);var AT=xT.INUSE_ATTRIBUTE_ERR=(wT[10]="Attribute in use",10);function TT(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,wT[e]),this.message=wT[e],Error.captureStackTrace&&Error.captureStackTrace(this,TT);return n.code=e,t&&(this.message=this.message+": "+t),n}function UT(){}function ET(e,t){this._node=e,this._refresh=t,kT(this)}function kT(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(mU(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var i=n.length;i in e;i++)Object.prototype.hasOwnProperty.call(e,i)&&delete e[i];aT(n,e),e._inc=t}}function CT(){}function ST(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function FT(e,t,n,i){if(i?t[ST(t,i)]=n:t[t.length++]=n,e){n.ownerElement=e;var r=e.ownerDocument;r&&(i&&NT(r,e,i),function(e,t,n){e&&e._inc++;var i=n.namespaceURI;i===tT.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(r,e,n))}}function MT(e,t,n){var i=ST(t,n);if(!(i>=0))throw new TT(DT,new Error(e.tagName+"@"+n));for(var r=t.length-1;i<r;)t[i]=t[++i];if(t.length=r,e){var a=e.ownerDocument;a&&(NT(a,e,n),n.ownerElement=null)}}function WT(){}function IT(){}function PT(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function RT(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(RT(e,t))return!0}while(e=e.nextSibling)}function BT(){this.ownerDocument=this}function NT(e,t,n,i){e&&e._inc++,n.namespaceURI===tT.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function OT(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var r=t.firstChild,a=0;r;)i[a++]=r,r=r.nextSibling;i.length=a,delete i[i.length]}}}function LT(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,OT(e.ownerDocument,e),t}function jT(e){return e&&e.nodeType===IT.DOCUMENT_TYPE_NODE}function zT(e){return e&&e.nodeType===IT.ELEMENT_NODE}function HT(e){return e&&e.nodeType===IT.TEXT_NODE}function qT(e,t){var n=e.childNodes||[];if(eT(n,zT)||jT(t))return!1;var i=eT(n,jT);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function VT(e,t){var n=e.childNodes||[];if(eT(n,function(e){return zT(e)&&e!==t}))return!1;var i=eT(n,jT);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function $T(e,t,n){if(!function(e){return e&&(e.nodeType===IT.DOCUMENT_NODE||e.nodeType===IT.DOCUMENT_FRAGMENT_NODE||e.nodeType===IT.ELEMENT_NODE)}(e))throw new TT(_T,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new TT(DT,"child not in parent");if(!function(e){return e&&(zT(e)||HT(e)||jT(e)||e.nodeType===IT.DOCUMENT_FRAGMENT_NODE||e.nodeType===IT.COMMENT_NODE||e.nodeType===IT.PROCESSING_INSTRUCTION_NODE)}(t)||jT(t)&&e.nodeType!==IT.DOCUMENT_NODE)throw new TT(_T,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function GT(e,t,n){var i=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===IT.DOCUMENT_FRAGMENT_NODE){var a=r.filter(zT);if(a.length>1||eT(r,HT))throw new TT(_T,"More than one element or text in fragment");if(1===a.length&&!qT(e,n))throw new TT(_T,"Element in fragment can not be inserted before doctype")}if(zT(t)&&!qT(e,n))throw new TT(_T,"Only one element can be added and only after doctype");if(jT(t)){if(eT(i,jT))throw new TT(_T,"Only one doctype is allowed");var s=eT(i,zT);if(n&&i.indexOf(s)<i.indexOf(n))throw new TT(_T,"Doctype can only be inserted before an element");if(!n&&s)throw new TT(_T,"Doctype can not be appended since element is present")}}function XT(e,t,n){var i=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===IT.DOCUMENT_FRAGMENT_NODE){var a=r.filter(zT);if(a.length>1||eT(r,HT))throw new TT(_T,"More than one element or text in fragment");if(1===a.length&&!VT(e,n))throw new TT(_T,"Element in fragment can not be inserted before doctype")}if(zT(t)&&!VT(e,n))throw new TT(_T,"Only one element can be added and only after doctype");if(jT(t)){if(eT(i,function(e){return jT(e)&&e!==n}))throw new TT(_T,"Only one doctype is allowed");var s=eT(i,zT);if(n&&i.indexOf(s)<i.indexOf(n))throw new TT(_T,"Doctype can only be inserted before an element")}}function YT(e,t,n,i){$T(e,t,n),e.nodeType===IT.DOCUMENT_NODE&&(i||GT)(e,t,n);var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===yT){var a=t.firstChild;if(null==a)return t;var s=t.lastChild}else a=s=t;var o=n?n.previousSibling:e.lastChild;a.previousSibling=o,s.nextSibling=n,o?o.nextSibling=a:e.firstChild=a,null==n?e.lastChild=s:n.previousSibling=s;do{a.parentNode=e,KT(a,e.ownerDocument||e)}while(a!==s&&(a=a.nextSibling));return OT(e.ownerDocument||e,e),t.nodeType==yT&&(t.firstChild=t.lastChild=null),t}function KT(e,t){if(e.ownerDocument!==t){if(e.ownerDocument=t,e.nodeType===cT&&e.attributes)for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);i&&(i.ownerDocument=t)}for(var r=e.firstChild;r;)KT(r,t),r=r.nextSibling}}function ZT(){this._nsMap={}}function QT(){}function JT(){}function eU(){}function tU(){}function nU(){}function iU(){}function rU(){}function aU(){}function sU(){}function oU(){}function cU(){}function lU(){}function hU(e,t){var n=[],i=9==this.nodeType&&this.documentElement||this,r=i.prefix,a=i.namespaceURI;if(a&&null==r&&null==(r=i.lookupPrefix(a)))var s=[{namespace:a,prefix:null}];return pU(this,n,e,t,s),n.join("")}function dU(e,t,n){var i=e.prefix||"",r=e.namespaceURI;if(!r)return!1;if("xml"===i&&r===tT.XML||r===tT.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===i)return s.namespace!==r}return!0}function uU(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,PT),'"')}function pU(e,t,n,i,r){if(r||(r=[]),i){if(!(e=i(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case cT:var a=e.attributes,s=a.length,o=e.firstChild,c=e.tagName,l=c;if(!(n=tT.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var h,d=0;d<a.length;d++)if("xmlns"===a.item(d).name){h=a.item(d).value;break}if(!h)for(var u=r.length-1;u>=0;u--){if(""===(p=r[u]).prefix&&p.namespace===e.namespaceURI){h=p.namespace;break}}if(h!==e.namespaceURI)for(u=r.length-1;u>=0;u--){var p;if((p=r[u]).namespace===e.namespaceURI){p.prefix&&(l=p.prefix+":"+c);break}}}t.push("<",l);for(var f=0;f<s;f++){"xmlns"==(g=a.item(f)).prefix?r.push({prefix:g.localName,namespace:g.value}):"xmlns"==g.nodeName&&r.push({prefix:"",namespace:g.value})}for(f=0;f<s;f++){var g,m,b;if(dU(g=a.item(f),0,r))uU(t,(m=g.prefix||"")?"xmlns:"+m:"xmlns",b=g.namespaceURI),r.push({prefix:m,namespace:b});pU(g,t,n,i,r)}if(c===l&&dU(e,0,r))uU(t,(m=e.prefix||"")?"xmlns:"+m:"xmlns",b=e.namespaceURI),r.push({prefix:m,namespace:b});if(o||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;o;)o.data?t.push(o.data):pU(o,t,n,i,r.slice()),o=o.nextSibling;else for(;o;)pU(o,t,n,i,r.slice()),o=o.nextSibling;t.push("</",l,">")}else t.push("/>");return;case mT:case yT:for(o=e.firstChild;o;)pU(o,t,n,i,r.slice()),o=o.nextSibling;return;case lT:return uU(t,e.name,e.value);case hT:return t.push(e.data.replace(/[<&>]/g,PT));case dT:return t.push("<![CDATA[",e.data,"]]>");case gT:return t.push("\x3c!--",e.data,"--\x3e");case bT:var y=e.publicId,v=e.systemId;if(t.push("<!DOCTYPE ",e.name),y)t.push(" PUBLIC ",y),v&&"."!=v&&t.push(" ",v),t.push(">");else if(v&&"."!=v)t.push(" SYSTEM ",v,">");else{var x=e.internalSubset;x&&t.push(" [",x,"]"),t.push(">")}return;case fT:return t.push("<?",e.target," ",e.data,"?>");case uT:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function fU(e,t,n){var i;switch(t.nodeType){case cT:(i=t.cloneNode(!1)).ownerDocument=e;case yT:break;case lT:n=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var r=t.firstChild;r;)i.appendChild(fU(e,r,n)),r=r.nextSibling;return i}function gU(e,t,n){var i=new t.constructor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=t[r];"object"!=typeof a&&a!=i[r]&&(i[r]=a)}switch(t.childNodes&&(i.childNodes=new UT),i.ownerDocument=e,i.nodeType){case cT:var s=t.attributes,o=i.attributes=new CT,c=s.length;o._ownerElement=i;for(var l=0;l<c;l++)i.setAttributeNode(gU(e,s.item(l),!0));break;case lT:n=!0}if(n)for(var h=t.firstChild;h;)i.appendChild(gU(e,h,n)),h=h.nextSibling;return i}function mU(e,t,n){e[t]=n}xT.INVALID_STATE_ERR=(wT[11]="Invalid state",11),xT.SYNTAX_ERR=(wT[12]="Syntax error",12),xT.INVALID_MODIFICATION_ERR=(wT[13]="Invalid modification",13),xT.NAMESPACE_ERR=(wT[14]="Invalid namespace",14),xT.INVALID_ACCESS_ERR=(wT[15]="Invalid access",15),TT.prototype=Error.prototype,aT(xT,TT),UT.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)pU(this[i],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},ET.prototype.item=function(e){return kT(this),this[e]||null},sT(ET,UT),CT.prototype={length:0,item:UT.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new TT(AT);var n=this.getNamedItem(e.nodeName);return FT(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new TT(AT);return t=this.getNamedItemNS(e.namespaceURI,e.localName),FT(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return MT(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return MT(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},WT.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new BT;if(i.implementation=this,i.childNodes=new UT,i.doctype=n||null,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new iU;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=n||"",i}},IT.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return YT(this,e,t)},replaceChild:function(e,t){YT(this,e,t,XT),t&&this.removeChild(t)},removeChild:function(e){return LT(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return gU(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==hT&&e.nodeType==hT?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===e)return i;t=t.nodeType==lT?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==lT?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},aT(oT,IT),aT(oT,IT.prototype),BT.prototype={nodeName:"#document",nodeType:mT,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==yT){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return YT(this,e,t),KT(e,this),null===this.documentElement&&e.nodeType===cT&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),LT(this,e)},replaceChild:function(e,t){YT(this,e,t,XT),KT(e,this),t&&this.removeChild(t),zT(e)&&(this.documentElement=e)},importNode:function(e,t){return fU(this,e,t)},getElementById:function(e){var t=null;return RT(this.documentElement,function(n){if(n.nodeType==cT&&n.getAttribute("id")==e)return t=n,!0}),t},getElementsByClassName:function(e){var t=rT(e);return new ET(this,function(n){var i=[];return t.length>0&&RT(n.documentElement,function(r){if(r!==n&&r.nodeType===cT){var a=r.getAttribute("class");if(a){var s=e===a;if(!s){var o=rT(a);s=t.every((c=o,function(e){return c&&-1!==c.indexOf(e)}))}s&&i.push(r)}}var c}),i})},createElement:function(e){var t=new ZT;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new UT,(t.attributes=new CT)._ownerElement=t,t},createDocumentFragment:function(){var e=new oU;return e.ownerDocument=this,e.childNodes=new UT,e},createTextNode:function(e){var t=new eU;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new tU;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new nU;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new cU;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new QT;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new sU;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new ZT,i=t.split(":"),r=n.attributes=new CT;return n.childNodes=new UT,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new QT,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},sT(BT,IT),ZT.prototype={nodeType:cT,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===yT?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,OT(e.ownerDocument,e,t),KT(t,e.ownerDocument||e),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new ET(this,function(t){var n=[];return RT(t,function(i){i===t||i.nodeType!=cT||"*"!==e&&i.tagName!=e||n.push(i)}),n})},getElementsByTagNameNS:function(e,t){return new ET(this,function(n){var i=[];return RT(n,function(r){r===n||r.nodeType!==cT||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)}),i})}},BT.prototype.getElementsByTagName=ZT.prototype.getElementsByTagName,BT.prototype.getElementsByTagNameNS=ZT.prototype.getElementsByTagNameNS,sT(ZT,IT),QT.prototype.nodeType=lT,sT(QT,IT),JT.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(wT[_T])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},sT(JT,IT),eU.prototype={nodeName:"#text",nodeType:hT,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},sT(eU,JT),tU.prototype={nodeName:"#comment",nodeType:gT},sT(tU,JT),nU.prototype={nodeName:"#cdata-section",nodeType:dT},sT(nU,JT),iU.prototype.nodeType=bT,sT(iU,IT),rU.prototype.nodeType=vT,sT(rU,IT),aU.prototype.nodeType=pT,sT(aU,IT),sU.prototype.nodeType=uT,sT(sU,IT),oU.prototype.nodeName="#document-fragment",oU.prototype.nodeType=yT,sT(oU,IT),cU.prototype.nodeType=fT,sT(cU,IT),lU.prototype.serializeToString=function(e,t,n){return hU.call(e,t,n)},IT.prototype.toString=hU;try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case cT:case yT:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}};Object.defineProperty(ET.prototype,"length",{get:function(){return kT(this),this.$$length}}),Object.defineProperty(IT.prototype,"textContent",{get:function(){return e(this)},set:function(e){switch(this.nodeType){case cT:case yT:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),mU=function(e,t,n){e["$$"+t]=n}}}catch(GM){}XA.DocumentType=iU,XA.DOMException=TT,XA.DOMImplementation=WT,XA.Element=ZT,XA.Node=IT,XA.NodeList=UT,XA.XMLSerializer=lU;var bU,yU,vU={},xU={};bU=xU,yU=YA.freeze,bU.XML_ENTITIES=yU({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),bU.HTML_ENTITIES=yU({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),bU.entityMap=bU.HTML_ENTITIES;var wU={},_U=YA.NAMESPACE,DU=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,AU=new RegExp("[\\-\\.0-9"+DU.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),TU=new RegExp("^"+DU.source+AU.source+"*(?::"+DU.source+AU.source+"*)?$");function UU(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,UU)}function EU(){}function kU(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function CU(e,t,n,i,r,a){function s(e,t,i){n.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),i)}for(var o,c=++t,l=0;;){var h=e.charAt(c);switch(h){case"=":if(1===l)o=e.slice(t,c),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(a.warning('attribute value must after "="'),o=e.slice(t,c)),t=c+1,!((c=e.indexOf(h,t))>0))throw new Error("attribute value no end '"+h+"' match");s(o,d=e.slice(t,c),t-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');s(o,d=e.slice(t,c),t),a.warning('attribute "'+o+'" missed start quot('+h+")!!"),t=c+1,l=5}break;case"/":switch(l){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:l=7,n.closed=!0;case 4:case 1:break;case 2:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),0==l&&n.setTagName(e.slice(t,c)),c;case">":switch(l){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=e.slice(t,c)).slice(-1)&&(n.closed=!0,d=d.slice(0,-1));case 2:2===l&&(d=o),4==l?(a.warning('attribute "'+d+'" missed quot(")!'),s(o,d,t)):(_U.isHTML(i[""])&&d.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),s(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"":h=" ";default:if(h<=" ")switch(l){case 0:n.setTagName(e.slice(t,c)),l=6;break;case 1:o=e.slice(t,c),l=2;break;case 4:var d=e.slice(t,c);a.warning('attribute "'+d+'" missed quot(")!!'),s(o,d,t);case 5:l=6}else switch(l){case 2:n.tagName,_U.isHTML(i[""])&&o.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,t),t=c,l=1;break;case 5:a.warning('attribute space is required"'+o+'"!!');case 6:l=1,t=c;break;case 3:l=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function SU(e,t,n){for(var i=e.tagName,r=null,a=e.length;a--;){var s=e[a],o=s.qName,c=s.value;if((u=o.indexOf(":"))>0)var l=s.prefix=o.slice(0,u),h=o.slice(u+1),d="xmlns"===l&&h;else h=o,l=null,d="xmlns"===o&&"";s.localName=h,!1!==d&&(null==r&&(r={},WU(n,n={})),n[d]=r[d]=c,s.uri=_U.XMLNS,t.startPrefixMapping(d,c))}for(a=e.length;a--;){(l=(s=e[a]).prefix)&&("xml"===l&&(s.uri=_U.XML),"xmlns"!==l&&(s.uri=n[l||""]))}var u;(u=i.indexOf(":"))>0?(l=e.prefix=i.slice(0,u),h=e.localName=i.slice(u+1)):(l=null,h=e.localName=i);var p=e.uri=n[l||""];if(t.startElement(p,h,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=r,!0;if(t.endElement(p,h,i),r)for(l in r)Object.prototype.hasOwnProperty.call(r,l)&&t.endPrefixMapping(l)}function FU(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),a)}return t+1}function MU(e,t,n,i){var r=i[n];return null==r&&((r=e.lastIndexOf("</"+n+">"))<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function WU(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function IU(e,t,n,i){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,r-t-4),r+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,r-t-9),n.endCDATA(),r+3}var a=function(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);for(;n=r.exec(e);)if(i.push(n),n[1])return i}(e,t),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var o=a[1][0],c=!1,l=!1;s>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],l=s>4&&a[4][0]):/^system$/i.test(a[2][0])&&(l=a[3][0]));var h=a[s-1];return n.startDTD(o,c,l),n.endDTD(),h.index+h[0].length}return-1}function PU(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function RU(){this.attributeNames={}}UU.prototype=new Error,UU.prototype.name=UU.name,EU.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),WU(t,t={}),function(e,t,n,i,r){function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(r.error("entity not found:"+e),e)}function o(t){if(t>g){var n=e.substring(g,t).replace(/&#?\w+;/g,s);u&&c(g),i.characters(n,0,t-g),g=t}}function c(t,n){for(;t>=h&&(n=d.exec(e));)l=n.index,h=l+n[0].length,u.lineNumber++;u.columnNumber=t-l+1}var l=0,h=0,d=/.*(?:\r\n?|\n)|.*$/g,u=i.locator,p=[{currentNSMap:t}],f={},g=0;for(;;){try{var m=e.indexOf("<",g);if(m<0){if(!e.substr(g).match(/^\s*$/)){var b=i.doc,y=b.createTextNode(e.substr(g));b.appendChild(y),i.currentElement=y}return}switch(m>g&&o(m),e.charAt(m+1)){case"/":var v=e.indexOf(">",m+3),x=e.substring(m+2,v).replace(/[ \t\n\r]+$/g,""),w=p.pop();v<0?(x=e.substring(m+2).replace(/[\s<].*/,""),r.error("end tag name: "+x+" is not complete:"+w.tagName),v=m+1+x.length):x.match(/\s</)&&(x=x.replace(/[\s<].*/,""),r.error("end tag name: "+x+" maybe not complete"),v=m+1+x.length);var _=w.localNSMap,D=w.tagName==x;if(D||w.tagName&&w.tagName.toLowerCase()==x.toLowerCase()){if(i.endElement(w.uri,w.localName,x),_)for(var A in _)Object.prototype.hasOwnProperty.call(_,A)&&i.endPrefixMapping(A);D||r.fatalError("end tag name: "+x+" is not match the current start tagName:"+w.tagName)}else p.push(w);v++;break;case"?":u&&c(m),v=PU(e,m,i);break;case"!":u&&c(m),v=IU(e,m,i,r);break;default:u&&c(m);var T=new RU,U=p[p.length-1].currentNSMap,E=(v=CU(e,m,T,U,s,r),T.length);if(!T.closed&&MU(e,v,T.tagName,f)&&(T.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),u&&E){for(var k=kU(u,{}),C=0;C<E;C++){var S=T[C];c(S.offset),S.locator=kU(u,{})}i.locator=k,SU(T,i,U)&&p.push(T),i.locator=u}else SU(T,i,U)&&p.push(T);_U.isHTML(T.uri)&&!T.closed?v=FU(e,v,T.tagName,s,i):v++}}catch(GM){if(GM instanceof UU)throw GM;r.error("element parse error: "+GM),v=-1}v>g?g=v:o(Math.max(m,g)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},RU.prototype={setTagName:function(e){if(!TU.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!TU.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},wU.XMLReader=EU,wU.ParseError=UU;var BU=YA,NU=xU,OU=wU,LU=XA.DOMImplementation,jU=BU.NAMESPACE,zU=OU.ParseError,HU=OU.XMLReader;function qU(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function VU(e){this.options=e||{locator:{}}}function $U(){this.cdata=!1}function GU(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function XU(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function YU(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function KU(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}VU.prototype.parseFromString=function(e,t){var n=this.options,i=new HU,r=n.domBuilder||new $U,a=n.errorHandler,s=n.locator,o=n.xmlns||{},c=/\/x?html?$/.test(t),l=c?NU.HTML_ENTITIES:NU.XML_ENTITIES;s&&r.setDocumentLocator(s),i.errorHandler=function(e,t,n){if(!e){if(t instanceof $U)return t;e=t}var i={},r=e instanceof Function;function a(t){var a=e[t];!a&&r&&(a=2==e.length?function(n){e(t,n)}:e),i[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+XU(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),i}(a,r,s),i.domBuilder=n.domBuilder||r,c&&(o[""]=jU.HTML),o.xml=o.xml||jU.XML;var h=n.normalizeLineEndings||qU;return e&&"string"==typeof e?i.parse(h(e),o,l):i.errorHandler.error("invalid doc source"),r.doc},$U.prototype={startDocument:function(){this.doc=(new LU).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,a=r.createElementNS(e,n||t),s=i.length;KU(this,a),this.currentElement=a,this.locator&&GU(this.locator,a);for(var o=0;o<s;o++){e=i.getURI(o);var c=i.getValue(o),l=(n=i.getQName(o),r.createAttributeNS(e,n));this.locator&&GU(i.getLocator(o),l),l.value=l.nodeValue=c,a.setAttributeNode(l)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&GU(this.locator,n),KU(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=YU.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&GU(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=YU.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&GU(this.locator,i),KU(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&GU(this.locator,r),KU(this,r),this.doc.doctype=r}},warning:function(e){console.warn("[xmldom warning]\t"+e,XU(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,XU(this.locator))},fatalError:function(e){throw new zU(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){$U.prototype[e]=function(){return null}}),vU.__DOMHandler=$U,vU.normalizeLineEndings=qU,vU.DOMParser=VU;var ZU=XA;GA.DOMImplementation=ZU.DOMImplementation,GA.XMLSerializer=ZU.XMLSerializer,GA.DOMParser=vU.DOMParser;var QU=GA,JU=XA;$A.parseFromString=function(e){var t=null,n=new QU.DOMParser({errorHandler:function(e,n){t={level:e,message:n}}}).parseFromString(e);if(null===t)return n;throw new Error(t.level+": "+t.message)},$A.Node=JU.Node;var eE=B_,tE=M_,nE=$A,iE=OA,rE=iE.Element;VA.readString=function(e,t){t=t||{};try{var n=nE.parseFromString(e,"text/xml")}catch(a){return eE.reject(a)}if("parsererror"===n.documentElement.tagName)return eE.resolve(new Error(n.documentElement.textContent));function i(e){switch(e.nodeType){case aE.ELEMENT_NODE:return function(e){var t=r(e),n=[];tE.forEach(e.childNodes,function(e){var t=i(e);t&&n.push(t)});var a={};return tE.forEach(e.attributes,function(e){a[r(e)]=e.value}),new rE(t,a,n)}(e);case aE.TEXT_NODE:return iE.text(e.nodeValue)}}function r(e){if(e.namespaceURI){var n=t[e.namespaceURI];return(n?n+":":"{"+e.namespaceURI+"}")+e.localName}return e.localName}return eE.resolve(i(n.documentElement))};var aE=nE.Node;var sE,oE={},cE={},lE={};function hE(){return sE||(sE=1,function(){var e,t,n,i,r,a,s,o=[].slice,c={}.hasOwnProperty;e=function(){var e,t,n,i,a,s;if(s=arguments[0],a=2<=arguments.length?o.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(e=0,n=a.length;e<n;e++)if(null!=(i=a[e]))for(t in i)c.call(i,t)&&(s[t]=i[t]);return s},r=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},a=function(e){var t;return!!e&&("function"==(t=typeof e)||"object"===t)},n=function(e){return r(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},i=function(e){var t;if(n(e))return!e.length;for(t in e)if(c.call(e,t))return!1;return!0},s=function(e){var t,n;return a(e)&&(n=Object.getPrototypeOf(e))&&(t=n.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},t=function(e){return r(e.valueOf)?e.valueOf():e},lE.assign=e,lE.isFunction=r,lE.isObject=a,lE.isArray=n,lE.isEmpty=i,lE.isPlainObject=s,lE.getValue=t}.call(hu)),lE}var dE,uE,pE={exports:{}},fE={exports:{}},gE={exports:{}},mE={exports:{}};function bE(){return dE||(dE=1,function(){mE.exports=function(){function e(e,t,n){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,null==t)throw new Error("Missing attribute name. "+this.debugInfo(t));if(null==n)throw new Error("Missing attribute value. "+this.debugInfo(t));this.name=this.stringify.attName(t),this.value=this.stringify.attValue(n)}return e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},e.prototype.debugInfo=function(e){return null==(e=e||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},e}()}.call(hu)),mE.exports}function yE(){return uE||(uE=1,function(){var e,t,n,i,r,a,s={}.hasOwnProperty;a=hE(),r=a.isObject,i=a.isFunction,n=a.getValue,t=nk(),e=bE(),gE.exports=function(t){function a(e,t,n){if(a.__super__.constructor.call(this,e),null==t)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(t),this.attributes={},null!=n&&this.attribute(n),e.isDocument&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this)}return function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(a,t),a.prototype.clone=function(){var e,t,n,i;for(t in(n=Object.create(this)).isRoot&&(n.documentObject=null),n.attributes={},i=this.attributes)s.call(i,t)&&(e=i[t],n.attributes[t]=e.clone());return n.children=[],this.children.forEach(function(e){var t;return(t=e.clone()).parent=n,n.children.push(t)}),n},a.prototype.attribute=function(t,a){var o,c;if(null!=t&&(t=n(t)),r(t))for(o in t)s.call(t,o)&&(c=t[o],this.attribute(o,c));else i(a)&&(a=a.apply()),this.options.skipNullAttributes&&null==a||(this.attributes[t]=new e(this,t,a));return this},a.prototype.removeAttribute=function(e){var t,i,r;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=n(e),Array.isArray(e))for(i=0,r=e.length;i<r;i++)t=e[i],delete this.attributes[t];else delete this.attributes[e];return this},a.prototype.toString=function(e){return this.options.writer.set(e).element(this)},a.prototype.att=function(e,t){return this.attribute(e,t)},a.prototype.a=function(e,t){return this.attribute(e,t)},a}(t)}.call(hu)),gE.exports}var vE,xE={exports:{}};function wE(){return vE||(vE=1,function(){var e,t={}.hasOwnProperty;e=nk(),xE.exports=function(e){function n(e,t){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(t)}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).cdata(this)},n}(e)}.call(hu)),xE.exports}var _E,DE={exports:{}};function AE(){return _E||(_E=1,function(){var e,t={}.hasOwnProperty;e=nk(),DE.exports=function(e){function n(e,t){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(t)}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).comment(this)},n}(e)}.call(hu)),DE.exports}var TE,UE={exports:{}};function EE(){return TE||(TE=1,function(){var e,t,n={}.hasOwnProperty;t=hE().isObject,e=nk(),UE.exports=function(e){function i(e,n,r,a){var s;i.__super__.constructor.call(this,e),t(n)&&(n=(s=n).version,r=s.encoding,a=s.standalone),n||(n="1.0"),this.version=this.stringify.xmlVersion(n),null!=r&&(this.encoding=this.stringify.xmlEncoding(r)),null!=a&&(this.standalone=this.stringify.xmlStandalone(a))}return function(e,t){for(var i in t)n.call(t,i)&&(e[i]=t[i]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(i,e),i.prototype.toString=function(e){return this.options.writer.set(e).declaration(this)},i}(e)}.call(hu)),UE.exports}var kE,CE={exports:{}},SE={exports:{}};function FE(){return kE||(kE=1,function(){var e,t={}.hasOwnProperty;e=nk(),SE.exports=function(e){function n(e,t,i,r,a,s){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==i)throw new Error("Missing DTD attribute name. "+this.debugInfo(t));if(!r)throw new Error("Missing DTD attribute type. "+this.debugInfo(t));if(!a)throw new Error("Missing DTD attribute default. "+this.debugInfo(t));if(0!==a.indexOf("#")&&(a="#"+a),!a.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(t));if(s&&!a.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(t));this.elementName=this.stringify.eleName(t),this.attributeName=this.stringify.attName(i),this.attributeType=this.stringify.dtdAttType(r),this.defaultValue=this.stringify.dtdAttDefault(s),this.defaultValueType=a}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.set(e).dtdAttList(this)},n}(e)}.call(hu)),SE.exports}var ME,WE={exports:{}};function IE(){return ME||(ME=1,function(){var e,t,n={}.hasOwnProperty;t=hE().isObject,e=nk(),WE.exports=function(e){function i(e,n,r,a){if(i.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD entity name. "+this.debugInfo(r));if(null==a)throw new Error("Missing DTD entity value. "+this.debugInfo(r));if(this.pe=!!n,this.name=this.stringify.eleName(r),t(a)){if(!a.pubID&&!a.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(r));if(a.pubID&&!a.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(r));if(null!=a.pubID&&(this.pubID=this.stringify.dtdPubID(a.pubID)),null!=a.sysID&&(this.sysID=this.stringify.dtdSysID(a.sysID)),null!=a.nData&&(this.nData=this.stringify.dtdNData(a.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(r))}else this.value=this.stringify.dtdEntityValue(a)}return function(e,t){for(var i in t)n.call(t,i)&&(e[i]=t[i]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(i,e),i.prototype.toString=function(e){return this.options.writer.set(e).dtdEntity(this)},i}(e)}.call(hu)),WE.exports}var PE,RE={exports:{}};function BE(){return PE||(PE=1,function(){var e,t={}.hasOwnProperty;e=nk(),RE.exports=function(e){function n(e,t,i){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing DTD element name. "+this.debugInfo());i||(i="(#PCDATA)"),Array.isArray(i)&&(i="("+i.join(",")+")"),this.name=this.stringify.eleName(t),this.value=this.stringify.dtdElementValue(i)}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.set(e).dtdElement(this)},n}(e)}.call(hu)),RE.exports}var NE,OE,LE={exports:{}};function jE(){return NE||(NE=1,function(){var e,t={}.hasOwnProperty;e=nk(),LE.exports=function(e){function n(e,t,i){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing DTD notation name. "+this.debugInfo(t));if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(t));this.name=this.stringify.eleName(t),null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID))}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.set(e).dtdNotation(this)},n}(e)}.call(hu)),LE.exports}function zE(){return OE||(OE=1,function(){var e,t,n,i,r,a,s={}.hasOwnProperty;a=hE().isObject,r=nk(),e=FE(),n=IE(),t=BE(),i=jE(),CE.exports=function(r){function o(e,t,n){var i,r;o.__super__.constructor.call(this,e),this.name="!DOCTYPE",this.documentObject=e,a(t)&&(t=(i=t).pubID,n=i.sysID),null==n&&(n=(r=[t,n])[0],t=r[1]),null!=t&&(this.pubID=this.stringify.dtdPubID(t)),null!=n&&(this.sysID=this.stringify.dtdSysID(n))}return function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(o,r),o.prototype.element=function(e,n){var i;return i=new t(this,e,n),this.children.push(i),this},o.prototype.attList=function(t,n,i,r,a){var s;return s=new e(this,t,n,i,r,a),this.children.push(s),this},o.prototype.entity=function(e,t){var i;return i=new n(this,!1,e,t),this.children.push(i),this},o.prototype.pEntity=function(e,t){var i;return i=new n(this,!0,e,t),this.children.push(i),this},o.prototype.notation=function(e,t){var n;return n=new i(this,e,t),this.children.push(n),this},o.prototype.toString=function(e){return this.options.writer.set(e).docType(this)},o.prototype.ele=function(e,t){return this.element(e,t)},o.prototype.att=function(e,t,n,i,r){return this.attList(e,t,n,i,r)},o.prototype.ent=function(e,t){return this.entity(e,t)},o.prototype.pent=function(e,t){return this.pEntity(e,t)},o.prototype.not=function(e,t){return this.notation(e,t)},o.prototype.up=function(){return this.root()||this.documentObject},o}(r)}.call(hu)),CE.exports}var HE,qE={exports:{}};function VE(){return HE||(HE=1,function(){var e,t={}.hasOwnProperty;e=nk(),qE.exports=function(e){function n(e,t){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(t)}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).raw(this)},n}(e)}.call(hu)),qE.exports}var $E,GE={exports:{}};function XE(){return $E||($E=1,function(){var e,t={}.hasOwnProperty;e=nk(),GE.exports=function(e){function n(e,t){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(t)}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).text(this)},n}(e)}.call(hu)),GE.exports}var YE,KE={exports:{}};function ZE(){return YE||(YE=1,function(){var e,t={}.hasOwnProperty;e=nk(),KE.exports=function(e){function n(e,t,i){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(t),i&&(this.value=this.stringify.insValue(i))}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.set(e).processingInstruction(this)},n}(e)}.call(hu)),KE.exports}var QE,JE,ek={exports:{}};function tk(){return QE||(QE=1,function(){var e,t={}.hasOwnProperty;e=nk(),ek.exports=function(e){function n(e){n.__super__.constructor.call(this,e),this.isDummy=!0}return function(e,n){for(var i in n)t.call(n,i)&&(e[i]=n[i]);function r(){this.constructor=e}r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return""},n}(e)}.call(hu)),ek.exports}function nk(){return JE||(JE=1,function(){var e,t,n,i,r,a,s,o,c,l,h,d,u,p,f={}.hasOwnProperty;p=hE(),u=p.isObject,d=p.isFunction,h=p.isEmpty,l=p.getValue,a=null,e=null,t=null,n=null,i=null,o=null,c=null,s=null,r=null,fE.exports=function(){function p(l){this.parent=l,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],a||(a=yE(),e=wE(),t=AE(),n=EE(),i=zE(),o=VE(),c=XE(),s=ZE(),r=tk())}return p.prototype.element=function(e,t,n){var i,r,a,s,o,c,p,g,m,b,y;if(c=null,null===t&&null==n&&(t=(m=[{},null])[0],n=m[1]),null==t&&(t={}),t=l(t),u(t)||(n=(b=[t,n])[0],t=b[1]),null!=e&&(e=l(e)),Array.isArray(e))for(a=0,p=e.length;a<p;a++)r=e[a],c=this.element(r);else if(d(e))c=this.element(e.apply());else if(u(e)){for(o in e)if(f.call(e,o))if(y=e[o],d(y)&&(y=y.apply()),u(y)&&h(y)&&(y=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===o.indexOf(this.stringify.convertAttKey))c=this.attribute(o.substr(this.stringify.convertAttKey.length),y);else if(!this.options.separateArrayItems&&Array.isArray(y))for(s=0,g=y.length;s<g;s++)r=y[s],(i={})[o]=r,c=this.element(i);else u(y)?(c=this.element(o)).element(y):c=this.element(o,y)}else c=this.options.skipNullNodes&&null===n?this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),n):this.node(e,t,n);if(null==c)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return c},p.prototype.insertBefore=function(e,t,n){var i,r,a;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return r=this.parent.children.indexOf(this),a=this.parent.children.splice(r),i=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,a),i},p.prototype.insertAfter=function(e,t,n){var i,r,a;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return r=this.parent.children.indexOf(this),a=this.parent.children.splice(r+1),i=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,a),i},p.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},p.prototype.node=function(e,t,n){var i,r;return null!=e&&(e=l(e)),t||(t={}),t=l(t),u(t)||(n=(r=[t,n])[0],t=r[1]),i=new a(this,e,t),null!=n&&i.text(n),this.children.push(i),i},p.prototype.text=function(e){var t;return t=new c(this,e),this.children.push(t),this},p.prototype.cdata=function(t){var n;return n=new e(this,t),this.children.push(n),this},p.prototype.comment=function(e){var n;return n=new t(this,e),this.children.push(n),this},p.prototype.commentBefore=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},p.prototype.commentAfter=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},p.prototype.raw=function(e){var t;return t=new o(this,e),this.children.push(t),this},p.prototype.dummy=function(){var e;return e=new r(this),this.children.push(e),e},p.prototype.instruction=function(e,t){var n,i,r,a,o;if(null!=e&&(e=l(e)),null!=t&&(t=l(t)),Array.isArray(e))for(a=0,o=e.length;a<o;a++)n=e[a],this.instruction(n);else if(u(e))for(n in e)f.call(e,n)&&(i=e[n],this.instruction(n,i));else d(t)&&(t=t.apply()),r=new s(this,e,t),this.children.push(r);return this},p.prototype.instructionBefore=function(e,t){var n,i;return n=this.parent.children.indexOf(this),i=this.parent.children.splice(n),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,i),this},p.prototype.instructionAfter=function(e,t){var n,i;return n=this.parent.children.indexOf(this),i=this.parent.children.splice(n+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,i),this},p.prototype.declaration=function(e,t,i){var r,a;return r=this.document(),a=new n(r,e,t,i),r.children[0]instanceof n?r.children[0]=a:r.children.unshift(a),r.root()||r},p.prototype.doctype=function(e,t){var n,r,a,s,o,c,l,h,d;for(n=this.document(),r=new i(n,e,t),a=s=0,c=(h=n.children).length;s<c;a=++s)if(h[a]instanceof i)return n.children[a]=r,r;for(a=o=0,l=(d=n.children).length;o<l;a=++o)if(d[a].isRoot)return n.children.splice(a,0,r),r;return n.children.push(r),r},p.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},p.prototype.root=function(){var e;for(e=this;e;){if(e.isDocument)return e.rootObject;if(e.isRoot)return e;e=e.parent}},p.prototype.document=function(){var e;for(e=this;e;){if(e.isDocument)return e;e=e.parent}},p.prototype.end=function(e){return this.document().end(e)},p.prototype.prev=function(){var e;for(e=this.parent.children.indexOf(this);e>0&&this.parent.children[e-1].isDummy;)e-=1;if(e<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},p.prototype.next=function(){var e;for(e=this.parent.children.indexOf(this);e<this.parent.children.length-1&&this.parent.children[e+1].isDummy;)e+=1;if(-1===e||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},p.prototype.importDocument=function(e){var t;return(t=e.root().clone()).parent=this,t.isRoot=!1,this.children.push(t),this},p.prototype.debugInfo=function(e){var t,n;return null!=(e=e||this.name)||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},p.prototype.ele=function(e,t,n){return this.element(e,t,n)},p.prototype.nod=function(e,t,n){return this.node(e,t,n)},p.prototype.txt=function(e){return this.text(e)},p.prototype.dat=function(e){return this.cdata(e)},p.prototype.com=function(e){return this.comment(e)},p.prototype.ins=function(e,t){return this.instruction(e,t)},p.prototype.doc=function(){return this.document()},p.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},p.prototype.dtd=function(e,t){return this.doctype(e,t)},p.prototype.e=function(e,t,n){return this.element(e,t,n)},p.prototype.n=function(e,t,n){return this.node(e,t,n)},p.prototype.t=function(e){return this.text(e)},p.prototype.d=function(e){return this.cdata(e)},p.prototype.c=function(e){return this.comment(e)},p.prototype.r=function(e){return this.raw(e)},p.prototype.i=function(e,t){return this.instruction(e,t)},p.prototype.u=function(){return this.up()},p.prototype.importXMLBuilder=function(e){return this.importDocument(e)},p}()}.call(hu)),fE.exports}var ik,rk={exports:{}};function ak(){return ik||(ik=1,function(){var e={}.hasOwnProperty;rk.exports=function(){function t(t){var n,i,r,a,s;for(r in this.assertLegalChar=(n=this.assertLegalChar,i=this,function(){return n.apply(i,arguments)}),t||(t={}),this.noDoubleEncoding=t.noDoubleEncoding,a=t.stringify||{})e.call(a,r)&&(s=a[r],this[r]=s)}return t.prototype.eleName=function(e){return e=""+e||"",this.assertLegalChar(e)},t.prototype.eleText=function(e){return e=""+e||"",this.assertLegalChar(this.elEscape(e))},t.prototype.cdata=function(e){return e=(e=""+e||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e)},t.prototype.comment=function(e){if((e=""+e||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},t.prototype.raw=function(e){return""+e||""},t.prototype.attName=function(e){return""+e||""},t.prototype.attValue=function(e){return e=""+e||"",this.attEscape(e)},t.prototype.insTarget=function(e){return""+e||""},t.prototype.insValue=function(e){if((e=""+e||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return e},t.prototype.xmlVersion=function(e){if(!(e=""+e||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},t.prototype.xmlEncoding=function(e){if(!(e=""+e||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return e},t.prototype.xmlStandalone=function(e){return e?"yes":"no"},t.prototype.dtdPubID=function(e){return""+e||""},t.prototype.dtdSysID=function(e){return""+e||""},t.prototype.dtdElementValue=function(e){return""+e||""},t.prototype.dtdAttType=function(e){return""+e||""},t.prototype.dtdAttDefault=function(e){return null!=e?""+e||"":e},t.prototype.dtdEntityValue=function(e){return""+e||""},t.prototype.dtdNData=function(e){return""+e||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(e){var t;if(t=e.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+e+" at index "+t.index);return e},t.prototype.elEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}.call(hu)),rk.exports}var sk,ok,ck,lk={exports:{}},hk={exports:{}};function dk(){return sk||(sk=1,function(){var e={}.hasOwnProperty;hk.exports=function(){function t(t){var n,i,r,a,s,o,c,l,h;for(n in t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=null!=(i=t.allowEmpty)&&i,this.pretty?(this.indent=null!=(r=t.indent)?r:"  ",this.newline=null!=(a=t.newline)?a:"\n",this.offset=null!=(s=t.offset)?s:0,this.dontprettytextnodes=null!=(o=t.dontprettytextnodes)?o:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(c=t.spacebeforeslash)?c:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,l=t.writer||{})e.call(l,n)&&(h=l[n],this[n]=h)}return t.prototype.set=function(t){var n,i,r;for(n in t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:"\n",this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,i=t.writer||{})e.call(i,n)&&(r=i[n],this[n]=r);return this},t.prototype.space=function(e){var t;return this.pretty&&(t=(e||0)+this.offset+1)>0?new Array(t).join(this.indent):""},t}()}.call(hu)),hk.exports}function uk(){return ok||(ok=1,function(){var e,t,n,i,r,a,s,o,c,l,h,d,u,p,f={}.hasOwnProperty;s=EE(),o=zE(),e=wE(),t=AE(),l=yE(),d=VE(),u=XE(),h=ZE(),c=tk(),n=FE(),i=BE(),r=IE(),a=jE(),p=dk(),lk.exports=function(p){function g(e){g.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)f.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(g,p),g.prototype.document=function(e){var n,i,r,a,l;for(this.textispresent=!1,a="",i=0,r=(l=e.children).length;i<r;i++)(n=l[i])instanceof c||(a+=function(){switch(!1){case!(n instanceof s):return this.declaration(n);case!(n instanceof o):return this.docType(n);case!(n instanceof t):return this.comment(n);case!(n instanceof h):return this.processingInstruction(n);default:return this.element(n,0)}}.call(this));return this.pretty&&a.slice(-this.newline.length)===this.newline&&(a=a.slice(0,-this.newline.length)),a},g.prototype.attribute=function(e){return" "+e.name+'="'+e.value+'"'},g.prototype.cdata=function(e,t){return this.space(t)+"<![CDATA["+e.text+"]]>"+this.newline},g.prototype.comment=function(e,t){return this.space(t)+"\x3c!-- "+e.text+" --\x3e"+this.newline},g.prototype.declaration=function(e,t){var n;return n=this.space(t),n+='<?xml version="'+e.version+'"',null!=e.encoding&&(n+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(n+=' standalone="'+e.standalone+'"'),n+=this.spacebeforeslash+"?>",n+=this.newline},g.prototype.docType=function(s,o){var c,l,d,u,p;if(o||(o=0),u=this.space(o),u+="<!DOCTYPE "+s.root().name,s.pubID&&s.sysID?u+=' PUBLIC "'+s.pubID+'" "'+s.sysID+'"':s.sysID&&(u+=' SYSTEM "'+s.sysID+'"'),s.children.length>0){for(u+=" [",u+=this.newline,l=0,d=(p=s.children).length;l<d;l++)c=p[l],u+=function(){switch(!1){case!(c instanceof n):return this.dtdAttList(c,o+1);case!(c instanceof i):return this.dtdElement(c,o+1);case!(c instanceof r):return this.dtdEntity(c,o+1);case!(c instanceof a):return this.dtdNotation(c,o+1);case!(c instanceof e):return this.cdata(c,o+1);case!(c instanceof t):return this.comment(c,o+1);case!(c instanceof h):return this.processingInstruction(c,o+1);default:throw new Error("Unknown DTD node type: "+c.constructor.name)}}.call(this);u+="]"}return u+=this.spacebeforeslash+">",u+=this.newline},g.prototype.element=function(n,i){var r,a,s,o,p,g,m,b,y,v,x,w,_;for(m in i||(i=0),_=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),b="",b+=(w=this.space(i))+"<"+n.name,y=n.attributes)f.call(y,m)&&(r=y[m],b+=this.attribute(r));if(0===n.children.length||n.children.every(function(e){return""===e.value}))this.allowEmpty?b+="></"+n.name+">"+this.newline:b+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===n.children.length&&null!=n.children[0].value)b+=">",b+=n.children[0].value,b+="</"+n.name+">"+this.newline;else{if(this.dontprettytextnodes)for(s=0,p=(v=n.children).length;s<p;s++)if(null!=(a=v[s]).value){this.textispresent++,_=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,w=this.space(i)),b+=">"+this.newline,o=0,g=(x=n.children).length;o<g;o++)a=x[o],b+=function(){switch(!1){case!(a instanceof e):return this.cdata(a,i+1);case!(a instanceof t):return this.comment(a,i+1);case!(a instanceof l):return this.element(a,i+1);case!(a instanceof d):return this.raw(a,i+1);case!(a instanceof u):return this.text(a,i+1);case!(a instanceof h):return this.processingInstruction(a,i+1);case!(a instanceof c):return"";default:throw new Error("Unknown XML node type: "+a.constructor.name)}}.call(this);_&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),b+=w+"</"+n.name+">"+this.newline}return b},g.prototype.processingInstruction=function(e,t){var n;return n=this.space(t)+"<?"+e.target,e.value&&(n+=" "+e.value),n+=this.spacebeforeslash+"?>"+this.newline},g.prototype.raw=function(e,t){return this.space(t)+e.value+this.newline},g.prototype.text=function(e,t){return this.space(t)+e.value+this.newline},g.prototype.dtdAttList=function(e,t){var n;return n=this.space(t)+"<!ATTLIST "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(n+=" "+e.defaultValueType),e.defaultValue&&(n+=' "'+e.defaultValue+'"'),n+=this.spacebeforeslash+">"+this.newline},g.prototype.dtdElement=function(e,t){return this.space(t)+"<!ELEMENT "+e.name+" "+e.value+this.spacebeforeslash+">"+this.newline},g.prototype.dtdEntity=function(e,t){var n;return n=this.space(t)+"<!ENTITY",e.pe&&(n+=" %"),n+=" "+e.name,e.value?n+=' "'+e.value+'"':(e.pubID&&e.sysID?n+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(n+=' SYSTEM "'+e.sysID+'"'),e.nData&&(n+=" NDATA "+e.nData)),n+=this.spacebeforeslash+">"+this.newline},g.prototype.dtdNotation=function(e,t){var n;return n=this.space(t)+"<!NOTATION "+e.name,e.pubID&&e.sysID?n+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?n+=' PUBLIC "'+e.pubID+'"':e.sysID&&(n+=' SYSTEM "'+e.sysID+'"'),n+=this.spacebeforeslash+">"+this.newline},g.prototype.openNode=function(e,t){var n,i,r,a;if(t||(t=0),e instanceof l){for(i in r=this.space(t)+"<"+e.name,a=e.attributes)f.call(a,i)&&(n=a[i],r+=this.attribute(n));return r+=(e.children?">":"/>")+this.newline}return r=this.space(t)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?r+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(r+=' SYSTEM "'+e.sysID+'"'),r+=(e.children?" [":">")+this.newline},g.prototype.closeNode=function(e,t){switch(t||(t=0),!1){case!(e instanceof l):return this.space(t)+"</"+e.name+">"+this.newline;case!(e instanceof o):return this.space(t)+"]>"+this.newline}},g}(p)}.call(hu)),lk.exports}function pk(){return ck||(ck=1,function(){var e,t,n,i,r={}.hasOwnProperty;i=hE().isPlainObject,e=nk(),n=ak(),t=uk(),pE.exports=function(e){function a(e){a.__super__.constructor.call(this,null),this.name="?xml",e||(e={}),e.writer||(e.writer=new t),this.options=e,this.stringify=new n(e),this.isDocument=!0}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(a,e),a.prototype.end=function(e){var t;return e?i(e)&&(t=e,e=this.options.writer.set(t)):e=this.options.writer,e.document(this)},a.prototype.toString=function(e){return this.options.writer.set(e).document(this)},a}(e)}.call(hu)),pE.exports}var fk,gk={exports:{}};var mk,bk={exports:{}};function yk(){return mk||(mk=1,function(){var e,t,n,i,r,a,s,o,c,l,h,d,u,p,f={}.hasOwnProperty;s=EE(),o=zE(),e=wE(),t=AE(),l=yE(),d=VE(),u=XE(),h=ZE(),c=tk(),n=FE(),i=BE(),r=IE(),a=jE(),p=dk(),bk.exports=function(p){function g(e,t){g.__super__.constructor.call(this,t),this.stream=e}return function(e,t){for(var n in t)f.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(g,p),g.prototype.document=function(e){var n,i,r,a,l,d,u,p;for(i=0,a=(d=e.children).length;i<a;i++)(n=d[i]).isLastRootNode=!1;for(e.children[e.children.length-1].isLastRootNode=!0,p=[],r=0,l=(u=e.children).length;r<l;r++)if(!((n=u[r])instanceof c))switch(!1){case!(n instanceof s):p.push(this.declaration(n));break;case!(n instanceof o):p.push(this.docType(n));break;case!(n instanceof t):p.push(this.comment(n));break;case!(n instanceof h):p.push(this.processingInstruction(n));break;default:p.push(this.element(n))}return p},g.prototype.attribute=function(e){return this.stream.write(" "+e.name+'="'+e.value+'"')},g.prototype.cdata=function(e,t){return this.stream.write(this.space(t)+"<![CDATA["+e.text+"]]>"+this.endline(e))},g.prototype.comment=function(e,t){return this.stream.write(this.space(t)+"\x3c!-- "+e.text+" --\x3e"+this.endline(e))},g.prototype.declaration=function(e,t){return this.stream.write(this.space(t)),this.stream.write('<?xml version="'+e.version+'"'),null!=e.encoding&&this.stream.write(' encoding="'+e.encoding+'"'),null!=e.standalone&&this.stream.write(' standalone="'+e.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(e))},g.prototype.docType=function(s,o){var c,l,d,u;if(o||(o=0),this.stream.write(this.space(o)),this.stream.write("<!DOCTYPE "+s.root().name),s.pubID&&s.sysID?this.stream.write(' PUBLIC "'+s.pubID+'" "'+s.sysID+'"'):s.sysID&&this.stream.write(' SYSTEM "'+s.sysID+'"'),s.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(s)),l=0,d=(u=s.children).length;l<d;l++)switch(c=u[l],!1){case!(c instanceof n):this.dtdAttList(c,o+1);break;case!(c instanceof i):this.dtdElement(c,o+1);break;case!(c instanceof r):this.dtdEntity(c,o+1);break;case!(c instanceof a):this.dtdNotation(c,o+1);break;case!(c instanceof e):this.cdata(c,o+1);break;case!(c instanceof t):this.comment(c,o+1);break;case!(c instanceof h):this.processingInstruction(c,o+1);break;default:throw new Error("Unknown DTD node type: "+c.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(s))},g.prototype.element=function(n,i){var r,a,s,o,p,g,m,b;for(p in i||(i=0),b=this.space(i),this.stream.write(b+"<"+n.name),g=n.attributes)f.call(g,p)&&(r=g[p],this.attribute(r));if(0===n.children.length||n.children.every(function(e){return""===e.value}))this.allowEmpty?this.stream.write("></"+n.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===n.children.length&&null!=n.children[0].value)this.stream.write(">"),this.stream.write(n.children[0].value),this.stream.write("</"+n.name+">");else{for(this.stream.write(">"+this.newline),s=0,o=(m=n.children).length;s<o;s++)switch(a=m[s],!1){case!(a instanceof e):this.cdata(a,i+1);break;case!(a instanceof t):this.comment(a,i+1);break;case!(a instanceof l):this.element(a,i+1);break;case!(a instanceof d):this.raw(a,i+1);break;case!(a instanceof u):this.text(a,i+1);break;case!(a instanceof h):this.processingInstruction(a,i+1);break;case!(a instanceof c):break;default:throw new Error("Unknown XML node type: "+a.constructor.name)}this.stream.write(b+"</"+n.name+">")}return this.stream.write(this.endline(n))},g.prototype.processingInstruction=function(e,t){return this.stream.write(this.space(t)+"<?"+e.target),e.value&&this.stream.write(" "+e.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(e))},g.prototype.raw=function(e,t){return this.stream.write(this.space(t)+e.value+this.endline(e))},g.prototype.text=function(e,t){return this.stream.write(this.space(t)+e.value+this.endline(e))},g.prototype.dtdAttList=function(e,t){return this.stream.write(this.space(t)+"<!ATTLIST "+e.elementName+" "+e.attributeName+" "+e.attributeType),"#DEFAULT"!==e.defaultValueType&&this.stream.write(" "+e.defaultValueType),e.defaultValue&&this.stream.write(' "'+e.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},g.prototype.dtdElement=function(e,t){return this.stream.write(this.space(t)+"<!ELEMENT "+e.name+" "+e.value),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},g.prototype.dtdEntity=function(e,t){return this.stream.write(this.space(t)+"<!ENTITY"),e.pe&&this.stream.write(" %"),this.stream.write(" "+e.name),e.value?this.stream.write(' "'+e.value+'"'):(e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.nData&&this.stream.write(" NDATA "+e.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},g.prototype.dtdNotation=function(e,t){return this.stream.write(this.space(t)+"<!NOTATION "+e.name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.pubID?this.stream.write(' PUBLIC "'+e.pubID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},g.prototype.endline=function(e){return e.isLastRootNode?"":this.newline},g}(p)}.call(hu)),bk.exports}(function(){var e,t,n,i,r,a,s;s=hE(),r=s.assign,a=s.isFunction,e=pk(),fk||(fk=1,function(){var e,t,n,i,r,a,s,o,c,l,h,d,u,p,f,g,m,b,y,v,x={}.hasOwnProperty;v=hE(),b=v.isObject,m=v.isFunction,y=v.isPlainObject,g=v.getValue,l=yE(),t=wE(),n=AE(),d=VE(),f=XE(),h=ZE(),o=EE(),c=zE(),i=FE(),a=IE(),r=BE(),s=jE(),e=bE(),p=ak(),u=uk(),gk.exports=function(){function v(e,t,n){var i;this.name="?xml",e||(e={}),e.writer?y(e.writer)&&(i=e.writer,e.writer=new u(i)):e.writer=new u(e),this.options=e,this.writer=e.writer,this.stringify=new p(e),this.onDataCallback=t||function(){},this.onEndCallback=n||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return v.prototype.node=function(e,t,n){var i,r;if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=g(e),null===t&&null==n&&(t=(i=[{},null])[0],n=i[1]),null==t&&(t={}),t=g(t),b(t)||(n=(r=[t,n])[0],t=r[1]),this.currentNode=new l(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},v.prototype.element=function(e,t,n){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(e,t,n)},v.prototype.attribute=function(t,n){var i,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t));if(null!=t&&(t=g(t)),b(t))for(i in t)x.call(t,i)&&(r=t[i],this.attribute(i,r));else m(n)&&(n=n.apply()),this.options.skipNullAttributes&&null==n||(this.currentNode.attributes[t]=new e(this,t,n));return this},v.prototype.text=function(e){var t;return this.openCurrent(),t=new f(this,e),this.onData(this.writer.text(t,this.currentLevel+1),this.currentLevel+1),this},v.prototype.cdata=function(e){var n;return this.openCurrent(),n=new t(this,e),this.onData(this.writer.cdata(n,this.currentLevel+1),this.currentLevel+1),this},v.prototype.comment=function(e){var t;return this.openCurrent(),t=new n(this,e),this.onData(this.writer.comment(t,this.currentLevel+1),this.currentLevel+1),this},v.prototype.raw=function(e){var t;return this.openCurrent(),t=new d(this,e),this.onData(this.writer.raw(t,this.currentLevel+1),this.currentLevel+1),this},v.prototype.instruction=function(e,t){var n,i,r,a,s;if(this.openCurrent(),null!=e&&(e=g(e)),null!=t&&(t=g(t)),Array.isArray(e))for(n=0,a=e.length;n<a;n++)i=e[n],this.instruction(i);else if(b(e))for(i in e)x.call(e,i)&&(r=e[i],this.instruction(i,r));else m(t)&&(t=t.apply()),s=new h(this,e,t),this.onData(this.writer.processingInstruction(s,this.currentLevel+1),this.currentLevel+1);return this},v.prototype.declaration=function(e,t,n){var i;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return i=new o(this,e,t,n),this.onData(this.writer.declaration(i,this.currentLevel+1),this.currentLevel+1),this},v.prototype.doctype=function(e,t,n){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,t,n),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},v.prototype.dtdElement=function(e,t){var n;return this.openCurrent(),n=new r(this,e,t),this.onData(this.writer.dtdElement(n,this.currentLevel+1),this.currentLevel+1),this},v.prototype.attList=function(e,t,n,r,a){var s;return this.openCurrent(),s=new i(this,e,t,n,r,a),this.onData(this.writer.dtdAttList(s,this.currentLevel+1),this.currentLevel+1),this},v.prototype.entity=function(e,t){var n;return this.openCurrent(),n=new a(this,!1,e,t),this.onData(this.writer.dtdEntity(n,this.currentLevel+1),this.currentLevel+1),this},v.prototype.pEntity=function(e,t){var n;return this.openCurrent(),n=new a(this,!0,e,t),this.onData(this.writer.dtdEntity(n,this.currentLevel+1),this.currentLevel+1),this},v.prototype.notation=function(e,t){var n;return this.openCurrent(),n=new s(this,e,t),this.onData(this.writer.dtdNotation(n,this.currentLevel+1),this.currentLevel+1),this},v.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},v.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},v.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},v.prototype.openNode=function(e){if(!e.isOpen)return!this.root&&0===this.currentLevel&&e instanceof l&&(this.root=e),this.onData(this.writer.openNode(e,this.currentLevel),this.currentLevel),e.isOpen=!0},v.prototype.closeNode=function(e){if(!e.isClosed)return this.onData(this.writer.closeNode(e,this.currentLevel),this.currentLevel),e.isClosed=!0},v.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},v.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},v.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},v.prototype.ele=function(){return this.element.apply(this,arguments)},v.prototype.nod=function(e,t,n){return this.node(e,t,n)},v.prototype.txt=function(e){return this.text(e)},v.prototype.dat=function(e){return this.cdata(e)},v.prototype.com=function(e){return this.comment(e)},v.prototype.ins=function(e,t){return this.instruction(e,t)},v.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},v.prototype.dtd=function(e,t,n){return this.doctype(e,t,n)},v.prototype.e=function(e,t,n){return this.element(e,t,n)},v.prototype.n=function(e,t,n){return this.node(e,t,n)},v.prototype.t=function(e){return this.text(e)},v.prototype.d=function(e){return this.cdata(e)},v.prototype.c=function(e){return this.comment(e)},v.prototype.r=function(e){return this.raw(e)},v.prototype.i=function(e,t){return this.instruction(e,t)},v.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},v.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},v.prototype.ent=function(e,t){return this.entity(e,t)},v.prototype.pent=function(e,t){return this.pEntity(e,t)},v.prototype.not=function(e,t){return this.notation(e,t)},v}()}.call(hu)),t=gk.exports,i=uk(),n=yk(),cE.create=function(t,n,i,a){var s,o;if(null==t)throw new Error("Root element needs a name.");return a=r({},n,i,a),o=(s=new e(a)).element(t),a.headless||(s.declaration(a),null==a.pubID&&null==a.sysID||s.doctype(a)),o},cE.begin=function(n,i,r){var s;return a(n)&&(i=(s=[n,i])[0],r=s[1],n={}),i?new t(n,i,r):new e(n)},cE.stringWriter=function(e){return new i(e)},cE.streamWriter=function(e,t){return new n(e,t)}}).call(hu);var vk=M_,xk=cE;function wk(e,t){e.text(t.value)}oE.writeString=function(e,t){var n=vk.invert(t),i={element:function(e,t){var n=e.element(a(t.name),t.attributes);t.children.forEach(function(e){r(n,e)})},text:wk};function r(e,t){return i[t.type](e,t)}function a(e){var t=/^\{(.*)\}(.*)$/.exec(e);if(t){var i=n[t[1]];return i+(""===i?"":":")+t[2]}return e}return s=e,o=xk.create(a(s.name),{version:"1.0",encoding:"UTF-8",standalone:!0}),vk.forEach(t,function(e,t){var n="xmlns"+(""===t?"":":"+t);o.attribute(n,e)}),s.children.forEach(function(e){r(o,e)}),o.end();var s,o};var _k=OA;NA.Element=_k.Element,NA.element=_k.element,NA.emptyElement=_k.emptyElement,NA.text=_k.text,NA.readString=VA.readString,NA.writeString=oE.writeString;var Dk=M_,Ak=B_,Tk=NA;BA.read=Ek,BA.readXmlFromZipFile=function(e,t){return e.exists(t)?e.read(t,"utf-8").then(kk).then(Ek):Ak.resolve(null)};var Uk={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function Ek(e){return Tk.readString(e,Uk).then(function(e){return Ck(e)[0]})}function kk(e){return e.replace(/^\uFEFF/g,"")}function Ck(e){return"element"===e.type?"mc:AlternateContent"===e.name?e.firstOrEmpty("mc:Fallback").children:(e.children=Dk.flatten(e.children.map(Ck,!0)),[e]):[e]}var Sk={},Fk={},Mk={};Object.defineProperty(Mk,"__esModule",{value:!0});Mk.default=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];var Wk=hu&&hu.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fk,"__esModule",{value:!0}),Fk.hex=Fk.dec=Fk.codePoint=void 0;for(var Ik=Wk(Mk),Pk={},Rk=String.fromCodePoint?String.fromCodePoint:function(e){if(e<=65535)return String.fromCharCode(e);var t=Math.floor((e-65536)/1024)+55296,n=(e-65536)%1024+56320;return String.fromCharCode(t,n)},Bk=0,Nk=Ik.default;Bk<Nk.length;Bk++){var Ok=Nk[Bk],Lk=parseInt(Ok["Unicode dec"],10),jk={codePoint:Lk,string:Rk(Lk)};Pk[Ok["Typeface name"].toUpperCase()+"_"+Ok["Dingbat dec"]]=jk}function zk(e,t){return Pk[e.toUpperCase()+"_"+t]}Fk.codePoint=zk,Fk.dec=function(e,t){return zk(e,parseInt(t,10))},Fk.hex=function(e,t){return zk(e,parseInt(t,16))};var Hk={},qk=M_;function Vk(e,t){return $k(function(n){return n.type===e?t(n):n})}function $k(e){return function t(n){if(n.children){var i=qk.map(n.children,t);n=qk.extend(n,{children:i})}return e(n)}}function Gk(e){var t=[];return Xk(e,function(e){t.push(e)}),t}function Xk(e,t){e.children&&e.children.forEach(function(e){Xk(e,t),t(e)})}Hk.paragraph=function(e){return Vk("paragraph",e)},Hk.run=function(e){return Vk("run",e)},Hk._elements=$k,Hk._elementsOfType=Vk,Hk.getDescendantsOfType=function(e,t){return Gk(e).filter(function(e){return e.type===t})},Hk.getDescendants=Gk;var Yk={};Yk.uriToZipEntryName=function(e,t){return"/"===t.charAt(0)?t.substr(1):e+"/"+t},Yk.replaceFragment=function(e,t){var n=e.indexOf("#");-1!==n&&(e=e.substring(0,n));return e+"#"+t},Sk.createBodyReader=function(e){return{readXmlElement:function(t){return new rC(e).readXmlElement(t)},readXmlElements:function(t){return new rC(e).readXmlElements(t)}}},Sk._readNumberingProperties=aC;var Kk=Fk,Zk=M_,Qk=pA,Jk=xA.Result,eC=xA.warning,tC=NA,nC=Hk,iC=Yk;function rC(e){var t=[],n=[],i=[],r=e.relationships,a=e.contentTypes,s=e.docxFile,o=e.files,c=e.numbering,l=e.styles;function h(e){return pC(e.map(d))}function d(e){if("element"===e.type){var t=_[e.name];if(t)return t(e);if(!Object.prototype.hasOwnProperty.call(oC,e.name))return cC([eC("An unrecognised element was ignored: "+e.name)])}return lC()}function u(e){return function(e){return y(e,"w:pStyle","Paragraph",l.findParagraphStyleById)}(e).map(function(t){return{type:"paragraphProperties",styleId:t.styleId,styleName:t.name,alignment:e.firstOrEmpty("w:jc").attributes["w:val"],numbering:aC(t.styleId,e.firstOrEmpty("w:numPr"),c),indent:p(e.firstOrEmpty("w:ind"))}})}function p(e){return{start:e.attributes["w:start"]||e.attributes["w:left"],end:e.attributes["w:end"]||e.attributes["w:right"],firstLine:e.attributes["w:firstLine"],hanging:e.attributes["w:hanging"]}}function f(e){return function(e){return y(e,"w:rStyle","Run",l.findCharacterStyleById)}(e).map(function(t){var n=e.firstOrEmpty("w:sz").attributes["w:val"],i=/^[0-9]+$/.test(n)?parseInt(n,10)/2:null;return{type:"runProperties",styleId:t.styleId,styleName:t.name,verticalAlignment:e.firstOrEmpty("w:vertAlign").attributes["w:val"],font:e.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:i,isBold:m(e.first("w:b")),isUnderline:g(e.first("w:u")),isItalic:m(e.first("w:i")),isStrikethrough:m(e.first("w:strike")),isAllCaps:m(e.first("w:caps")),isSmallCaps:m(e.first("w:smallCaps")),highlight:b(e.firstOrEmpty("w:highlight").attributes["w:val"])}})}function g(e){if(e){var t=e.attributes["w:val"];return void 0!==t&&"false"!==t&&"0"!==t&&"none"!==t}return!1}function m(e){if(e){var t=e.attributes["w:val"];return"false"!==t&&"0"!==t}return!1}function b(e){return e&&"none"!==e?e:null}function y(e,t,n,i){var r=[],a=e.first(t),s=null,o=null;if(a&&(s=a.attributes["w:val"])){var c=i(s);c?o=c.name:r.push(function(e,t){return eC(e+" style with ID "+t+" was referenced but not defined in the document")}(n,s))}return dC({styleId:s,name:o},r)}function v(e){return function(e,t){var n=/\s*HYPERLINK "(.*)"/.exec(e);if(n)return{type:"hyperlink",options:{href:n[1]}};var i=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(e);if(i)return{type:"hyperlink",options:{anchor:i[1]}};if(/\s*FORMCHECKBOX\s*/.exec(e)){var r=t.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),a=r.first("w:checked");return{type:"checkbox",checked:m(null==a?r.first("w:default"):a)}}return{type:"unknown"}}(n.join(""),"begin"===e.type?e.fldChar:tC.emptyElement)}function x(e){return function(t){var n=t.attributes["w:id"];return hC(new Qk.NoteReference({noteType:e,noteId:n}))}}function w(e){return h(e.children)}var _={"w:p":function(e){var t=e.firstOrEmpty("w:pPr");if(!!t.firstOrEmpty("w:rPr").first("w:del"))return e.children.forEach(function(e){i.push(e)}),lC();var n=e.children;return i.length>0&&(n=i.concat(n),i=[]),uC.map(u(t),h(n),function(e,t){return new Qk.Paragraph(t,e)}).insertExtra()},"w:r":function(e){return uC.map(f(e.firstOrEmpty("w:rPr")),h(e.children),function(e,n){var i,r=(i=Zk.last(t.filter(function(e){return"hyperlink"===e.type})))?i.options:null;return null!==r&&(n=[new Qk.Hyperlink(n,r)]),new Qk.Run(n,e)})},"w:fldChar":function(e){var i=e.attributes["w:fldCharType"];if("begin"===i)t.push({type:"begin",fldChar:e}),n=[];else if("end"===i){var r=t.pop();if("begin"===r.type&&(r=v(r)),"checkbox"===r.type)return hC(Qk.checkbox({checked:r.checked}))}else if("separate"===i){var a=v(t.pop());t.push(a)}return lC()},"w:instrText":function(e){return n.push(e.text()),lC()},"w:t":function(e){return hC(new Qk.Text(e.text()))},"w:tab":function(e){return hC(new Qk.Tab)},"w:noBreakHyphen":function(){return hC(new Qk.Text(""))},"w:softHyphen":function(e){return hC(new Qk.Text(""))},"w:sym":function(e){var t=e.attributes["w:font"],n=e.attributes["w:char"],i=Kk.hex(t,n);return null==i&&/^F0..$/.test(n)&&(i=Kk.hex(t,n.substring(2))),null==i?cC([eC("A w:sym element with an unsupported character was ignored: char "+n+" in font "+t)]):hC(new Qk.Text(i.string))},"w:hyperlink":function(e){var t=e.attributes["r:id"],n=e.attributes["w:anchor"];return h(e.children).map(function(i){function a(t){var n=e.attributes["w:tgtFrame"]||null;return new Qk.Hyperlink(i,Zk.extend({targetFrame:n},t))}if(t){var s=r.findTargetByRelationshipId(t);return n&&(s=iC.replaceFragment(s,n)),a({href:s})}return n?a({anchor:n}):i})},"w:tbl":function(e){var t=function(e){return function(e){return y(e,"w:tblStyle","Table",l.findTableStyleById)}(e).map(function(e){return{styleId:e.styleId,styleName:e.name}})}(e.firstOrEmpty("w:tblPr"));return h(e.children).flatMap(D).flatMap(function(e){return t.map(function(t){return Qk.Table(e,t)})})},"w:tr":function(e){var t=e.firstOrEmpty("w:trPr");if(t.first("w:del"))return lC();var n=!!t.first("w:tblHeader");return h(e.children).map(function(e){return Qk.TableRow(e,{isHeader:n})})},"w:tc":function(e){return h(e.children).map(function(t){var n=e.firstOrEmpty("w:tcPr"),i=n.firstOrEmpty("w:gridSpan").attributes["w:val"],r=i?parseInt(i,10):1,a=Qk.TableCell(t,{colSpan:r});return a._vMerge=function(e){var t=e.first("w:vMerge");if(t){var n=t.attributes["w:val"];return"continue"===n||!n}return null}(n),a})},"w:footnoteReference":x("footnote"),"w:endnoteReference":x("endnote"),"w:commentReference":function(e){return hC(Qk.commentReference({commentId:e.attributes["w:id"]}))},"w:br":function(e){var t=e.attributes["w:type"];return null==t||"textWrapping"===t?hC(Qk.lineBreak):"page"===t?hC(Qk.pageBreak):"column"===t?hC(Qk.columnBreak):cC([eC("Unsupported break type: "+t)])},"w:bookmarkStart":function(e){var t=e.attributes["w:name"];return"_GoBack"===t?lC():hC(new Qk.BookmarkStart({name:t}))},"mc:AlternateContent":function(e){return w(e.firstOrEmpty("mc:Fallback"))},"w:sdt":function(e){return h(e.firstOrEmpty("w:sdtContent").children).map(function(t){var n,i=e.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(i){var r=i.first("wordml:checked"),a=!!r&&("false"!==(n=r.attributes["wordml:val"])&&"0"!==n),s=Qk.checkbox({checked:a}),o=!1,c=t.map(nC._elementsOfType(Qk.types.text,function(e){return e.value.length>0&&!o?(o=!0,s):e}));return o?c:s}return t})},"w:ins":w,"w:object":w,"w:smartTag":w,"w:drawing":w,"w:pict":function(e){return w(e).toExtra()},"v:roundrect":w,"v:shape":w,"v:textbox":w,"w:txbxContent":w,"wp:inline":T,"wp:anchor":T,"v:imagedata":function(e){var t=e.attributes["r:id"];return t?k(E(t),e.attributes["o:title"]):cC([eC("A v:imagedata element without a relationship ID was ignored")])},"v:group":w,"v:rect":w};return{readXmlElement:d,readXmlElements:h};function D(e){if(Zk.any(e,function(e){return e.type!==Qk.types.tableRow}))return A(e),dC(e,[eC("unexpected non-row element in table, cell merging may be incorrect")]);if(Zk.any(e,function(e){return Zk.any(e.children,function(e){return e.type!==Qk.types.tableCell})}))return A(e),dC(e,[eC("unexpected non-cell element in table row, cell merging may be incorrect")]);var t={};return e.forEach(function(e){var n=0;e.children.forEach(function(e){e._vMerge&&t[n]?t[n].rowSpan++:(t[n]=e,e._vMerge=!1),n+=e.colSpan})}),e.forEach(function(e){e.children=e.children.filter(function(e){return!e._vMerge}),e.children.forEach(function(e){delete e._vMerge})}),hC(e)}function A(e){e.forEach(function(e){nC.getDescendantsOfType(e,Qk.types.tableCell).forEach(function(e){delete e._vMerge})})}function T(e){return pC(e.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip").map(U.bind(null,e)))}function U(e,t){var n,i=e.first("wp:docPr").attributes,a=null==(n=i.descr)||/^\s*$/.test(n)?i.title:i.descr,s=function(e){var t=e.attributes["r:embed"],n=e.attributes["r:link"];if(t)return E(t);if(n){var i=r.findTargetByRelationshipId(n);return{path:i,read:o.read.bind(o,i)}}return null}(t);return null===s?cC([eC("Could not find image file for a:blip element")]):k(s,a)}function E(e){var t=iC.uriToZipEntryName("word",r.findTargetByRelationshipId(e));return{path:t,read:s.read.bind(s,t)}}function k(e,t){var n=a.findContentType(e.path);return dC(Qk.Image({readImage:e.read,altText:t,contentType:n}),sC[n]?[]:eC("Image of type "+n+" is unlikely to display in web browsers"))}}function aC(e,t,n){var i=t.firstOrEmpty("w:ilvl").attributes["w:val"],r=t.firstOrEmpty("w:numId").attributes["w:val"];if(void 0!==i&&void 0!==r)return n.findLevel(r,i);if(null!=e){var a=n.findLevelByParagraphStyleId(e);if(null!=a)return a}return void 0!==r?n.findLevel(r,"0"):null}var sC={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},oC={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function cC(e){return new uC(null,null,e)}function lC(){return new uC(null)}function hC(e){return new uC(e)}function dC(e,t){return new uC(e,null,t)}function uC(e,t,n){this.value=e||[],this.extra=t||[],this._result=new Jk({element:this.value,extra:t},n),this.messages=this._result.messages}function pC(e){var t=Jk.combine(Zk.pluck(e,"_result"));return new uC(Zk.flatten(Zk.pluck(t.value,"element")),Zk.filter(Zk.flatten(Zk.pluck(t.value,"extra")),gC),t.messages)}function fC(e,t){return Zk.flatten([e,t])}function gC(e){return e}uC.prototype.toExtra=function(){return new uC(null,fC(this.extra,this.value),this.messages)},uC.prototype.insertExtra=function(){var e=this.extra;return e&&e.length?new uC(fC(this.value,e),null,this.messages):this},uC.prototype.map=function(e){var t=this._result.map(function(t){return e(t.element)});return new uC(t.value,this.extra,t.messages)},uC.prototype.flatMap=function(e){var t=this._result.flatMap(function(t){return e(t.element)._result});return new uC(t.value.element,fC(this.extra,t.value.extra),t.messages)},uC.map=function(e,t,n){return new uC(n(e.value,t.value),fC(e.extra,t.extra),e.messages.concat(t.messages))};var mC={DocumentXmlReader:function(e){var t=e.bodyReader;return{convertXmlToDocument:function(n){var i=n.first("w:body");if(null==i)throw new Error("Could not find the body element: are you sure this is a docx file?");var r=t.readXmlElements(i.children).map(function(t){return new bC.Document(t,{notes:e.notes,comments:e.comments})});return new yC(r.value,r.messages)}}}},bC=pA,yC=xA.Result;var vC={};function xC(e){var t={};e.forEach(function(e){t[e.relationshipId]=e.target});var n={};return e.forEach(function(e){n[e.type]||(n[e.type]=[]),n[e.type].push(e.target)}),{findTargetByRelationshipId:function(e){return t[e]},findTargetsByType:function(e){return n[e]||[]}}}vC.readRelationships=function(e){var t=[];return e.children.forEach(function(e){if("relationships:Relationship"===e.name){var n={relationshipId:e.attributes.Id,target:e.attributes.Target,type:e.attributes.Type};t.push(n)}}),new xC(t)},vC.defaultValue=new xC([]),vC.Relationships=xC;var wC={readContentTypesFromXml:function(e){var t={},n={};return e.children.forEach(function(e){if("content-types:Default"===e.name&&(t[e.attributes.Extension]=e.attributes.ContentType),"content-types:Override"===e.name){var i=e.attributes.PartName;"/"===i.charAt(0)&&(i=i.substring(1)),n[i]=e.attributes.ContentType}}),DC(n,t)}},_C={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};function DC(e,t){return{findContentType:function(n){var i=e[n];if(i)return i;var r=n.split("."),a=r[r.length-1];if(t.hasOwnProperty(a))return t[a];var s=_C[a.toLowerCase()];return s?"image/"+s:null}}}wC.defaultContentTypes=DC({},{});var AC={},TC=M_;function UC(e,t,n){var i=TC.flatten(TC.values(t).map(function(e){return TC.values(e.levels)})),r=TC.indexBy(i.filter(function(e){return null!=e.paragraphStyleId}),"paragraphStyleId");return{findLevel:function i(r,a){var s=e[r];if(s){var o=t[s.abstractNumId];return o?null==o.numStyleLink?t[s.abstractNumId].levels[a]:i(n.findNumberingStyleById(o.numStyleLink).numId,a):null}return null},findLevelByParagraphStyleId:function(e){return r[e]||null}}}AC.readNumberingXml=function(e,t){if(!t||!t.styles)throw new Error("styles is missing");var n=function(e){var t={};return e.getElementsByTagName("w:abstractNum").forEach(function(e){var n=e.attributes["w:abstractNumId"];t[n]=function(e){var t={},n=null;e.getElementsByTagName("w:lvl").forEach(function(e){var i=e.attributes["w:ilvl"],r="bullet"!==e.firstOrEmpty("w:numFmt").attributes["w:val"],a=e.firstOrEmpty("w:pStyle").attributes["w:val"];void 0===i?n={isOrdered:r,level:"0",paragraphStyleId:a}:t[i]={isOrdered:r,level:i,paragraphStyleId:a}}),null!==n&&void 0===t[n.level]&&(t[n.level]=n);var i=e.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:t,numStyleLink:i}}(e)}),t}(e);return new UC(function(e){var t={};return e.getElementsByTagName("w:num").forEach(function(e){var n=e.attributes["w:numId"],i=e.first("w:abstractNumId").attributes["w:val"];t[n]={abstractNumId:i}}),t}(e),n,t.styles)},AC.Numbering=UC,AC.defaultNumbering=new UC({},{});var EC={};function kC(e,t,n,i){return{findParagraphStyleById:function(t){return e[t]},findCharacterStyleById:function(e){return t[e]},findTableStyleById:function(e){return n[e]},findNumberingStyleById:function(e){return i[e]}}}function CC(e){return e.attributes["w:styleId"]}EC.readStylesXml=function(e){var t={},n={},i={},r={},a={paragraph:t,character:n,table:i,numbering:r};return e.getElementsByTagName("w:style").forEach(function(e){var t=function(e){var t=e.attributes["w:type"];if("numbering"===t)return function(e,t){var n=CC(t),i=t.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:e,numId:i,styleId:n}}(t,e);var n=CC(e),i=function(e){var t=e.first("w:name");return t?t.attributes["w:val"]:null}(e);return{type:t,styleId:n,name:i}}(e),n=a[t.type];n&&void 0===n[t.styleId]&&(n[t.styleId]=t)}),new kC(t,n,i,r)},EC.Styles=kC,EC.defaultStyles=new kC({},{}),kC.EMPTY=new kC({},{},{},{});var SC={},FC=pA,MC=xA.Result;function WC(e,t){function n(e){var t=e.attributes["w:type"];return"continuationSeparator"!==t&&"separator"!==t}function i(n){var i=n.attributes["w:id"];return t.readXmlElements(n.children).map(function(t){return FC.Note({noteType:e,noteId:i,body:t})})}return function(t){return MC.combine(t.getElementsByTagName("w:"+e).filter(n).map(i))}}SC.createFootnotesReader=WC.bind(hu,"footnote"),SC.createEndnotesReader=WC.bind(hu,"endnote");var IC={},PC=pA,RC=xA.Result;IC.createCommentsReader=function(e){function t(t){var n=t.attributes["w:id"];function i(e){return(t.attributes[e]||"").trim()||null}return e.readXmlElements(t.children).map(function(e){return PC.comment({commentId:n,body:e,authorName:i("w:author"),authorInitials:i("w:initials")})})}return function(e){return RC.combine(e.getElementsByTagName("w:comment").map(t))}};var BC={},NC=B_;BC.Files=function(){return{read:function(e){return NC.reject(new Error("could not open external image: '"+e+"'\ncannot open linked files from a web browser"))}}},R_.read=function(e,t,n){t=t||{};var i=new QC({externalFileAccess:(n=n||{}).externalFileAccess,relativeToFile:t.path});return OC.props({contentTypes:rS(e),partPaths:JC(e),docxFile:e,files:i}).also(function(t){return{styles:(n=e,i=t.partPaths.styles,tS({filename:i,readElement:YC.readStylesXml,defaultValue:YC.defaultStyles})(n))};var n,i}).also(function(t){return{numbering:(n=e,i=t.partPaths.numbering,r=t.styles,tS({filename:i,readElement:function(e){return XC.readNumberingXml(e,{styles:r})},defaultValue:XC.defaultNumbering})(n))};var n,i,r}).also(function(e){return{footnotes:nS(e.partPaths.footnotes,e,function(e,t){return t?KC.createFootnotesReader(e)(t):new jC([])}),endnotes:nS(e.partPaths.endnotes,e,function(e,t){return t?KC.createEndnotesReader(e)(t):new jC([])}),comments:nS(e.partPaths.comments,e,function(e,t){return t?ZC.createCommentsReader(e)(t):new jC([])})}}).also(function(e){return{notes:e.footnotes.flatMap(function(t){return e.endnotes.map(function(e){return new LC.Notes(t.concat(e))})})}}).then(function(e){return nS(e.partPaths.mainDocument,e,function(t,n){return e.notes.flatMap(function(i){return e.comments.flatMap(function(e){return new VC({bodyReader:t,notes:i,comments:e}).convertXmlToDocument(n)})})})})},R_._findPartPaths=JC;var OC=B_,LC=pA,jC=xA.Result,zC=TA,HC=BA.readXmlFromZipFile,qC=Sk.createBodyReader,VC=mC.DocumentXmlReader,$C=vC,GC=wC,XC=AC,YC=EC,KC=SC,ZC=IC,QC=BC.Files;function JC(e){return aS(e).then(function(t){var n=eS({docxFile:e,relationships:t,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!e.exists(n))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return tS({filename:iS(n),readElement:$C.readRelationships,defaultValue:$C.defaultValue})(e).then(function(t){function i(i){return eS({docxFile:e,relationships:t,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+i,basePath:zC.splitPath(n).dirname,fallbackPath:"word/"+i+".xml"})}return{mainDocument:n,comments:i("comments"),endnotes:i("endnotes"),footnotes:i("footnotes"),numbering:i("numbering"),styles:i("styles")}})})}function eS(e){var t=e.docxFile,n=e.relationships,i=e.relationshipType,r=e.basePath,a=e.fallbackPath,s=n.findTargetsByType(i).map(function(e){return t=zC.joinPath(r,e),n="/",t.substring(0,n.length)===n?t.substring(n.length):t;var t,n}).filter(function(e){return t.exists(e)});return 0===s.length?a:s[0]}function tS(e){return function(t){return HC(t,e.filename).then(function(t){return t?e.readElement(t):e.defaultValue})}}function nS(e,t,n){return tS({filename:iS(e),readElement:$C.readRelationships,defaultValue:$C.defaultValue})(t.docxFile).then(function(i){var r=new qC({relationships:i,contentTypes:t.contentTypes,docxFile:t.docxFile,numbering:t.numbering,styles:t.styles,files:t.files});return HC(t.docxFile,e).then(function(e){return n(r,e)})})}function iS(e){var t=zC.splitPath(e);return zC.joinPath(t.dirname,"_rels",t.basename+".rels")}var rS=tS({filename:"[Content_Types].xml",readElement:GC.readContentTypesFromXml,defaultValue:GC.defaultContentTypes});var aS=tS({filename:"_rels/.rels",readElement:$C.readRelationships,defaultValue:$C.defaultValue}),sS={},oS=M_,cS=B_,lS=NA;sS.writeStyleMap=function(e,t){return e.write(dS,t),function(e){var t="word/_rels/document.xml.rels",n="http://schemas.openxmlformats.org/package/2006/relationships",i="{"+n+"}Relationship";return e.read(t,"utf8").then(lS.readString).then(function(r){pS(r.children,i,"Id",{Id:"rMammothStyleMap",Type:hS,Target:uS});var a={"":n};return e.write(t,lS.writeString(r,a))})}(e).then(function(){return function(e){var t="[Content_Types].xml",n="http://schemas.openxmlformats.org/package/2006/content-types",i="{"+n+"}Override";return e.read(t,"utf8").then(lS.readString).then(function(r){pS(r.children,i,"PartName",{PartName:uS,ContentType:"text/prs.mammoth.style-map"});var a={"":n};return e.write(t,lS.writeString(r,a))})}(e)})},sS.readStyleMap=function(e){return e.exists(dS)?e.read(dS,"utf8"):cS.resolve(null)};var hS="http://schemas.zwobble.org/mammoth/style-map",dS="mammoth/style-map",uS="/"+dS;function pS(e,t,n,i){var r=oS.find(e,function(e){return e.name===t&&e.attributes[n]===i[n]});r?r.attributes=i:e.push(lS.element(t,i))}var fS,gS,mS,bS,yS,vS={},xS={},wS={},_S={};function DS(){if(fS)return _S;fS=1;var e=US();function t(e,t){return{type:"element",tag:e,children:t||[]}}_S.freshElement=function(n,i,r){return t(e.element(n,i,{fresh:!0}),r)},_S.nonFreshElement=function(n,i,r){return t(e.element(n,i,{fresh:!1}),r)},_S.elementWithTag=t,_S.text=function(e){return{type:"text",value:e}},_S.forceWrite={type:"forceWrite"};var n={br:!0,hr:!0,img:!0,input:!0};return _S.isVoidElement=function(e){return 0===e.children.length&&n[e.tag.tagName]},_S}function AS(){if(mS)return gS;mS=1;var e=M_,t=DS();function n(e){var t=[];return e.map(i).forEach(function(e){s(t,e)}),t}function i(e){return r[e.type](e)}var r={element:function(e){return t.elementWithTag(e.tag,n(e.children))},text:a,forceWrite:a};function a(e){return e}function s(e,n){var i=e[e.length-1];"element"===n.type&&!n.tag.fresh&&i&&"element"===i.type&&n.tag.matchesElement(i.tag)?(n.tag.separator&&s(i.children,t.text(n.tag.separator)),n.children.forEach(function(e){s(i.children,e)})):e.push(n)}function o(t){return n=t,i=function(e){return c[e.type](e)},e.flatten(e.map(n,i),!0);var n,i}var c={element:function(e){var n=o(e.children);return 0!==n.length||t.isVoidElement(e)?[t.elementWithTag(e.tag,n)]:[]},text:function(e){return 0===e.value.length?[]:[e]},forceWrite:function(e){return[e]}};return gS=function(e){return n(o(e))}}function TS(){if(bS)return wS;bS=1;var e=DS();function t(e,t){t.forEach(function(t){!function(e,t){n[t.type](e,t)}(e,t)})}wS.freshElement=e.freshElement,wS.nonFreshElement=e.nonFreshElement,wS.elementWithTag=e.elementWithTag,wS.text=e.text,wS.forceWrite=e.forceWrite,wS.simplify=AS();var n={element:function(n,i){e.isVoidElement(i)?n.selfClosing(i.tag.tagName,i.tag.attributes):(n.open(i.tag.tagName,i.tag.attributes),t(n,i.children),n.close(i.tag.tagName))},text:function(e,t){e.text(t.value)},forceWrite:function(){}};return wS.write=t,wS}function US(){if(yS)return xS;yS=1;var e=M_,t=TS();function n(t){return new i(t.map(function(t){return e.isString(t)?r(t):t}))}function i(e){this._elements=e}function r(e,t,n){return new a(e,t,n=n||{})}function a(t,n,i){var r={};e.isArray(t)?(t.forEach(function(e){r[e]=!0}),t=t[0]):r[t]=!0,this.tagName=t,this.tagNames=r,this.attributes=n||{},this.fresh=i.fresh,this.separator=i.separator}return xS.topLevelElement=function(e,t){return n([r(e,t,{fresh:!0})])},xS.elements=n,xS.element=r,i.prototype.wrap=function(e){for(var t=e(),n=this._elements.length-1;n>=0;n--)t=this._elements[n].wrapNodes(t);return t},a.prototype.matchesElement=function(t){return this.tagNames[t.tagName]&&e.isEqual(this.attributes||{},t.attributes||{})},a.prototype.wrap=function(e){return this.wrapNodes(e())},a.prototype.wrapNodes=function(e){return[t.elementWithTag(this,e)]},xS.empty=n([]),xS.ignore={wrap:function(){return[]}},xS}var ES={};!function(e){var t=M_,n=B_,i=TS();function r(e){return function(r,a){return n.when(e(r)).then(function(e){var n={};return r.altText&&(n.alt=r.altText),t.extend(n,e),[i.freshElement("img",n)]})}}e.imgElement=r,e.inline=e.imgElement,e.dataUri=r(function(e){return e.readAsBase64String().then(function(t){return{src:"data:"+e.contentType+";base64,"+t}})})}(ES);var kS={},CS={},SS=M_;CS.writer=function(e){return(e=e||{}).prettyPrint?function(){var e=0,t="  ",n=[],i=!0,r=!1,a=MS();function s(t,r){FS[t]&&u(),n.push(t),a.open(t,r),FS[t]&&e++,i=!1}function o(t){FS[t]&&(e--,u()),n.pop(),a.close(t)}function c(e){d();var n=p()?e:e.replace("\n","\n"+t);a.text(n)}function l(e,t){u(),a.selfClosing(e,t)}function h(){return 0===n.length||FS[n[n.length-1]]}function d(){r||(u(),r=!0)}function u(){if(r=!1,!i&&h()&&!p()){a._append("\n");for(var n=0;n<e;n++)a._append(t)}}function p(){return SS.some(n,function(e){return"pre"===e})}return{asString:a.asString,open:s,close:o,text:c,selfClosing:l}}():MS()};var FS={div:!0,p:!0,ul:!0,li:!0};function MS(){var e=[];function t(e){return SS.map(e,function(e,t){return" "+t+'="'+function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(e)+'"'}).join("")}return{asString:function(){return e.join("")},open:function(n,i){var r=t(i);e.push("<"+n+r+">")},close:function(t){e.push("</"+t+">")},text:function(t){e.push(function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}(t))},selfClosing:function(n,i){var r=t(i);e.push("<"+n+r+" />")},_append:function(t){e.push(t)}}}var WS={},IS=M_;function PS(e){return RS(e,e)}function RS(e,t){return function(){return{start:e,end:t}}}function BS(e){return function(t,n){return{start:n?"\n":"",end:n?"":"\n",list:{isOrdered:e.isOrdered,indent:n?n.indent+1:0,count:0}}}}var NS={p:RS("","\n\n"),br:RS("","  \n"),ul:BS({isOrdered:!1}),ol:BS({isOrdered:!0}),li:function(e,t,n){(t=t||{indent:0,isOrdered:!1,count:0}).count++,n.hasClosed=!1;var i=t.isOrdered?t.count+".":"-";return{start:OS("\t",t.indent)+i+" ",end:function(){if(!n.hasClosed)return n.hasClosed=!0,"\n"}}},strong:PS("__"),em:PS("*"),a:function(e){var t=e.href||"";return t?{start:"[",end:"]("+t+")",anchorPosition:"before"}:{}},img:function(e){var t=e.src||"",n=e.alt||"";return t||n?{start:"!["+n+"]("+t+")"}:{}}};function OS(e,t){return new Array(t+1).join(e)}!function(){for(var e=1;e<=6;e++)NS["h"+e]=RS(OS("#",e)+" ","\n\n")}(),WS.writer=function(){var e=[],t=[],n=null,i={};function r(r,s){s=s||{};var o=(NS[r]||function(){return{}})(s,n,i);t.push({end:o.end,list:n}),o.list&&(n=o.list);var c="before"===o.anchorPosition;c&&a(s),e.push(o.start||""),c||a(s)}function a(t){t.id&&e.push('<a id="'+t.id+'"></a>')}function s(i){var r=t.pop();n=r.list;var a=IS.isFunction(r.end)?r.end():r.end;e.push(a||"")}return{asString:function(){return e.join("")},open:r,close:s,text:function(t){e.push(function(e){return e.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}(t))},selfClosing:function(e,t){r(e,t),s()}}};var LS=CS,jS=WS;kS.writer=function(e){return"markdown"===(e=e||{}).outputFormat?jS.writer():LS.writer(e)};var zS=M_,HS=B_,qS=pA,VS=US(),$S=xA,GS=ES,XS=TS(),YS=kS;function KS(e,t){var n=1,i=[],r=[],a=void 0===(e=zS.extend({ignoreEmptyParagraphs:!0},e)).idPrefix?"":e.idPrefix,s=e.ignoreEmptyParagraphs,o=VS.topLevelElement("p"),c=e.styleMap||[];function l(e,t,n){return JS(e,function(e){return h(e,t,n)})}function h(e,t,n){if(!n)throw new Error("options not set");var i=D[e.type];return i?i(e,t,n):[]}function d(e,t){var n=u({type:e});return n||(t?VS.element(t,{},{fresh:!1}):VS.empty)}function u(e,t){var n=p(e);return n?n.to:t}function p(e){for(var t=0;t<c.length;t++)if(c[t].from.matches(e))return c[t]}function f(e){return m(e.noteType,e.noteId)}function g(e){return b(e.noteType,e.noteId)}function m(e,t){return y(e+"-"+t)}function b(e,t){return y(e+"-ref-"+t)}function y(e){return a+e}var v=VS.elements([VS.element("table",{},{fresh:!0})]);function x(e,t,n){var i=e.label,r=e.comment,a=l(r.body,t,n).concat([XS.nonFreshElement("p",{},[XS.text(" "),XS.freshElement("a",{href:"#"+b("comment",r.commentId)},[XS.text("")])])]);return[XS.freshElement("dt",{id:m("comment",r.commentId)},[XS.text("Comment "+i)]),XS.freshElement("dd",{},a)]}var w,_,D={document:function(e,t,n){var a=l(e.children,t,n),s=l(i.map(function(t){return e.notes.resolve(t)}),t,n);return a.concat([XS.freshElement("ol",{},s),XS.freshElement("dl",{},JS(r,function(e){return x(e,t,n)}))])},paragraph:function(e,t,n){return function(e,t){var n=p(e);return n?n.to:(e.styleId&&t.push(QS("paragraph",e)),o)}(e,t).wrap(function(){var i=l(e.children,t,n);return s?i:[XS.forceWrite].concat(i)})},run:function(e,t,n){var i=function(){return l(e.children,t,n)},r=[];if(null!==e.highlight){var a=u({type:"highlight",color:e.highlight});a&&r.push(a)}e.isSmallCaps&&r.push(d("smallCaps")),e.isAllCaps&&r.push(d("allCaps")),e.isStrikethrough&&r.push(d("strikethrough","s")),e.isUnderline&&r.push(d("underline")),e.verticalAlignment===qS.verticalAlignment.subscript&&r.push(VS.element("sub",{},{fresh:!1})),e.verticalAlignment===qS.verticalAlignment.superscript&&r.push(VS.element("sup",{},{fresh:!1})),e.isItalic&&r.push(d("italic","em")),e.isBold&&r.push(d("bold","strong"));var s=VS.empty,o=p(e);return o?s=o.to:e.styleId&&t.push(QS("run",e)),r.push(s),r.forEach(function(e){i=e.wrap.bind(e,i)}),i()},text:function(e,t,n){return[XS.text(e.value)]},tab:function(e,t,n){return[XS.text("\t")]},hyperlink:function(e,t,n){var i={href:e.anchor?"#"+y(e.anchor):e.href};null!=e.targetFrame&&(i.target=e.targetFrame);var r=l(e.children,t,n);return[XS.nonFreshElement("a",i,r)]},checkbox:function(e){var t={type:"checkbox"};return e.checked&&(t.checked="checked"),[XS.freshElement("input",t)]},bookmarkStart:function(e,t,n){return[XS.freshElement("a",{id:y(e.name)},[XS.forceWrite])]},noteReference:function(e,t,r){i.push(e);var a=XS.freshElement("a",{href:"#"+f(e),id:g(e)},[XS.text("["+n+++"]")]);return[XS.freshElement("sup",{},[a])]},note:function(e,t,n){var i=l(e.body,t,n),r=XS.elementWithTag(VS.element("p",{},{fresh:!1}),[XS.text(" "),XS.freshElement("a",{href:"#"+g(e)},[XS.text("")])]),a=i.concat([r]);return XS.freshElement("li",{id:f(e)},a)},commentReference:function(e,n,i){return u(e,VS.ignore).wrap(function(){var n=t[e.commentId],i=r.length+1,a="["+tF(n)+i+"]";return r.push({label:a,comment:n}),[XS.freshElement("a",{href:"#"+m("comment",e.commentId),id:b("comment",e.commentId)},[XS.text(a)])]})},comment:x,image:(_=e.convertImage||GS.dataUri,w=function(e,t){return HS.attempt(function(){return _(e,t)}).caught(function(e){return t.push($S.error(e)),[]})},function(e,t,n){return[{type:"deferred",id:ZS++,value:function(){return w(e,t,n)}}]}),table:function(e,t,n){return u(e,v).wrap(function(){return function(e,t,n){var i,r=zS.findIndex(e.children,function(e){return!e.type===qS.types.tableRow||!e.isHeader});-1===r&&(r=e.children.length);if(0===r)i=l(e.children,t,zS.extend({},n,{isTableHeader:!1}));else{var a=l(e.children.slice(0,r),t,zS.extend({},n,{isTableHeader:!0})),s=l(e.children.slice(r),t,zS.extend({},n,{isTableHeader:!1}));i=[XS.freshElement("thead",{},a),XS.freshElement("tbody",{},s)]}return[XS.forceWrite].concat(i)}(e,t,n)})},tableRow:function(e,t,n){var i=l(e.children,t,n);return[XS.freshElement("tr",{},[XS.forceWrite].concat(i))]},tableCell:function(e,t,n){var i=n.isTableHeader?"th":"td",r=l(e.children,t,n),a={};return 1!==e.colSpan&&(a.colspan=e.colSpan.toString()),1!==e.rowSpan&&(a.rowspan=e.rowSpan.toString()),[XS.freshElement(i,a,[XS.forceWrite].concat(r))]},break:function(e,t,n){return function(e){var t=p(e);return t?t.to:"line"===e.breakType?VS.topLevelElement("br"):VS.empty}(e).wrap(function(){return[]})}};return{convertToHtml:function(t){var n=[],i=h(t,n,{}),r=[];eF(i,function(e){"deferred"===e.type&&r.push(e)});var a={};return HS.mapSeries(r,function(e){return e.value().then(function(t){a[e.id]=t})}).then(function(){var t=YS.writer({prettyPrint:e.prettyPrint,outputFormat:e.outputFormat});return XS.write(t,XS.simplify(function e(t){return JS(t,function(t){return"deferred"===t.type?a[t.id]:t.children?[zS.extend({},t,{children:e(t.children)})]:[t]})}(i))),new $S.Result(t.asString(),n)})}}}vS.DocumentConverter=function(e){return{convertToHtml:function(t){var n=zS.indexBy(t.type===qS.types.document?t.comments:[],"commentId");return new KS(e,n).convertToHtml(t)}}};var ZS=1;function QS(e,t){return $S.warning("Unrecognised "+e+" style: '"+t.styleName+"' (Style ID: "+t.styleId+")")}function JS(e,t){return zS.flatten(e.map(t),!0)}function eF(e,t){e.forEach(function(e){t(e),e.children&&eF(e.children,t)})}var tF=vS.commentAuthorLabel=function(e){return e.authorInitials||""},nF={},iF=pA;nF.convertElementToRawText=function e(t){if("text"===t.type)return t.value;if(t.type===iF.types.tab)return"\t";var n="paragraph"===t.type?"\n\n":"";return(t.children||[]).map(e).join("")+n};var rF={},aF={},sF={},oF={exports:{}},cF=oF.exports=function(e,t){this._tokens=e,this._startIndex=t||0};cF.prototype.head=function(){return this._tokens[this._startIndex]},cF.prototype.tail=function(e){return new cF(this._tokens,this._startIndex+1)},cF.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},cF.prototype.end=function(){return this._tokens[this._tokens.length-1]},cF.prototype.to=function(e){var t=this.head().source,n=e.head()||e.end();return t.to(n.source)};var lF=oF.exports;sF.Parser=function(e){return{parseTokens:function(e,t){return e(new lF(t))}}};var hF={},dF={};!function(e){function t(e){return"function"==typeof e?e():e}e.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return e.none},flatMap:function(){return e.none},filter:function(){return e.none},toArray:function(){return[]},orElse:t,valueOrElse:t}),e.some=function(e){return new n(e)};var n=function(e){this._value=e};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(e){return new n(e(this._value))},n.prototype.flatMap=function(e){return e(this._value)},n.prototype.filter=function(t){return t(this._value)?this:e.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(e){return this},n.prototype.valueOrElse=function(e){return this._value},e.isOption=function(t){return t===e.none||t instanceof n},e.fromNullable=function(t){return null==t?e.none:new n(t)}}(dF);var uF={failure:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new pF({status:"failure",remaining:t,errors:e})},error:function(e,t){if(e.length<1)throw new Error("Failure must have errors");return new pF({status:"error",remaining:t,errors:e})},success:function(e,t,n){return new pF({status:"success",value:e,source:n,remaining:t,errors:[]})},cut:function(e){return new pF({status:"cut",remaining:e,errors:[]})}},pF=function(e){this._value=e.value,this._status=e.status,this._hasValue=void 0!==e.value,this._remaining=e.remaining,this._source=e.source,this._errors=e.errors};pF.prototype.map=function(e){return this._hasValue?new pF({value:e(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},pF.prototype.changeRemaining=function(e){return new pF({value:this._value,status:this._status,remaining:e,source:this._source,errors:this._errors})},pF.prototype.isSuccess=function(){return"success"===this._status||"cut"===this._status},pF.prototype.isFailure=function(){return"failure"===this._status},pF.prototype.isError=function(){return"error"===this._status},pF.prototype.isCut=function(){return"cut"===this._status},pF.prototype.value=function(){return this._value},pF.prototype.remaining=function(){return this._remaining},pF.prototype.source=function(){return this._source},pF.prototype.errors=function(){return this._errors};var fF={error:function(e){return new gF(e)}},gF=function(e){this.expected=e.expected,this.actual=e.actual,this._location=e.location};gF.prototype.describe=function(){return(this._location?this._location.describe()+":\n":"")+"Expected "+this.expected+"\nbut got "+this.actual},gF.prototype.lineNumber=function(){return this._location.lineNumber()},gF.prototype.characterNumber=function(){return this._location.characterNumber()};var mF={fromArray:function(e){var t=0,n=function(){return t<e.length};return new bF({hasNext:n,next:function(){if(n())return e[t++];throw new Error("No more elements")}})}},bF=function(e){this._iterator=e};bF.prototype.map=function(e){var t=this._iterator;return new bF({hasNext:function(){return t.hasNext()},next:function(){return e(t.next())}})},bF.prototype.filter=function(e){var t,n=this._iterator,i=!1,r=!1,a=function(){if(!i)for(i=!0,r=!1;n.hasNext()&&!r;)t=n.next(),r=e(t)};return new bF({hasNext:function(){return a(),r},next:function(){return a(),i=!1,t}})},bF.prototype.first=function(){var e=this._iterator;return this._iterator.hasNext()?e.next():null},bF.prototype.toArray=function(){for(var e=[];this._iterator.hasNext();)e.push(this._iterator.next());return e},function(e){var t=M_,n=dF,i=uF,r=fF,a=mF;e.token=function(e,t){var n=void 0!==t;return function(r){var a=r.head();return!a||a.name!==e||n&&a.value!==t?d(r,h({name:e,value:t})):i.success(a.value,r.tail(),a.source)}},e.tokenOfType=function(t){return e.token(t)},e.firstOf=function(e,n){return t.isArray(n)||(n=Array.prototype.slice.call(arguments,1)),function(t){return a.fromArray(n).map(function(e){return e(t)}).filter(function(e){return e.isSuccess()||e.isError()}).first()||d(t,e)}},e.then=function(e,t){return function(n){var i=e(n);return i.map||console.log(i),i.map(t)}},e.sequence=function(){var n=Array.prototype.slice.call(arguments,0),r=function(r){var a=t.foldl(n,function(e,t){var n=e.result,a=e.hasCut;if(!n.isSuccess())return{result:n,hasCut:a};var s=t(n.remaining());if(s.isCut())return{result:n,hasCut:!0};if(s.isSuccess()){var o;o=t.isCaptured?n.value().withValue(t,s.value()):n.value();var c=s.remaining(),l=r.to(c);return{result:i.success(o,c,l),hasCut:a}}return a?{result:i.error(s.errors(),s.remaining()),hasCut:a}:{result:s,hasCut:a}},{result:i.success(new s,r),hasCut:!1}).result,o=r.to(a.remaining());return a.map(function(t){return t.withValue(e.sequence.source,o)})};function a(e){return e.isCaptured}return r.head=function(){var i=t.find(n,a);return e.then(r,e.sequence.extract(i))},r.map=function(t){return e.then(r,function(e){return t.apply(this,e.toArray())})},r};var s=function(e,t){this._values=e||{},this._valuesArray=t||[]};s.prototype.withValue=function(e,n){if(e.captureName&&e.captureName in this._values)throw new Error('Cannot add second value for capture "'+e.captureName+'"');var i=t.clone(this._values);i[e.captureName]=n;var r=this._valuesArray.concat([n]);return new s(i,r)},s.prototype.get=function(e){if(e.captureName in this._values)return this._values[e.captureName];throw new Error('No value for capture "'+e.captureName+'"')},s.prototype.toArray=function(){return this._valuesArray},e.sequence.capture=function(e,t){var n=function(){return e.apply(this,arguments)};return n.captureName=t,n.isCaptured=!0,n},e.sequence.extract=function(e){return function(t){return t.get(e)}},e.sequence.applyValues=function(e){var t=Array.prototype.slice.call(arguments,1);return function(n){var i=t.map(function(e){return n.get(e)});return e.apply(this,i)}},e.sequence.source={captureName:"source"},e.sequence.cut=function(){return function(e){return i.cut(e)}},e.optional=function(e){return function(t){var r=e(t);return r.isSuccess()?r.map(n.some):r.isFailure()?i.success(n.none,t):r}},e.zeroOrMoreWithSeparator=function(e,t){return l(e,t,!1)},e.oneOrMoreWithSeparator=function(e,t){return l(e,t,!0)};var o=e.zeroOrMore=function(e){return function(t){for(var n,r=[];(n=e(t))&&n.isSuccess();)t=n.remaining(),r.push(n.value());return n.isError()?n:i.success(r,t)}};function c(e){return i.success(null,e)}e.oneOrMore=function(t){return e.oneOrMoreWithSeparator(t,c)};var l=function(t,n,r){return function(a){var s=t(a);if(s.isSuccess()){var c=e.sequence.capture(t,"main"),l=o(e.then(e.sequence(n,c),e.sequence.extract(c)))(s.remaining());return i.success([s.value()].concat(l.value()),l.remaining())}return r||s.isError()?s:i.success([],a)}};e.leftAssociative=function(t,n,r){var a;a=(a=r?[{func:r,rule:n}]:n).map(function(t){return e.then(t.rule,function(e){return function(n,i){return t.func(n,e,i)}})});var s=e.firstOf.apply(null,["rules"].concat(a));return function(e){var n=e,r=t(e);if(!r.isSuccess())return r;for(var a=s(r.remaining());a.isSuccess();){var o=a.remaining(),c=n.to(a.remaining()),l=a.value();r=i.success(l(r.value(),c),o,c),a=s(r.remaining())}return a.isError()?a:r}},e.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},e.nonConsuming=function(e){return function(t){return e(t).changeRemaining(t)}};var h=function(e){return e.value?e.name+' "'+e.value+'"':e.name};function d(e,t){var n,a=e.head();return n=a?r.error({expected:t,actual:h(a),location:a.source}):r.error({expected:t,actual:"end of tokens"}),i.failure([n],e)}}(hF);var yF={exports:{}};yF.exports=function(e,t){return{asString:function(){return e},range:function(n,i){return new vF(e,t,n,i)}}};var vF=function(e,t,n,i){this._string=e,this._description=t,this._startIndex=n,this._endIndex=i};vF.prototype.to=function(e){return new vF(this._string,this._description,this._startIndex,e._endIndex)},vF.prototype.describe=function(){var e=this._position();return(this._description?this._description+"\n":"")+"Line number: "+e.lineNumber+"\nCharacter number: "+e.characterNumber},vF.prototype.lineNumber=function(){return this._position().lineNumber},vF.prototype.characterNumber=function(){return this._position().characterNumber},vF.prototype._position=function(){for(var e=this,t=0,n=function(){return e._string.indexOf("\n",t)},i=1;-1!==n()&&n()<this._startIndex;)t=n()+1,i+=1;return{lineNumber:i,characterNumber:this._startIndex-t+1}};var xF=yF.exports,wF=function(e,t,n){this.name=e,this.value=t,n&&(this.source=n)},_F={};!function(e){var t=hF,n=uF;function i(e){function r(){return e.map(function(e){return e.name})}function a(n){return t.firstOf("infix",e.map(function(e){return e.rule}))(n)}return{apply:function(e){for(var t,i;;){if(!(t=a(e.remaining())).isSuccess())return t.isFailure()?e:t;i=e.source().to(t.source()),e=n.success(t.value()(e.value(),i),t.remaining(),i)}},untilExclusive:function(t){return new i(e.slice(0,r().indexOf(t)))},untilInclusive:function(t){return new i(e.slice(0,r().indexOf(t)+1))}}}e.parser=function(e,n,a){var s={rule:function(){return l(o)},leftAssociative:function(e){return l(o.untilExclusive(e))},rightAssociative:function(e){return l(o.untilInclusive(e))}},o=new i(a.map(function(e){return{name:e.name,rule:r(e.ruleBuilder.bind(null,s))}})),c=t.firstOf(e,n);function l(e){return h.bind(null,e)}function h(e,t){var n=c(t);return n.isSuccess()?e.apply(n):n}return s},e.infix=function(t,n){return{name:t,ruleBuilder:n,map:function(i){return e.infix(t,function(e){var t=n(e);return function(e){return t(e).map(function(e){return function(t,n){return i(t,e,n)}})}})}}};var r=function(e){var t;return function(n){return t||(t=e()),t(n)}}}(_F);var DF={},AF=wF,TF=xF;DF.RegexTokeniser=function(e){function t(t,n,i){for(var r=0;r<e.length;r++){var a=e[r].regex;a.lastIndex=n;var s=a.exec(t);if(s){var o=n+s[0].length;if(s.index===n&&o>n){var c=s[1];return{token:new AF(e[r].name,c,i.range(n,o)),endIndex:o}}}}o=n+1;return{token:new AF("unrecognisedCharacter",t.substring(n,o),i.range(n,o)),endIndex:o}}function n(e,t){return new AF("end",null,t.range(e.length,e.length))}return e=e.map(function(e){return{name:e.name,regex:new RegExp(e.regex.source,"g")}}),{tokenise:function(e,i){var r=new TF(e,i),a=0,s=[];for(;a<e.length;){var o=t(e,a,r);a=o.endIndex,s.push(o.token)}return s.push(n(e,r)),s}}},aF.Parser=sF.Parser,aF.rules=hF,aF.errors=fF,aF.results=uF,aF.StringSource=xF,aF.Token=wF,aF.bottomUp=_F,aF.RegexTokeniser=DF.RegexTokeniser,aF.rule=function(e){var t;return function(n){return t||(t=e()),t(n)}};var UF={};function EF(e,t){t=t||{},this._elementType=e,this._styleId=t.styleId,this._styleName=t.styleName,t.list&&(this._listIndex=t.list.levelIndex,this._listIsOrdered=t.list.isOrdered)}function kF(e){e=e||{},this._color=e.color}function CF(e){e=e||{},this._breakType=e.breakType}function SF(e,t){return e.toUpperCase()===t.toUpperCase()}function FF(e,t){return 0===t.toUpperCase().indexOf(e.toUpperCase())}UF.paragraph=function(e){return new EF("paragraph",e)},UF.run=function(e){return new EF("run",e)},UF.table=function(e){return new EF("table",e)},UF.bold=new EF("bold"),UF.italic=new EF("italic"),UF.underline=new EF("underline"),UF.strikethrough=new EF("strikethrough"),UF.allCaps=new EF("allCaps"),UF.smallCaps=new EF("smallCaps"),UF.highlight=function(e){return new kF(e)},UF.commentReference=new EF("commentReference"),UF.lineBreak=new CF({breakType:"line"}),UF.pageBreak=new CF({breakType:"page"}),UF.columnBreak=new CF({breakType:"column"}),UF.equalTo=function(e){return{operator:SF,operand:e}},UF.startsWith=function(e){return{operator:FF,operand:e}},EF.prototype.matches=function(e){return e.type===this._elementType&&(void 0===this._styleId||e.styleId===this._styleId)&&(void 0===this._styleName||e.styleName&&this._styleName.operator(this._styleName.operand,e.styleName))&&(void 0===this._listIndex||function(e,t,n){return e.numbering&&e.numbering.level==t&&e.numbering.isOrdered==n}(e,this._listIndex,this._listIsOrdered))&&(void 0===this._breakType||this._breakType===e.breakType)},kF.prototype.matches=function(e){return"highlight"===e.type&&(void 0===this._color||e.color===this._color)},CF.prototype.matches=function(e){return"break"===e.type&&(void 0===this._breakType||e.breakType===this._breakType)};var MF={},WF=aF.RegexTokeniser;MF.tokenise=function(e){var t="(?:[a-zA-Z\\-_]|\\\\.)";return new WF([{name:"identifier",regex:new RegExp("("+t+"(?:"+t+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(IF+"'")},{name:"unterminated-string",regex:new RegExp(IF)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]).tokenise(e)};var IF="'((?:\\\\.|[^'])*)";var PF=M_,RF=aF,BF=UF,NF=US(),OF=MF.tokenise,LF=xA;function jF(){var e=RF.rules.sequence,t=function(e,t){return RF.rules.then(RF.rules.token("identifier",e),function(){return t})},n=t("p",BF.paragraph),i=t("r",BF.run),r=RF.rules.firstOf("p or r or table",n,i),a=RF.rules.sequence(RF.rules.tokenOfType("dot"),RF.rules.sequence.cut(),RF.rules.sequence.capture(HF)).map(function(e){return{styleId:e}}),s=RF.rules.firstOf("style name matcher",RF.rules.then(RF.rules.sequence(RF.rules.tokenOfType("equals"),RF.rules.sequence.cut(),RF.rules.sequence.capture(VF)).head(),function(e){return{styleName:BF.equalTo(e)}}),RF.rules.then(RF.rules.sequence(RF.rules.tokenOfType("startsWith"),RF.rules.sequence.cut(),RF.rules.sequence.capture(VF)).head(),function(e){return{styleName:BF.startsWith(e)}})),o=RF.rules.sequence(RF.rules.tokenOfType("open-square-bracket"),RF.rules.sequence.cut(),RF.rules.token("identifier","style-name"),RF.rules.sequence.capture(s),RF.rules.tokenOfType("close-square-bracket")).head(),c=RF.rules.firstOf("list type",t("ordered-list",{isOrdered:!0}),t("unordered-list",{isOrdered:!1})),l=e(RF.rules.tokenOfType("colon"),e.capture(c),e.cut(),RF.rules.tokenOfType("open-paren"),e.capture(qF),RF.rules.tokenOfType("close-paren")).map(function(e,t){return{list:{isOrdered:e.isOrdered,levelIndex:t-1}}});function h(e){var t=RF.rules.firstOf.apply(RF.rules.firstOf,["matcher suffix"].concat(e)),n=RF.rules.zeroOrMore(t);return RF.rules.then(n,function(e){var t={};return e.forEach(function(e){PF.extend(t,e)}),t})}var d=e(e.capture(r),e.capture(h([a,o,l]))).map(function(e,t){return e(t)}),u=e(RF.rules.token("identifier","table"),e.capture(h([a,o]))).map(function(e){return BF.table(e)}),p=t("b",BF.bold),f=t("i",BF.italic),g=t("u",BF.underline),m=t("strike",BF.strikethrough),b=t("all-caps",BF.allCaps),y=t("small-caps",BF.smallCaps),v=e(RF.rules.token("identifier","highlight"),RF.rules.sequence.capture(RF.rules.optional(RF.rules.sequence(RF.rules.tokenOfType("open-square-bracket"),RF.rules.sequence.cut(),RF.rules.token("identifier","color"),RF.rules.tokenOfType("equals"),RF.rules.sequence.capture(VF),RF.rules.tokenOfType("close-square-bracket")).head()))).map(function(e){return BF.highlight({color:e.valueOrElse(void 0)})}),x=t("comment-reference",BF.commentReference),w=e(RF.rules.token("identifier","br"),e.cut(),RF.rules.tokenOfType("open-square-bracket"),RF.rules.token("identifier","type"),RF.rules.tokenOfType("equals"),e.capture(VF),RF.rules.tokenOfType("close-square-bracket")).map(function(e){switch(e){case"line":return BF.lineBreak;case"page":return BF.pageBreak;case"column":return BF.columnBreak}});return RF.rules.firstOf("element type",d,u,p,f,g,m,b,y,v,x,w)}function zF(){var e=RF.rules.sequence.capture,t=RF.rules.tokenOfType("whitespace"),n=RF.rules.then(RF.rules.optional(RF.rules.sequence(RF.rules.tokenOfType("colon"),RF.rules.token("identifier","fresh"))),function(e){return e.map(function(){return!0}).valueOrElse(!1)}),i=RF.rules.then(RF.rules.optional(RF.rules.sequence(RF.rules.tokenOfType("colon"),RF.rules.token("identifier","separator"),RF.rules.tokenOfType("open-paren"),e(VF),RF.rules.tokenOfType("close-paren")).head()),function(e){return e.valueOrElse("")}),r=RF.rules.oneOrMoreWithSeparator(HF,RF.rules.tokenOfType("choice")),a=RF.rules.sequence(e(r),e(RF.rules.zeroOrMore(KF)),e(n),e(i)).map(function(e,t,n,i){var r={},a={};return t.forEach(function(e){e.append&&r[e.name]?r[e.name]+=" "+e.value:r[e.name]=e.value}),n&&(a.fresh=!0),i&&(a.separator=i),NF.element(e,r,a)});return RF.rules.firstOf("html path",RF.rules.then(RF.rules.tokenOfType("bang"),function(){return NF.ignore}),RF.rules.then(RF.rules.zeroOrMoreWithSeparator(a,RF.rules.sequence(t,RF.rules.tokenOfType("gt"),t)),NF.elements))}rF.readHtmlPath=function(e){return ZF(zF(),e)},rF.readDocumentMatcher=function(e){return ZF(jF(),e)},rF.readStyle=function(e){return ZF(eM,e)};var HF=RF.rules.then(RF.rules.tokenOfType("identifier"),GF),qF=RF.rules.tokenOfType("integer"),VF=RF.rules.then(RF.rules.tokenOfType("string"),GF),$F={n:"\n",r:"\r",t:"\t"};function GF(e){return e.replace(/\\(.)/g,function(e,t){return $F[t]||t})}var XF=RF.rules.sequence(RF.rules.tokenOfType("open-square-bracket"),RF.rules.sequence.cut(),RF.rules.sequence.capture(HF),RF.rules.tokenOfType("equals"),RF.rules.sequence.capture(VF),RF.rules.tokenOfType("close-square-bracket")).map(function(e,t){return{name:e,value:t,append:!1}}),YF=RF.rules.sequence(RF.rules.tokenOfType("dot"),RF.rules.sequence.cut(),RF.rules.sequence.capture(HF)).map(function(e){return{name:"class",value:e,append:!0}}),KF=RF.rules.firstOf("attribute or class",XF,YF);function ZF(e,t){var n=OF(t),i=RF.Parser().parseTokens(e,n);return i.isSuccess()?LF.success(i.value()):new LF.Result(null,[LF.warning(QF(t,i))])}function QF(e,t){return"Did not understand this style mapping, so ignored it: "+e+"\n"+t.errors().map(JF).join("\n")}function JF(e){return"Error was at character number "+e.characterNumber()+": Expected "+e.expected+" but got "+e.actual}var eM=RF.rules.sequence(RF.rules.sequence.capture(jF()),RF.rules.tokenOfType("whitespace"),RF.rules.tokenOfType("arrow"),RF.rules.sequence.capture(RF.rules.optional(RF.rules.sequence(RF.rules.tokenOfType("whitespace"),RF.rules.sequence.capture(zF())).head())),RF.rules.tokenOfType("end")).map(function(e,t){return{from:e,to:t.valueOrElse(NF.empty)}}),tM={readOptions:function(e){return e=e||{},nM.extend({},rM,e,{customStyleMap:aM(e.styleMap),readStyleMap:function(){var e=this.customStyleMap;return this.includeEmbeddedStyleMap&&(e=e.concat(aM(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(e=e.concat(iM)),e}})}},nM=M_,iM=tM._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],rM=tM._standardOptions={externalFileAccess:!1,transformDocument:function(e){return e},includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function aM(e){return e?nM.isString(e)?e.split("\n").map(function(e){return e.trim()}).filter(function(e){return""!==e&&"#"!==e.charAt(0)}):e:[]}var sM={},oM=B_,cM=TA;sM.openZip=function(e){return e.arrayBuffer?oM.resolve(cM.openArrayBuffer(e.arrayBuffer)):oM.reject(new Error("Could not find file in options"))};var lM={},hM=US(),dM=TS();lM.element=function(e){return function(t){return dM.elementWithTag(hM.element(e),[t])}};var uM=M_,pM=R_,fM=sS,gM=vS.DocumentConverter,mM=nF.convertElementToRawText,bM=rF.readStyle,yM=tM.readOptions,vM=sM,xM=xA.Result;function wM(e,t){return t=yM(t),vM.openZip(e).tap(function(e){return fM.readStyleMap(e).then(function(e){t.embeddedStyleMap=e})}).then(function(n){return pM.read(n,e,t).then(function(e){return e.map(t.transformDocument)}).then(function(e){return function(e,t){var n=(a=t.readStyleMap(),xM.combine((a||[]).map(bM)).map(function(e){return e.filter(function(e){return!!e})})),i=uM.extend({},t,{styleMap:n.value}),r=new gM(i);var a;return e.flatMapThen(function(e){return n.flatMapThen(function(t){return r.convertToHtml(e)})})}(e,t)})})}Yy.convertToHtml=function(e,t){return wM(e,t)},Yy.convertToMarkdown=function(e,t){var n=Object.create(t||{});return n.outputFormat="markdown",wM(e,n)},Yy.convert=wM,Yy.extractRawText=function(e){return vM.openZip(e).then(pM.read).then(function(e){return e.map(mM)})},Yy.images=ES,Yy.transforms=Hk,Yy.underline=lM,Yy.embedStyleMap=function(e,t){return vM.openZip(e).tap(function(e){return fM.writeStyleMap(e,t)}).then(function(e){return e.toArrayBuffer()}).then(function(e){return{toArrayBuffer:function(){return e},toBuffer:function(){return Buffer.from(e)}}})},Yy.readEmbeddedStyleMap=function(e){return vM.openZip(e).then(fM.readStyleMap)},Yy.styleMapping=function(){throw new Error("Use a raw string instead of mammoth.styleMapping e.g. \"p[style-name='Title'] => h1\" instead of mammoth.styleMapping(\"p[style-name='Title'] => h1\")")};const _M={class:"ai-assistant"},DM={class:"assistant-header"},AM={class:"assistant-body"},TM={class:"assistant-upload"},UM={class:"upload-header"},EM={class:"upload-actions"},kM={key:0,class:"upload-hint"},CM={key:1,class:"doc-list"},SM={class:"doc-meta"},FM={key:2,class:"upload-error"},MM={key:0,class:"assistant-empty"},WM={class:"message-bubble"},IM={class:"message-content"},PM={class:"message-meta"},RM={class:"message-time"},BM={key:1,class:"assistant-message assistant"},NM={key:0,class:"assistant-suggestions"},OM={class:"suggestion-list"},LM={class:"assistant-footer"},jM={class:"assistant-actions"},zM={class:"assistant-action-buttons"},HM={key:0,class:"assistant-hint"},qM=uu({__name:"AiAssistant",setup(e){const t=pu(!1),n=pu(""),i=pu(!1),r=pu(""),a=pu([]),s=pu(""),o=pu([]),c=pu([]),l=pu(""),h=pu(null),d=pu(null),u=pu(""),p=pu(!1),f=["AHI ","","CPAP  APAP ",""],g=fu(()=>`ai-chat-history:${s.value}`),m=fu(()=>o.value.filter(e=>c.value.includes(e.id))),b=fu(()=>!n.value.trim()||i.value),y=fu(()=>p.value?"100%":"440px"),v=()=>{localStorage.setItem(g.value,JSON.stringify(a.value))},x=()=>{const e=new Date;return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`},w=(e,t)=>{const n=e.toLowerCase();return t.reduce((e,t)=>n.includes(t)?e+1:e,0)},_=()=>{var e;l.value="",null==(e=h.value)||e.click()},D=async e=>{(()=>{try{Nm.workerSrc=new URL("/assets/pdf.worker.min-LyOxJPrg.mjs",import.meta.url).toString()}catch(e){}})();const t=new Uint8Array(await e.arrayBuffer()),n=await gb({data:t}).promise,i=[];for(let l=1;l<=n.numPages;l+=1){const e=await n.getPage(l),t=(await e.getTextContent()).items.map(e=>e.str).join(" ");i.push(t)}const r=i.join("\n").trim();if(r.length>=40)return r;const{createWorker:a}=await au(async()=>{const{createWorker:e}=await import("./index-6YbSnl88.js").then(e=>e.i);return{createWorker:e}},[]),s=await a("chi_sim+eng"),o=Math.min(n.numPages,5),c=[];for(let l=1;l<=o;l+=1){const e=await n.getPage(l),t=e.getViewport({scale:1.5}),i=document.createElement("canvas");if(!i.getContext("2d"))continue;i.width=t.width,i.height=t.height,await e.render({canvas:i,viewport:t}).promise;const{data:r}=await s.recognize(i);(null==r?void 0:r.text)&&c.push(r.text)}await s.terminate();return c.join("\n").trim()||r},A=async e=>{const t=e.name.toLowerCase();return t.endsWith(".pdf")?D(e):t.endsWith(".docx")?(async e=>(await Yy.extractRawText({arrayBuffer:await e.arrayBuffer()})).value||"")(e):t.endsWith(".pptx")?(async e=>{const t=await Xy.loadAsync(await e.arrayBuffer()),n=Object.keys(t.files).filter(e=>e.startsWith("ppt/slides/slide")),i=[];for(const r of n){const e=await t.files[r].async("string");Array.from(e.matchAll(/<a:t>(.*?)<\/a:t>/g)).forEach(e=>i.push(e[1]))}return i.join("\n")})(e):t.endsWith(".txt")?(async e=>e.text())(e):t.match(/\.(jpg|jpeg|png|webp)$/)?(async e=>{const{createWorker:t}=await au(async()=>{const{createWorker:e}=await import("./index-6YbSnl88.js").then(e=>e.i);return{createWorker:e}},[]),n=await t("chi_sim+eng"),{data:i}=await n.recognize(e);return await n.terminate(),i.text||""})(e):""},T=async e=>{var t;const n=e.target,i=null==(t=n.files)?void 0:t[0];if(i){if(l.value="",i.size>20971520)return l.value=" 20MB ",void(n.value="");try{const e=await A(i),t={id:`doc-${Date.now()}-${Math.random().toString(16).slice(2,6)}`,name:i.name,type:i.type||"unknown",size:i.size,createdAt:Date.now(),text:e.trim()};await(async e=>{const t=await Ru();return new Promise((n,i)=>{const r=t.transaction(Pu,"readwrite");r.objectStore(Pu).put(e),r.oncomplete=()=>n(),r.onerror=()=>i(r.error)})})(t),o.value=await Bu(),c.value=o.value.map(e=>e.id)}catch(r){l.value=""}finally{n.value=""}}},U=async e=>{await(async e=>{const t=await Ru();return new Promise((n,i)=>{const r=t.transaction(Pu,"readwrite");r.objectStore(Pu).delete(e),r.oncomplete=()=>n(),r.onerror=()=>i(r.error)})})(e),o.value=await Bu(),c.value=c.value.filter(t=>t!==e)},E=async()=>{await(async()=>{const e=await Ru();return new Promise((t,n)=>{const i=e.transaction(Pu,"readwrite");i.objectStore(Pu).clear(),i.oncomplete=()=>t(),i.onerror=()=>n(i.error)})})(),o.value=[],c.value=[]},k=()=>{Fu(()=>{d.value&&(d.value.scrollTop=d.value.scrollHeight)})},C=()=>{p.value=window.innerWidth<=768},S=(e,t)=>{if(!(null==t?void 0:t.length))return e;return`${e}\n\n\n${t.slice(0,4).map((e,t)=>`${t+1}. ${e}`).join("\n")}`},F=async e=>{const t=(e??n.value).trim();if(t&&!i.value){r.value="",i.value=!0,u.value=t,a.value.push({id:`user-${Date.now()}`,role:"user",content:t,time:x()}),n.value="",v(),k();try{o.value.length&&!c.value.length&&(c.value=o.value.map(e=>e.id));const e=m.value.map(e=>`${e.name}\n${e.text.slice(0,3e3)}`).join("\n\n").slice(0,8e3),n=((e,t)=>{const n=e.toLowerCase().split(/[\s,;/\\|]+/).filter(Boolean).slice(0,8);if(!n.length)return"";const i=[...ou,...cu].map(e=>{const t=`${e.title} ${e.summary} ${(e.keywords||[]).join(" ")}`;return{item:e,score:w(t,n)}}).filter(e=>e.score>0).sort((e,t)=>t.score-e.score).slice(0,4);return i.length?[i.map(({item:e})=>{const t=(e.keyPoints||[]).slice(0,4).join("");return`${e.title}\n${e.summary}\n${t||""}`}).join("\n\n"),t].filter(Boolean).join("\n\n"):""})(t,e?`\n${e}`:o.value.length?"":""),i={sessionId:s.value,context:n,source:"airivo-web",messages:a.value.map(e=>({role:e.role,content:e.content}))},r=await(async e=>{if(!Iu)throw new Error("AI endpoint not configured");const t=await fetch(Iu,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`AI request failed: ${t.status}`);return t.json()})(i);a.value.push({id:`assistant-${Date.now()}`,role:"assistant",content:S(r.reply||"",r.sources),time:x()}),v(),k()}catch(l){r.value="AI ",a.value.push({id:`assistant-error-${Date.now()}`,role:"assistant",content:"",time:x()}),v(),k()}finally{i.value=!1}}},M=()=>{a.value=[],r.value="",v()},W=()=>{u.value&&!i.value&&F(u.value)},I=e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),F())};return gu(()=>a.value.length,k),gu(i,k),gu(t,e=>{e&&k()}),mu(()=>{C(),window.addEventListener("resize",C),(()=>{const e=localStorage.getItem("ai-chat-session");if(e)return void(s.value=e);const t=`session-${Date.now()}-${Math.random().toString(16).slice(2,8)}`;s.value=t,localStorage.setItem("ai-chat-session",t)})(),(()=>{const e=localStorage.getItem(g.value);if(e)try{a.value=JSON.parse(e)}catch(t){a.value=[]}})(),Bu().then(e=>{o.value=e,c.value=e.map(e=>e.id)})}),bu(()=>{window.removeEventListener("resize",C)}),(e,s)=>{const p=yu("el-button"),g=yu("el-tag"),m=yu("el-checkbox"),v=yu("el-input"),x=yu("el-drawer");return xu(),vu("div",_M,[wu(p,{class:"assistant-trigger",type:"primary",onClick:s[0]||(s[0]=e=>t.value=!0)},{default:_u(()=>[...s[5]||(s[5]=[Du(" AI  ",-1)])]),_:1}),wu(x,{modelValue:t.value,"onUpdate:modelValue":s[4]||(s[4]=e=>t.value=e),size:y.value,direction:"rtl",class:"assistant-drawer"},{header:_u(()=>[Au("div",DM,[s[7]||(s[7]=Au("div",null,[Au("h3",null," AI "),Au("p",null,"")],-1)),wu(g,{size:"small",type:"info"},{default:_u(()=>[...s[6]||(s[6]=[Du("",-1)])]),_:1})])]),default:_u(()=>[Au("div",AM,[s[18]||(s[18]=Au("div",{class:"assistant-notice"},"  ",-1)),Au("div",TM,[Au("div",UM,[s[9]||(s[9]=Au("span",null,"/",-1)),wu(g,{size:"small",type:"info"},{default:_u(()=>[...s[8]||(s[8]=[Du("",-1)])]),_:1})]),Au("div",EM,[wu(p,{size:"small",onClick:_},{default:_u(()=>[...s[10]||(s[10]=[Du("",-1)])]),_:1}),wu(p,{size:"small",text:"",onClick:E,disabled:!o.value.length},{default:_u(()=>[...s[11]||(s[11]=[Du("",-1)])]),_:1},8,["disabled"]),Au("input",{ref_key:"fileInput",ref:h,type:"file",class:"hidden-input",accept:".pdf,.docx,.pptx,.txt,.jpg,.jpeg,.png,.webp",onChange:T},null,544)]),s[13]||(s[13]=Au("p",{class:"upload-hint"}," PDF/DOCX/PPTX/TXT/  20MB",-1)),o.value.length?(xu(),vu("p",kM," "+Uu(c.value.length)+" / "+Uu(o.value.length)+" ",1)):Tu("",!0),o.value.length?(xu(),vu("div",CM,[(xu(!0),vu(Eu,null,ku(o.value,e=>{return xu(),vu("div",{class:"doc-item",key:e.id},[wu(m,{modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=e=>c.value=e),label:e.id},{default:_u(()=>[Du(Uu(e.name),1)]),_:2},1032,["modelValue","label"]),Au("span",SM,Uu((t=e.size,t<1024?`${t}B`:t<1048576?`${(t/1024).toFixed(1)}KB`:`${(t/1048576).toFixed(1)}MB`)),1),wu(p,{text:"",size:"small",onClick:t=>U(e.id)},{default:_u(()=>[...s[12]||(s[12]=[Du("",-1)])]),_:1},8,["onClick"])]);var t}),128))])):Tu("",!0),l.value?(xu(),vu("p",FM,Uu(l.value),1)):Tu("",!0)]),Au("div",{ref_key:"messagesContainer",ref:d,class:"assistant-messages"},[a.value.length||i.value?Tu("",!0):(xu(),vu("div",MM,[...s[14]||(s[14]=[Au("p",null,"",-1)])])),(xu(!0),vu(Eu,null,ku(a.value,e=>(xu(),vu("div",{key:e.id,class:Cu(["assistant-message",e.role])},[Au("div",WM,[Au("p",IM,Uu(e.content),1),Au("div",PM,[Au("span",RM,Uu(e.time),1),"assistant"===e.role?(xu(),Su(p,{key:0,text:"",size:"small",onClick:t=>(async e=>{try{await navigator.clipboard.writeText(e),Mu.success("")}catch(t){Mu.error("")}})(e.content)},{default:_u(()=>[...s[15]||(s[15]=[Du("  ",-1)])]),_:1},8,["onClick"])):Tu("",!0)])])],2))),128)),i.value?(xu(),vu("div",BM,[...s[16]||(s[16]=[Au("div",{class:"message-bubble typing"},[Au("span",{class:"typing-dot"}),Au("span",{class:"typing-dot"}),Au("span",{class:"typing-dot"})],-1)])])):Tu("",!0)],512),a.value.length?Tu("",!0):(xu(),vu("div",NM,[s[17]||(s[17]=Au("p",null,"",-1)),Au("div",OM,[(xu(),vu(Eu,null,ku(f,e=>wu(p,{key:e,size:"small",onClick:t=>(e=>{F(e)})(e)},{default:_u(()=>[Du(Uu(e),1)]),_:2},1032,["onClick"])),64))])]))]),Au("div",LM,[wu(v,{modelValue:n.value,"onUpdate:modelValue":s[2]||(s[2]=e=>n.value=e),type:"textarea",autosize:{minRows:2,maxRows:6},placeholder:"AHI ",onKeydown:I},null,8,["modelValue"]),Au("div",jM,[s[22]||(s[22]=Au("span",{class:"assistant-shortcut"},"Enter   Shift+Enter ",-1)),Au("div",zM,[wu(p,{size:"small",onClick:M},{default:_u(()=>[...s[19]||(s[19]=[Du("",-1)])]),_:1}),wu(p,{size:"small",disabled:!u.value||i.value,onClick:W},{default:_u(()=>[...s[20]||(s[20]=[Du("",-1)])]),_:1},8,["disabled"]),wu(p,{type:"primary",size:"small",loading:i.value,disabled:b.value,onClick:s[3]||(s[3]=e=>F())},{default:_u(()=>[...s[21]||(s[21]=[Du("  ",-1)])]),_:1},8,["loading","disabled"])])]),r.value?(xu(),vu("p",HM,Uu(r.value),1)):Tu("",!0)])]),_:1},8,["modelValue","size"])])}}}),VM=su(qM,[["__scopeId","data-v-d0b46e27"]]),$M=Object.freeze(Object.defineProperty({__proto__:null,default:VM},Symbol.toStringTag,{value:"Module"}));export{$M as A,Vy as c};
