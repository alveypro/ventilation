const t=t=>{const s=t.split("\n"),h=[];let r=!1,i=!1,u=null;const p=()=>{r&&(h.push("</ul>"),r=!1),i&&(h.push("</ol>"),i=!1)},e=()=>{if(!u)return;const[t,s,...r]=u;t&&s&&s.every(t=>/^-+$/.test(t))?(h.push("<table><thead><tr>"),t.forEach(t=>h.push(`<th>${t}</th>`)),h.push("</tr></thead><tbody>"),r.forEach(t=>{h.push("<tr>"),t.forEach(t=>h.push(`<td>${t}</td>`)),h.push("</tr>")}),h.push("</tbody></table>")):(h.push("<table><tbody>"),u.forEach(t=>{h.push("<tr>"),t.forEach(t=>h.push(`<td>${t}</td>`)),h.push("</tr>")}),h.push("</tbody></table>")),u=null},l=t=>t.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),o=t=>t.trim().startsWith("|")&&t.includes("|");for(let n=0;n<s.length;n+=1){const t=s[n],c=t.trim();if(!c){p(),e();continue}if(o(t)){p();const h=t.trim().replace(/^\|/,"").replace(/\|$/,"").split("|").map(t=>t.trim());u||(u=[]),u.push(h);const r=s[n+1];r&&o(r)||e();continue}if(e(),c.startsWith("# ")){p(),h.push(`<h2>${l(c.slice(2).trim())}</h2>`);continue}if(c.startsWith("## ")){p(),h.push(`<h3>${l(c.slice(3).trim())}</h3>`);continue}if(c.startsWith("### ")){p(),h.push(`<h4>${l(c.slice(4).trim())}</h4>`);continue}const a=c.match(/^(\d+)\.\s+(.+)/);a?(i||(p(),h.push("<ol>"),i=!0),h.push(`<li>${l(a[2])}</li>`)):c.startsWith("- ")?(r||(p(),h.push("<ul>"),r=!0),h.push(`<li>${l(c.slice(2).trim())}</li>`)):(p(),h.push(`<p>${l(c)}</p>`))}return p(),e(),h.join("")};export{t as r};
