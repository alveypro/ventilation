<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>呼吸机之家 - 专业呼吸机选购与使用指南</title>
    <!-- Element UI CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 自定义样式 -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="app">
        <!-- 顶部导航 -->
        <el-header class="header">
            <div class="header-content">
                <div class="logo">
                    <i class="el-icon-s-cooperation"></i>
                    <span>呼吸机之家</span>
                </div>
                <el-menu :default-active="activeMenu" mode="horizontal" @select="handleMenuSelect" background-color="#409EFF" text-color="#fff" active-text-color="#ffd04b">
                    <el-menu-item index="home">首页</el-menu-item>
                    <el-menu-item index="products">产品库</el-menu-item>
                    <el-menu-item index="reviews">测评中心</el-menu-item>
                    <el-menu-item index="diseases">疾病指南</el-menu-item>
                    <el-menu-item index="selector">智能选机</el-menu-item>
                    <el-menu-item index="tutorials">使用教程</el-menu-item>
                </el-menu>
            </div>
        </el-header>

        <!-- 主内容区域 -->
        <el-main class="main-content">

            <!-- 首页 -->
            <div v-show="activeMenu === 'home'" class="page-section">
                <!-- 轮播图 -->
                <el-carousel :interval="5000" height="400px" class="banner-carousel">
                    <el-carousel-item v-for="banner in banners" :key="banner.id">
                        <div class="banner-item" :style="{ backgroundColor: banner.color }">
                            <h2>{{ banner.title }}</h2>
                            <p>{{ banner.desc }}</p>
                            <el-button type="warning" @click="handleMenuSelect(banner.link)">{{ banner.btnText }}</el-button>
                        </div>
                    </el-carousel-item>
                </el-carousel>

                <!-- 快速入口 -->
                <div class="quick-entry">
                    <el-row :gutter="20">
                        <el-col :span="6" v-for="entry in quickEntries" :key="entry.id">
                            <el-card shadow="hover" class="entry-card" @click.native="handleMenuSelect(entry.link)">
                                <i :class="entry.icon"></i>
                                <h3>{{ entry.title }}</h3>
                                <p>{{ entry.desc }}</p>
                            </el-card>
                        </el-col>
                    </el-row>
                </div>

                <!-- 热门产品推荐 -->
                <div class="section-block">
                    <h2 class="section-title"><i class="el-icon-star-on"></i> 热门产品推荐</h2>
                    <el-row :gutter="20">
                        <el-col :span="6" v-for="product in hotProducts" :key="product.id">
                            <el-card shadow="hover" class="product-card">
                                <div class="product-image">
                                    <div class="placeholder-img">{{ product.brand }}</div>
                                    <el-tag v-if="product.tag" :type="product.tagType" class="product-tag">{{ product.tag }}</el-tag>
                                </div>
                                <div class="product-info">
                                    <h4>{{ product.name }}</h4>
                                    <p class="product-type">{{ product.type }}</p>
                                    <div class="product-rating">
                                        <el-rate v-model="product.rating" disabled></el-rate>
                                        <span class="rating-count">({{ product.reviewCount }}条评价)</span>
                                    </div>
                                    <div class="product-price">
                                        <span class="price">¥{{ product.price }}</span>
                                        <el-button type="primary" size="mini" @click="viewProductDetail(product)">查看详情</el-button>
                                    </div>
                                </div>
                            </el-card>
                        </el-col>
                    </el-row>
                </div>

                <!-- 最新测评 -->
                <div class="section-block">
                    <h2 class="section-title"><i class="el-icon-document"></i> 最新测评</h2>
                    <el-row :gutter="20">
                        <el-col :span="8" v-for="review in latestReviews.slice(0, 3)" :key="review.id">
                            <el-card shadow="hover" class="review-card" @click.native="viewReviewDetail(review)">
                                <div class="review-header">
                                    <el-tag size="small" :type="review.tagType">{{ review.category }}</el-tag>
                                    <span class="review-date">{{ review.date }}</span>
                                </div>
                                <h4>{{ review.title }}</h4>
                                <p class="review-summary">{{ review.summary }}</p>
                                <div class="review-scores">
                                    <span v-for="(score, key) in review.scores" :key="key">
                                        {{ getScoreName(key) }}: {{ score }}分
                                    </span>
                                </div>
                            </el-card>
                        </el-col>
                    </el-row>
                </div>
            </div>

            <!-- 产品库 -->
            <div v-show="activeMenu === 'products'" class="page-section">
                <div class="page-header">
                    <h1>产品库</h1>
                    <p>收录各大品牌呼吸机，详细参数对比，帮您找到最合适的机器</p>
                </div>

                <!-- 筛选条件 -->
                <el-card class="filter-card">
                    <el-form :inline="true" :model="productFilter">
                        <el-form-item label="品牌">
                            <el-select v-model="productFilter.brand" placeholder="选择品牌" clearable>
                                <el-option v-for="brand in brands" :key="brand" :label="brand" :value="brand"></el-option>
                            </el-select>
                        </el-form-item>
                        <el-form-item label="类型">
                            <el-select v-model="productFilter.type" placeholder="选择类型" clearable>
                                <el-option v-for="type in productTypes" :key="type.value" :label="type.label" :value="type.value"></el-option>
                            </el-select>
                        </el-form-item>
                        <el-form-item label="适用人群">
                            <el-select v-model="productFilter.target" placeholder="选择适用人群" clearable>
                                <el-option label="睡眠呼吸暂停" value="sleep_apnea"></el-option>
                                <el-option label="慢阻肺/肺病" value="copd"></el-option>
                                <el-option label="心衰" value="heart_failure"></el-option>
                                <el-option label="神经肌肉疾病" value="neuromuscular"></el-option>
                            </el-select>
                        </el-form-item>
                        <el-form-item label="价格区间">
                            <el-select v-model="productFilter.priceRange" placeholder="选择价格区间" clearable>
                                <el-option label="3000元以下" value="0-3000"></el-option>
                                <el-option label="3000-5000元" value="3000-5000"></el-option>
                                <el-option label="5000-8000元" value="5000-8000"></el-option>
                                <el-option label="8000-15000元" value="8000-15000"></el-option>
                                <el-option label="15000元以上" value="15000-999999"></el-option>
                            </el-select>
                        </el-form-item>
                        <el-form-item>
                            <el-button type="primary" @click="filterProducts">筛选</el-button>
                            <el-button @click="resetProductFilter">重置</el-button>
                        </el-form-item>
                    </el-form>
                </el-card>

                <!-- 产品列表 -->
                <el-row :gutter="20" class="product-list">
                    <el-col :span="6" v-for="product in filteredProducts" :key="product.id">
                        <el-card shadow="hover" class="product-card">
                            <div class="product-image">
                                <div class="placeholder-img">{{ product.brand }}</div>
                                <el-tag v-if="product.tag" :type="product.tagType" class="product-tag">{{ product.tag }}</el-tag>
                            </div>
                            <div class="product-info">
                                <h4>{{ product.name }}</h4>
                                <p class="product-type">{{ product.type }} | {{ product.brand }}</p>
                                <div class="product-specs">
                                    <el-tag size="mini" type="info" v-for="spec in product.highlights.slice(0, 2)" :key="spec">{{ spec }}</el-tag>
                                </div>
                                <div class="product-rating">
                                    <el-rate v-model="product.rating" disabled></el-rate>
                                </div>
                                <div class="product-price">
                                    <span class="price">¥{{ product.price }}</span>
                                    <el-button type="primary" size="mini" @click="viewProductDetail(product)">详情</el-button>
                                    <el-button type="success" size="mini" @click="addToCompare(product)">对比</el-button>
                                </div>
                            </div>
                        </el-card>
                    </el-col>
                </el-row>

                <!-- 产品对比区 -->
                <el-card v-if="compareList.length > 0" class="compare-bar">
                    <div class="compare-header">
                        <span>产品对比 ({{ compareList.length }}/4)</span>
                        <el-button type="primary" size="small" @click="showCompareDialog = true" :disabled="compareList.length < 2">开始对比</el-button>
                        <el-button size="small" @click="clearCompare">清空</el-button>
                    </div>
                    <div class="compare-items">
                        <div class="compare-item" v-for="item in compareList" :key="item.id">
                            <span>{{ item.name }}</span>
                            <i class="el-icon-close" @click="removeFromCompare(item)"></i>
                        </div>
                    </div>
                </el-card>
            </div>

            <!-- 测评中心 -->
            <div v-show="activeMenu === 'reviews'" class="page-section">
                <div class="page-header">
                    <h1>测评中心</h1>
                    <p>专业客观的呼吸机测评，真实用户体验分享</p>
                </div>

                <!-- 测评分类 -->
                <el-tabs v-model="reviewTab" class="review-tabs">
                    <el-tab-pane label="全部测评" name="all"></el-tab-pane>
                    <el-tab-pane label="单品测评" name="single"></el-tab-pane>
                    <el-tab-pane label="横向对比" name="compare"></el-tab-pane>
                    <el-tab-pane label="用户评测" name="user"></el-tab-pane>
                </el-tabs>

                <!-- 测评列表 -->
                <el-row :gutter="20">
                    <el-col :span="8" v-for="review in filteredReviews" :key="review.id">
                        <el-card shadow="hover" class="review-detail-card" @click.native="viewReviewDetail(review)">
                            <div class="review-cover" :style="{ backgroundColor: review.coverColor || '#409EFF' }">
                                <span class="review-type">{{ review.category }}</span>
                            </div>
                            <div class="review-content">
                                <h3>{{ review.title }}</h3>
                                <p>{{ review.summary }}</p>
                                <div class="review-meta">
                                    <span><i class="el-icon-user"></i> {{ review.author }}</span>
                                    <span><i class="el-icon-time"></i> {{ review.date }}</span>
                                    <span><i class="el-icon-view"></i> {{ review.views }}</span>
                                </div>
                                <div class="review-overall-score">
                                    <span class="score-label">综合评分</span>
                                    <span class="score-value">{{ review.overallScore }}</span>
                                </div>
                            </div>
                        </el-card>
                    </el-col>
                </el-row>
            </div>

            <!-- 疾病指南 -->
            <div v-show="activeMenu === 'diseases'" class="page-section">
                <div class="page-header">
                    <h1>疾病指南</h1>
                    <p>了解不同疾病需要什么样的呼吸机，以及推荐的参数设置</p>
                </div>

                <el-row :gutter="20">
                    <el-col :span="6" v-for="disease in diseases" :key="disease.id">
                        <el-card shadow="hover" class="disease-card" @click.native="viewDiseaseDetail(disease)">
                            <div class="disease-icon" :style="{ backgroundColor: disease.color }">
                                <i :class="disease.icon"></i>
                            </div>
                            <h3>{{ disease.name }}</h3>
                            <p>{{ disease.shortDesc }}</p>
                            <div class="disease-tags">
                                <el-tag size="small" type="info" v-for="machine in disease.recommendedTypes.slice(0, 2)" :key="machine">{{ machine }}</el-tag>
                            </div>
                        </el-card>
                    </el-col>
                </el-row>

                <!-- 疾病详情弹窗 -->
                <el-dialog :title="currentDisease.name" :visible.sync="showDiseaseDialog" width="70%">
                    <div class="disease-detail" v-if="currentDisease.id">
                        <el-row :gutter="30">
                            <el-col :span="12">
                                <h4>疾病介绍</h4>
                                <p>{{ currentDisease.description }}</p>

                                <h4>症状表现</h4>
                                <ul>
                                    <li v-for="symptom in currentDisease.symptoms" :key="symptom">{{ symptom }}</li>
                                </ul>
                            </el-col>
                            <el-col :span="12">
                                <h4>推荐呼吸机类型</h4>
                                <div class="recommend-types">
                                    <el-tag v-for="type in currentDisease.recommendedTypes" :key="type" type="success" class="recommend-tag">{{ type }}</el-tag>
                                </div>

                                <h4>推荐参数设置</h4>
                                <el-table :data="currentDisease.parameterGuide" border size="small">
                                    <el-table-column prop="param" label="参数" width="150"></el-table-column>
                                    <el-table-column prop="range" label="推荐范围"></el-table-column>
                                    <el-table-column prop="note" label="说明"></el-table-column>
                                </el-table>

                                <h4 style="margin-top: 20px;">推荐产品</h4>
                                <div class="recommend-products">
                                    <el-card v-for="pid in currentDisease.recommendedProducts" :key="pid" class="mini-product-card" @click.native="viewProductById(pid)">
                                        {{ getProductName(pid) }}
                                    </el-card>
                                </div>
                            </el-col>
                        </el-row>
                    </div>
                </el-dialog>
            </div>

            <!-- 智能选机 -->
            <div v-show="activeMenu === 'selector'" class="page-section">
                <div class="page-header">
                    <h1>智能选机</h1>
                    <p>回答几个简单问题，为您推荐最合适的呼吸机</p>
                </div>

                <el-card class="selector-card">
                    <!-- 问答步骤 -->
                    <el-steps :active="selectorStep" finish-status="success" align-center class="selector-steps">
                        <el-step title="使用目的"></el-step>
                        <el-step title="病情信息"></el-step>
                        <el-step title="使用偏好"></el-step>
                        <el-step title="预算范围"></el-step>
                        <el-step title="查看推荐"></el-step>
                    </el-steps>

                    <!-- 步骤1：使用目的 -->
                    <div v-show="selectorStep === 0" class="selector-question">
                        <h3>您使用呼吸机的主要目的是什么？</h3>
                        <el-radio-group v-model="selectorAnswers.purpose" class="purpose-options">
                            <el-radio-button label="sleep_apnea">
                                <div class="option-content">
                                    <i class="el-icon-moon"></i>
                                    <span>治疗睡眠呼吸暂停/打鼾</span>
                                </div>
                            </el-radio-button>
                            <el-radio-button label="copd">
                                <div class="option-content">
                                    <i class="el-icon-first-aid-kit"></i>
                                    <span>慢阻肺/慢性肺病</span>
                                </div>
                            </el-radio-button>
                            <el-radio-button label="heart_failure">
                                <div class="option-content">
                                    <i class="el-icon-s-opportunity"></i>
                                    <span>心力衰竭辅助治疗</span>
                                </div>
                            </el-radio-button>
                            <el-radio-button label="neuromuscular">
                                <div class="option-content">
                                    <i class="el-icon-s-custom"></i>
                                    <span>神经肌肉疾病</span>
                                </div>
                            </el-radio-button>
                            <el-radio-button label="other">
                                <div class="option-content">
                                    <i class="el-icon-question"></i>
                                    <span>其他/不确定</span>
                                </div>
                            </el-radio-button>
                        </el-radio-group>
                    </div>

                    <!-- 步骤2：病情信息 -->
                    <div v-show="selectorStep === 1" class="selector-question">
                        <h3>请提供更多病情信息</h3>

                        <div v-if="selectorAnswers.purpose === 'sleep_apnea'" class="condition-form">
                            <el-form label-width="140px">
                                <el-form-item label="AHI指数">
                                    <el-select v-model="selectorAnswers.ahiLevel" placeholder="请选择">
                                        <el-option label="轻度 (5-15次/小时)" value="mild"></el-option>
                                        <el-option label="中度 (15-30次/小时)" value="moderate"></el-option>
                                        <el-option label="重度 (>30次/小时)" value="severe"></el-option>
                                        <el-option label="不清楚" value="unknown"></el-option>
                                    </el-select>
                                </el-form-item>
                                <el-form-item label="是否有中枢性暂停">
                                    <el-radio-group v-model="selectorAnswers.hasCentral">
                                        <el-radio :label="true">是</el-radio>
                                        <el-radio :label="false">否</el-radio>
                                        <el-radio :label="null">不清楚</el-radio>
                                    </el-radio-group>
                                </el-form-item>
                            </el-form>
                        </div>

                        <div v-else-if="selectorAnswers.purpose === 'copd'" class="condition-form">
                            <el-form label-width="140px">
                                <el-form-item label="肺功能分级">
                                    <el-select v-model="selectorAnswers.copdLevel" placeholder="请选择">
                                        <el-option label="轻度 (FEV1≥80%)" value="mild"></el-option>
                                        <el-option label="中度 (50%≤FEV1<80%)" value="moderate"></el-option>
                                        <el-option label="重度 (30%≤FEV1<50%)" value="severe"></el-option>
                                        <el-option label="极重度 (FEV1<30%)" value="very_severe"></el-option>
                                        <el-option label="不清楚" value="unknown"></el-option>
                                    </el-select>
                                </el-form-item>
                                <el-form-item label="是否有二氧化碳潴留">
                                    <el-radio-group v-model="selectorAnswers.hasCO2Retention">
                                        <el-radio :label="true">是</el-radio>
                                        <el-radio :label="false">否</el-radio>
                                        <el-radio :label="null">不清楚</el-radio>
                                    </el-radio-group>
                                </el-form-item>
                            </el-form>
                        </div>

                        <div v-else class="condition-form">
                            <el-form label-width="140px">
                                <el-form-item label="病情严重程度">
                                    <el-select v-model="selectorAnswers.severityLevel" placeholder="请选择">
                                        <el-option label="轻度" value="mild"></el-option>
                                        <el-option label="中度" value="moderate"></el-option>
                                        <el-option label="重度" value="severe"></el-option>
                                        <el-option label="不清楚" value="unknown"></el-option>
                                    </el-select>
                                </el-form-item>
                            </el-form>
                        </div>
                    </div>

                    <!-- 步骤3：使用偏好 -->
                    <div v-show="selectorStep === 2" class="selector-question">
                        <h3>您的使用偏好是什么？</h3>
                        <el-form label-width="140px" class="preference-form">
                            <el-form-item label="使用场景">
                                <el-checkbox-group v-model="selectorAnswers.scenarios">
                                    <el-checkbox label="home">家庭日常使用</el-checkbox>
                                    <el-checkbox label="travel">经常出差旅行</el-checkbox>
                                    <el-checkbox label="hospital">医院/护理机构</el-checkbox>
                                </el-checkbox-group>
                            </el-form-item>
                            <el-form-item label="对噪音敏感度">
                                <el-radio-group v-model="selectorAnswers.noiseSensitivity">
                                    <el-radio label="high">非常敏感，需要极静音</el-radio>
                                    <el-radio label="medium">一般，能接受轻微噪音</el-radio>
                                    <el-radio label="low">不太在意噪音</el-radio>
                                </el-radio-group>
                            </el-form-item>
                            <el-form-item label="重要功能">
                                <el-checkbox-group v-model="selectorAnswers.features">
                                    <el-checkbox label="auto_adjust">自动调压</el-checkbox>
                                    <el-checkbox label="humidifier">加温加湿</el-checkbox>
                                    <el-checkbox label="data_tracking">数据追踪/APP</el-checkbox>
                                    <el-checkbox label="portable">便携轻便</el-checkbox>
                                    <el-checkbox label="battery">内置电池</el-checkbox>
                                </el-checkbox-group>
                            </el-form-item>
                        </el-form>
                    </div>

                    <!-- 步骤4：预算范围 -->
                    <div v-show="selectorStep === 3" class="selector-question">
                        <h3>您的预算范围是多少？</h3>
                        <el-radio-group v-model="selectorAnswers.budget" class="budget-options">
                            <el-radio-button label="low">
                                <div class="budget-content">
                                    <span class="budget-range">3000元以下</span>
                                    <span class="budget-desc">入门级产品</span>
                                </div>
                            </el-radio-button>
                            <el-radio-button label="medium">
                                <div class="budget-content">
                                    <span class="budget-range">3000-6000元</span>
                                    <span class="budget-desc">主流产品</span>
                                </div>
                            </el-radio-button>
                            <el-radio-button label="high">
                                <div class="budget-content">
                                    <span class="budget-range">6000-10000元</span>
                                    <span class="budget-desc">中高端产品</span>
                                </div>
                            </el-radio-button>
                            <el-radio-button label="premium">
                                <div class="budget-content">
                                    <span class="budget-range">10000元以上</span>
                                    <span class="budget-desc">高端旗舰</span>
                                </div>
                            </el-radio-button>
                        </el-radio-group>
                    </div>

                    <!-- 步骤5：推荐结果 -->
                    <div v-show="selectorStep === 4" class="selector-question">
                        <h3>为您推荐以下呼吸机</h3>
                        <div class="recommendation-result">
                            <el-row :gutter="20">
                                <el-col :span="8" v-for="(rec, index) in recommendedProducts" :key="rec.id">
                                    <el-card class="recommend-card" :class="{ 'best-match': index === 0 }">
                                        <div class="recommend-badge" v-if="index === 0">最佳推荐</div>
                                        <div class="recommend-badge secondary" v-else-if="index === 1">性价比之选</div>
                                        <div class="product-image">
                                            <div class="placeholder-img">{{ rec.brand }}</div>
                                        </div>
                                        <h4>{{ rec.name }}</h4>
                                        <p class="rec-type">{{ rec.type }}</p>
                                        <div class="match-score">
                                            <span>匹配度</span>
                                            <el-progress :percentage="rec.matchScore" :color="getMatchColor(rec.matchScore)"></el-progress>
                                        </div>
                                        <div class="rec-reasons">
                                            <p v-for="reason in rec.matchReasons" :key="reason">
                                                <i class="el-icon-check"></i> {{ reason }}
                                            </p>
                                        </div>
                                        <div class="rec-price">¥{{ rec.price }}</div>
                                        <el-button type="primary" @click="viewProductDetail(rec)">查看详情</el-button>
                                    </el-card>
                                </el-col>
                            </el-row>
                        </div>
                    </div>

                    <!-- 导航按钮 -->
                    <div class="selector-nav">
                        <el-button @click="prevSelectorStep" v-if="selectorStep > 0">上一步</el-button>
                        <el-button type="primary" @click="nextSelectorStep" v-if="selectorStep < 4">
                            {{ selectorStep === 3 ? '获取推荐' : '下一步' }}
                        </el-button>
                        <el-button type="success" @click="restartSelector" v-if="selectorStep === 4">重新选择</el-button>
                    </div>
                </el-card>
            </div>

            <!-- 使用教程 -->
            <div v-show="activeMenu === 'tutorials'" class="page-section">
                <div class="page-header">
                    <h1>使用教程</h1>
                    <p>从入门到精通，全面的呼吸机使用指南</p>
                </div>

                <!-- 教程分类 -->
                <el-tabs v-model="tutorialTab" class="tutorial-tabs">
                    <el-tab-pane label="新手入门" name="beginner"></el-tab-pane>
                    <el-tab-pane label="参数设置" name="settings"></el-tab-pane>
                    <el-tab-pane label="面罩选择" name="mask"></el-tab-pane>
                    <el-tab-pane label="清洁保养" name="maintenance"></el-tab-pane>
                    <el-tab-pane label="常见问题" name="faq"></el-tab-pane>
                </el-tabs>

                <!-- 教程内容 -->
                <el-row :gutter="20">
                    <el-col :span="16">
                        <div class="tutorial-list">
                            <el-card v-for="tutorial in filteredTutorials" :key="tutorial.id" class="tutorial-card" @click.native="viewTutorialDetail(tutorial)">
                                <div class="tutorial-icon" :style="{ backgroundColor: tutorial.color }">
                                    <i :class="tutorial.icon"></i>
                                </div>
                                <div class="tutorial-info">
                                    <h4>{{ tutorial.title }}</h4>
                                    <p>{{ tutorial.summary }}</p>
                                    <div class="tutorial-meta">
                                        <el-tag size="mini">{{ tutorial.level }}</el-tag>
                                        <span><i class="el-icon-time"></i> {{ tutorial.duration }}</span>
                                        <span><i class="el-icon-view"></i> {{ tutorial.views }}</span>
                                    </div>
                                </div>
                            </el-card>
                        </div>
                    </el-col>
                    <el-col :span="8">
                        <el-card class="tutorial-sidebar">
                            <h4>常见问题速查</h4>
                            <el-collapse accordion>
                                <el-collapse-item v-for="faq in faqs" :key="faq.id" :title="faq.question">
                                    {{ faq.answer }}
                                </el-collapse-item>
                            </el-collapse>
                        </el-card>
                    </el-col>
                </el-row>
            </div>

        </el-main>

        <!-- 产品详情弹窗 -->
        <el-dialog :title="currentProduct.name" :visible.sync="showProductDialog" width="80%">
            <div class="product-detail" v-if="currentProduct.id">
                <el-row :gutter="30">
                    <el-col :span="10">
                        <div class="detail-image">
                            <div class="placeholder-img large">{{ currentProduct.brand }}</div>
                        </div>
                        <div class="detail-tags">
                            <el-tag v-for="tag in currentProduct.highlights" :key="tag" type="success">{{ tag }}</el-tag>
                        </div>
                    </el-col>
                    <el-col :span="14">
                        <div class="detail-info">
                            <p class="detail-brand">{{ currentProduct.brand }}</p>
                            <h2>{{ currentProduct.name }}</h2>
                            <p class="detail-type">{{ currentProduct.type }}</p>
                            <div class="detail-rating">
                                <el-rate v-model="currentProduct.rating" disabled></el-rate>
                                <span>{{ currentProduct.reviewCount }}条评价</span>
                            </div>
                            <div class="detail-price">
                                <span class="price-label">参考价格</span>
                                <span class="price-value">¥{{ currentProduct.price }}</span>
                            </div>
                            <div class="detail-desc">
                                <h4>产品介绍</h4>
                                <p>{{ currentProduct.description }}</p>
                            </div>
                        </div>
                    </el-col>
                </el-row>
                <el-divider></el-divider>
                <div class="detail-specs">
                    <h4>详细参数</h4>
                    <el-table :data="formatSpecs(currentProduct.specs)" border>
                        <el-table-column prop="name" label="参数名" width="200"></el-table-column>
                        <el-table-column prop="value" label="参数值"></el-table-column>
                    </el-table>
                </div>
                <div class="detail-suitable">
                    <h4>适用人群</h4>
                    <el-tag v-for="target in currentProduct.suitableFor" :key="target" type="info" class="suitable-tag">{{ getSuitableName(target) }}</el-tag>
                </div>
            </div>
        </el-dialog>

        <!-- 测评详情弹窗 -->
        <el-dialog :title="currentReview.title" :visible.sync="showReviewDialog" width="80%" top="5vh">
            <div class="review-detail" v-if="currentReview.id">
                <div class="review-meta-info">
                    <span><i class="el-icon-user"></i> {{ currentReview.author }}</span>
                    <span><i class="el-icon-time"></i> {{ currentReview.date }}</span>
                    <span><i class="el-icon-view"></i> {{ currentReview.views }}次浏览</span>
                    <el-tag>{{ currentReview.category }}</el-tag>
                </div>

                <!-- 三维度评分体系 -->
                <div class="review-scores-detail" v-if="currentReview.clinicalScores || currentReview.userScores || currentReview.techScores">
                    <h4>三维度评分体系</h4>
                    <el-row :gutter="20">
                        <!-- 临床效果 -->
                        <el-col :span="8" v-if="currentReview.clinicalScores">
                            <el-card class="dimension-card clinical">
                                <div slot="header" class="dimension-header">
                                    <span class="dimension-title"><i class="el-icon-first-aid-kit"></i> 临床效果</span>
                                    <span class="dimension-avg">{{ calcDimensionAvg(currentReview.clinicalScores) }}</span>
                                </div>
                                <div class="dimension-scores">
                                    <div class="score-row" v-for="(score, key) in currentReview.clinicalScores" :key="key">
                                        <span class="score-label">{{ getScoreName(key) }}</span>
                                        <el-progress :percentage="score * 10" :color="'#67C23A'" :show-text="false"></el-progress>
                                        <span class="score-value">{{ score }}</span>
                                    </div>
                                </div>
                            </el-card>
                        </el-col>
                        <!-- 用户体验 -->
                        <el-col :span="8" v-if="currentReview.userScores">
                            <el-card class="dimension-card user">
                                <div slot="header" class="dimension-header">
                                    <span class="dimension-title"><i class="el-icon-user"></i> 用户体验</span>
                                    <span class="dimension-avg">{{ calcDimensionAvg(currentReview.userScores) }}</span>
                                </div>
                                <div class="dimension-scores">
                                    <div class="score-row" v-for="(score, key) in currentReview.userScores" :key="key">
                                        <span class="score-label">{{ getScoreName(key) }}</span>
                                        <el-progress :percentage="score * 10" :color="'#409EFF'" :show-text="false"></el-progress>
                                        <span class="score-value">{{ score }}</span>
                                    </div>
                                </div>
                            </el-card>
                        </el-col>
                        <!-- 技术质量 -->
                        <el-col :span="8" v-if="currentReview.techScores">
                            <el-card class="dimension-card tech">
                                <div slot="header" class="dimension-header">
                                    <span class="dimension-title"><i class="el-icon-cpu"></i> 技术质量</span>
                                    <span class="dimension-avg">{{ calcDimensionAvg(currentReview.techScores) }}</span>
                                </div>
                                <div class="dimension-scores">
                                    <div class="score-row" v-for="(score, key) in currentReview.techScores" :key="key">
                                        <span class="score-label">{{ getScoreName(key) }}</span>
                                        <el-progress :percentage="score * 10" :color="'#E6A23C'" :show-text="false"></el-progress>
                                        <span class="score-value">{{ score }}</span>
                                    </div>
                                </div>
                            </el-card>
                        </el-col>
                    </el-row>
                </div>

                <!-- 测试数据（如果有） -->
                <div class="test-data-section" v-if="currentReview.testData">
                    <h4><i class="el-icon-data-analysis"></i> 测试数据</h4>
                    <el-row :gutter="15">
                        <el-col :span="6" v-if="currentReview.testData.sampleSize">
                            <div class="data-item">
                                <span class="data-label">测试样本</span>
                                <span class="data-value">{{ currentReview.testData.sampleSize }}人</span>
                            </div>
                        </el-col>
                        <el-col :span="6" v-if="currentReview.testData.testDuration">
                            <div class="data-item">
                                <span class="data-label">测试周期</span>
                                <span class="data-value">{{ currentReview.testData.testDuration }}</span>
                            </div>
                        </el-col>
                        <el-col :span="6" v-if="currentReview.testData.ahiControlRate">
                            <div class="data-item">
                                <span class="data-label">AHI控制率</span>
                                <span class="data-value highlight">{{ currentReview.testData.ahiControlRate }}</span>
                            </div>
                        </el-col>
                        <el-col :span="6" v-if="currentReview.testData.noiseLevel">
                            <div class="data-item">
                                <span class="data-label">实测噪音</span>
                                <span class="data-value">{{ currentReview.testData.noiseLevel }}</span>
                            </div>
                        </el-col>
                        <el-col :span="6" v-if="currentReview.testData.avgAhiBefore">
                            <div class="data-item">
                                <span class="data-label">治疗前AHI</span>
                                <span class="data-value">{{ currentReview.testData.avgAhiBefore }}次/时</span>
                            </div>
                        </el-col>
                        <el-col :span="6" v-if="currentReview.testData.avgAhiAfter">
                            <div class="data-item">
                                <span class="data-label">治疗后AHI</span>
                                <span class="data-value highlight">{{ currentReview.testData.avgAhiAfter }}次/时</span>
                            </div>
                        </el-col>
                        <el-col :span="6" v-if="currentReview.testData.avgSpO2Before">
                            <div class="data-item">
                                <span class="data-label">治疗前血氧</span>
                                <span class="data-value">{{ currentReview.testData.avgSpO2Before }}</span>
                            </div>
                        </el-col>
                        <el-col :span="6" v-if="currentReview.testData.avgSpO2After">
                            <div class="data-item">
                                <span class="data-label">治疗后血氧</span>
                                <span class="data-value highlight">{{ currentReview.testData.avgSpO2After }}</span>
                            </div>
                        </el-col>
                    </el-row>
                </div>

                <el-divider></el-divider>

                <!-- 详细评测内容 -->
                <div class="review-content-full">
                    <div v-html="currentReview.content"></div>
                </div>

                <!-- 优缺点总结 -->
                <div class="review-pros-cons">
                    <el-row :gutter="20">
                        <el-col :span="12">
                            <div class="pros">
                                <h4><i class="el-icon-circle-check"></i> 优点</h4>
                                <ul>
                                    <li v-for="pro in currentReview.pros" :key="pro">{{ pro }}</li>
                                </ul>
                            </div>
                        </el-col>
                        <el-col :span="12">
                            <div class="cons">
                                <h4><i class="el-icon-circle-close"></i> 缺点</h4>
                                <ul>
                                    <li v-for="con in currentReview.cons" :key="con">{{ con }}</li>
                                </ul>
                            </div>
                        </el-col>
                    </el-row>
                </div>
            </div>
        </el-dialog>

        <!-- 教程详情弹窗 -->
        <el-dialog :title="currentTutorial.title" :visible.sync="showTutorialDialog" width="70%">
            <div class="tutorial-detail" v-if="currentTutorial.id">
                <div class="tutorial-meta-info">
                    <el-tag>{{ currentTutorial.level }}</el-tag>
                    <span><i class="el-icon-time"></i> {{ currentTutorial.duration }}</span>
                </div>
                <div class="tutorial-content-full">
                    <div v-html="currentTutorial.content"></div>
                </div>
                <div class="tutorial-steps" v-if="currentTutorial.steps">
                    <h4>操作步骤</h4>
                    <el-steps direction="vertical" :active="currentTutorial.steps.length">
                        <el-step v-for="(step, index) in currentTutorial.steps" :key="index" :title="step.title" :description="step.desc"></el-step>
                    </el-steps>
                </div>
            </div>
        </el-dialog>

        <!-- 产品对比弹窗 -->
        <el-dialog title="产品对比" :visible.sync="showCompareDialog" width="90%">
            <div class="compare-table" v-if="compareList.length >= 2">
                <el-table :data="compareTableData" border>
                    <el-table-column prop="feature" label="对比项" width="150" fixed></el-table-column>
                    <el-table-column v-for="product in compareList" :key="product.id" :label="product.name">
                        <template slot-scope="scope">
                            {{ scope.row[product.id] }}
                        </template>
                    </el-table-column>
                </el-table>
            </div>
        </el-dialog>

        <!-- 底部 -->
        <el-footer class="footer">
            <div class="footer-content">
                <el-row :gutter="40">
                    <el-col :span="8">
                        <h4>关于我们</h4>
                        <p>呼吸机之家致力于为用户提供专业、客观的呼吸机选购指南和使用教程，帮助每一位用户找到最适合自己的呼吸机。</p>
                    </el-col>
                    <el-col :span="8">
                        <h4>快速链接</h4>
                        <ul>
                            <li><a @click="handleMenuSelect('products')">产品库</a></li>
                            <li><a @click="handleMenuSelect('reviews')">测评中心</a></li>
                            <li><a @click="handleMenuSelect('selector')">智能选机</a></li>
                            <li><a @click="handleMenuSelect('tutorials')">使用教程</a></li>
                        </ul>
                    </el-col>
                    <el-col :span="8">
                        <h4>免责声明</h4>
                        <p>本网站提供的信息仅供参考，不构成医疗建议。使用呼吸机前请咨询专业医生。</p>
                    </el-col>
                </el-row>
                <el-divider></el-divider>
                <p class="copyright">© 2024 呼吸机之家 - 专业呼吸机选购与使用指南</p>
            </div>
        </el-footer>
    </div>

    <!-- Vue.js -->
    <script src="https://unpkg.com/vue@2/dist/vue.js"></script>
    <!-- Element UI -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <!-- 数据文件 -->
    <script src="js/data.js"></script>
    <!-- 主应用 -->
    <script src="js/app.js"></script>
</body>
</html>
